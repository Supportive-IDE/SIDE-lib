!function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return r(t[s][1][e]||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Block=void 0;var i=e("./expression.js");function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){l(e,t),t.add(e)}function u(e,t,n){l(e,t),t.set(e,n)}function l(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function p(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,y(e,t,"get"))}function h(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,y(e,t,"set"),n),n}function y(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var d=new WeakMap,f=new WeakMap,g=new WeakMap,E=new WeakMap,m=new WeakMap,x=new WeakMap,v=new WeakMap,w=new WeakSet,I=new WeakSet,b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ExpressionEntity.DocumentDefinition,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,I),a(this,w),u(this,d,{writable:!0,value:void 0}),u(this,f,{writable:!0,value:void 0}),u(this,g,{writable:!0,value:void 0}),u(this,E,{writable:!0,value:void 0}),u(this,m,{writable:!0,value:void 0}),u(this,x,{writable:!0,value:void 0}),u(this,v,{writable:!0,value:!1}),h(this,d,t),h(this,f,n),h(this,g,[]),h(this,E,o),h(this,m,r),h(this,x,new Set)}var t,n,o;return t=e,(n=[{key:"getBlockEntity",value:function(){return p(this,d)}},{key:"getId",value:function(){return"".concat(p(this,m),"-").concat(p(this,d).name)}},{key:"getParentBlock",value:function(){return p(this,f)}},{key:"setParentBlock",value:function(e){h(this,f,e)}},{key:"getChildBlocks",value:function(){return p(this,g)}},{key:"addChildBlock",value:function(e){p(this,g).push(e),e.setParentBlock(this)}},{key:"getIndentation",value:function(){return p(this,E)}},{key:"getStartLine",value:function(){return p(this,m)}},{key:"getScope",value:function(){if(c(this,I,k).call(this,this))return this;for(var e=this.getParentBlock();void 0!==e&&!c(this,I,k).call(this,e);)e=e.getParentBlock();return void 0!==e?e:this}},{key:"addAlternate",value:function(e){p(this,x).add(e);var t=e.getAlternateBranches();t.has(this)||e.addAlternate(this);var n,i=r(p(this,x));try{for(i.s();!(n=i.n()).done;){var o=n.value;o===e||t.has(o)||e.addAlternate(o)}}catch(e){i.e(e)}finally{i.f()}}},{key:"hasAlternateBranches",value:function(){return p(this,x).size>0}},{key:"getAlternateBranches",value:function(){return p(this,x)}},{key:"isInAlternateBranch",value:function(e){if(this===e||this.hasChild(e)||e.hasChild(this))return!1;if(p(this,x).has(e))return!0;var t,n=r(p(this,x));try{for(n.s();!(t=n.n()).done;)if(t.value.hasChild(e))return!0}catch(e){n.e(e)}finally{n.f()}var o,s=r(e.getAlternateBranches());try{for(s.s();!(o=s.n()).done;)if(o.value.hasChild(this))return!0}catch(e){s.e(e)}finally{s.f()}var a=[i.ExpressionEntity.IfDefinition,i.ExpressionEntity.ElifDefinition,i.ExpressionEntity.ElseDefinition],u=this.getNearestParentOfAny(a);u===this&&void 0!==this.getParentBlock()&&(u=this.getParentBlock().getNearestParentOfAny(a));var l=e.getNearestParentOfAny(a);return l===e&&void 0!==e.getParentBlock()&&(l=e.getParentBlock().getNearestParentOfAny(a)),void 0!==u&&void 0!==l&&u!==l&&(u.isInAlternateBranch(e)||l.isInAlternateBranch(this))}},{key:"getStepsToParentBlock",value:function(e){if(void 0===e||!e.hasChild(this))return-1;if(e===this)return 0;for(var t=this.getParentBlock(),n=1;t!==e;)t=t.getParentBlock(),n++;return n}},{key:"isBranchOfExhaustiveConditional",value:function(){return p(this,d)===i.ExpressionEntity.IfDefinition||p(this,d)===i.ExpressionEntity.ElifDefinition?c(this,w,T).call(this,i.ExpressionEntity.ElseDefinition):p(this,d)===i.ExpressionEntity.ElseDefinition?c(this,w,T).call(this,i.ExpressionEntity.IfDefinition):p(this,d)===i.ExpressionEntity.TryDefinition&&c(this,w,T).call(this,i.ExpressionEntity.ExceptDefinition)}},{key:"setBlockExits",value:function(){h(this,v,!0)}},{key:"isExitBlock",value:function(){return p(this,v)}},{key:"hasChild",value:function(e){if(this===e)return!0;for(var t=e.getParentBlock();void 0!==t;){if(t===this)return!0;t=t.getParentBlock()}return!1}},{key:"hasChildOfEntity",value:function(e){var t,n=r(this.getChildBlocks());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.getBlockEntity()===e)return!0;if(i.getChildBlocks().length>0)return i.hasChildOfEntity(e)}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"hasChildOfAny",value:function(e){return this.getMatchingChildBlocks(e).length>0}},{key:"getMatchingChildBlocks",value:function(e){var t,n=[],i=new Set(e),o=r(this.getChildBlocks());try{for(o.s();!(t=o.n()).done;){var s=t.value;i.has(s.getBlockEntity())&&n.push(s),s.getChildBlocks().length>0&&n.concat(s.getMatchingChildBlocks(e))}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"hasParentOfEntity",value:function(e){return this.stepsToParentBlockOfEntity(e)>=0}},{key:"stepsToParentBlockOfEntity",value:function(e){if(p(this,d)===e)return 0;for(var t=this.getParentBlock(),n=1;void 0!==t;){if(t.getBlockEntity()===e)return n;t=t.getParentBlock(),n++}return-1}},{key:"stepsToNearestParentOfAny",value:function(e){var t=this.getNearestParentOfAny(e);return void 0===t?-1:this.stepsToParentBlockOfEntity(t.getBlockEntity())}},{key:"getNearestParentOfAny",value:function(e){if(e.includes(p(this,d)))return this;for(var t=this.getParentBlock();void 0!==t;){if(e.includes(t.getBlockEntity()))return t;t=t.getParentBlock()}}},{key:"getNearestCommonParent",value:function(e){for(var t=this;void 0!==t;){if(t.hasChild(e))return t;t=t.getParentBlock()}return t}},{key:"toJSON",value:function(){return{id:this.getId(),startLine:p(this,m),children:p(this,g).map((function(e){return e.toJSON()}))}}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e){var t,n=r(p(this,x));try{for(n.s();!(t=n.n()).done;){if(t.value.getBlockEntity()===e)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}function k(e){return e.getBlockEntity()===i.ExpressionEntity.DocumentDefinition||e.getBlockEntity()===i.ExpressionEntity.FunctionDefinition||e.getBlockEntity()===i.ExpressionEntity.ListComprehension}n.Block=b},{"./expression.js":8}],2:[function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var r;function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.Character=void 0;var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,e);var t,n,i,r=a(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),r.apply(this,arguments)}return t=u,i=[{key:"getCategory",value:function(e){return e>=65&&e<=90||e>=97&&e<=122?u.Letter:e>=48&&e<=57?u.Digit:46===e?u.Decimal:95===e?u.Underscore:32===e?u.Space:9===e?u.Tab:10===e||13===e?u.NewLine:40===e?u.OpenParentheses:41===e?u.CloseParentheses:123===e?u.OpenCurlyBrace:125===e?u.CloseCurlyBrace:91===e?u.OpenSquareBracket:93===e?u.CloseSquareBracket:44===e?u.Comma:58===e?u.Colon:59===e?u.Semicolon:43===e?u.Plus:45===e?u.Minus:42===e?u.Asterisk:37===e?u.Modulo:61===e?u.Equals:60===e?u.LessThan:62===e?u.GreaterThan:33===e?u.Exclamation:47===e?u.ForwardSlash:92===e?u.BackSlash:35===e?u.Hash:39===e?u.SingleQuote:34===e?u.DoubleQuote:u.Unknown}}],(n=[{key:"isQuote",value:function(){return this===u.SingleQuote||this===u.DoubleQuote}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(((r=e("./enum.js"))&&r.__esModule?r:{default:r}).default);n.Character=c,l(c,"Letter",new c("letter")),l(c,"Digit",new c("digit")),l(c,"Decimal",new c("decimal")),l(c,"Underscore",new c("underscore")),l(c,"Space",new c("space")),l(c,"Tab",new c("tab")),l(c,"NewLine",new c("newline")),l(c,"OpenParentheses",new c("openParentheses")),l(c,"CloseParentheses",new c("closeParentheses")),l(c,"OpenCurlyBrace",new c("openCurlyBrace")),l(c,"CloseCurlyBrace",new c("closeCurlyBrace")),l(c,"OpenSquareBracket",new c("openSquareBracket")),l(c,"CloseSquareBracket",new c("closeSquareBracket")),l(c,"Comma",new c("comma")),l(c,"Colon",new c("colon")),l(c,"Semicolon",new c("semicolon")),l(c,"Plus",new c("plus")),l(c,"Minus",new c("minus")),l(c,"Asterisk",new c("asterisk")),l(c,"Modulo",new c("modulo")),l(c,"Equals",new c("equals")),l(c,"LessThan",new c("lessThan")),l(c,"GreaterThan",new c("greaterThan")),l(c,"Exclamation",new c("exclamation")),l(c,"ForwardSlash",new c("forwardSlash")),l(c,"BackSlash",new c("backSlash")),l(c,"Hash",new c("hash")),l(c,"SingleQuote",new c("singleQuote")),l(c,"DoubleQuote",new c("doubleQuote")),l(c,"Unknown",new c("unknown"))},{"./enum.js":6}],3:[function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.CompoundExpressionFeedback=n.CompoundExpression=void 0;var r=e("./expression.js"),o=e("./observers.js");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},h.apply(this,arguments)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function m(e,t){v(e,t),t.add(e)}function x(e,t,n){v(e,t),t.set(e,n)}function v(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function I(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,T(e,t,"get"))}function b(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,T(e,t,"set"),n),n}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var k=new WeakMap,O=new WeakMap,S=new WeakMap,D=new WeakMap,M=new WeakSet,C=new WeakSet,L=new WeakSet,N=function(e){y(n,e);var t=f(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l(this,n),m(g(e=t.call(this)),L),m(g(e),C),m(g(e),M),x(g(e),k,{writable:!0,value:void 0}),x(g(e),O,{writable:!0,value:void 0}),x(g(e),S,{writable:!0,value:[]}),x(g(e),D,{writable:!0,value:void 0}),b(g(e),D,i),e}return p(n,[{key:"addExpression",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.addObserver(this);var r=this.getEvaluatedType();I(this,k)?b(this,k,I(this,k).addNextEntity(e,I(this,k).getCompoundType())):w(this,M,F).call(this,e,t),i||this.getEvaluatedType()===r||h(E(n.prototype),"sendUpdate",this).call(this,this.getEvaluatedType())}},{key:"overwrite",value:function(e,t){w(this,M,F).call(this,e,t),h(E(n.prototype),"sendUpdate",this).call(this,this.getEvaluatedType())}},{key:"typeUpdateReceived",value:function(e){var t=this.getEvaluatedType();if(I(this,k)){var i=I(this,k).getAllExpressions();b(this,k,void 0);var r,o=a(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.addExpression(s,I(this,O),!0)}}catch(e){o.e(e)}finally{o.f()}this.getEvaluatedType()!==t&&h(E(n.prototype),"sendUpdate",this).call(this,this.getEvaluatedType())}}},{key:"getLastEntry",value:function(){if(I(this,k))return I(this,k).getExpression()}},{key:"getEvaluatedType",value:function(){return I(this,k)?I(this,k).getCompoundType():r.DataType.None}},{key:"getIndexInLine",value:function(){return I(this,O)}},{key:"isValid",value:function(){return!(void 0!==I(this,k)&&!I(this,k).getIsValid())||!w(this,C,B).call(this)}},{key:"setContinuation",value:function(){b(this,D,!0)}},{key:"numberOfParts",value:function(){return I(this,k)?I(this,k).countExpressions():0}},{key:"getFeedback",value:function(){if(I(this,k)){var e=I(this,k).getFeedback();return void 0===e&&(e=new oe(0,"No feedback available")),e}return new oe(0,"There is no compound expression")}},{key:"getAllFeedback",value:function(){var e=[];if(void 0===I(this,k))return e;!this.isValid()&&w(this,C,B).call(this)&&this.numberOfParts()>1&&e.push(this.getFeedback());var t,n=a(I(this,S));try{for(n.s();!(t=n.n()).done;){var i=t.value;e=e.concat(i.getAllFeedback())}}catch(e){n.e(e)}finally{n.f()}return Array.from(new Set(e))}},{key:"getNestedCompoundExpressions",value:function(){return I(this,S)}},{key:"getTypesOfCompoundExpressionsBeginningAt",value:function(e){var t=[];this.getIndexInLine()===e&&t.push(this.getEvaluatedType());var n,i=a(I(this,S));try{for(i.s();!(n=i.n()).done;){var r=n.value;t=t.concat(r.getTypesOfCompoundExpressionsBeginningAt(e))}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"toString",value:function(){return I(this,k)?I(this,k).toString():""}}]),n}(o.TypeChangeObserverNotifier);function F(e,t){e.isOneOfEntities([r.ExpressionEntity.NotOperator,r.ExpressionEntity.SubtractOperator,r.ExpressionEntity.AddOperator])?b(this,k,new ne(e,e.is(r.ExpressionEntity.NotOperator)?r.DataType.Bool:r.DataType.Number)):b(this,k,w(this,L,A).call(this,e)),I(this,k).isInContinuationParens=I(this,D),b(this,O,t)}function B(){return void 0!==I(this,k).getFeedback()}function A(e){var t=e.getDataType();switch(t){case r.DataType.Int:return new U(e,t);case r.DataType.Float:return new _(e,t);case r.DataType.Number:return new V(e,t);case r.DataType.String:return new W(e,t);case r.DataType.Bool:return new j(e,t);case r.DataType.List:return new K(e,t);case r.DataType.Tuple:return new G(e,t);case r.DataType.Set:return new q(e,t);case r.DataType.Dict:return new H(e,t);case r.DataType.None:return new ee(e,t);case r.DataType.File:return new J(e,t);case r.DataType.Random:return new X(e,t);case r.DataType.Math:return new Y(e,t);case r.DataType.StringModule:return new Q(e,t);case r.DataType.Re:return new Z(e,t);case r.DataType.Sys:return new $(e,t);default:return new te(e,t===r.DataType.Invalid?t:r.DataType.Unknown)}}n.CompoundExpression=N;var P=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;l(this,e),s(this,"expression",void 0),s(this,"compoundType",void 0),s(this,"prevNode",void 0),s(this,"feedback",void 0),s(this,"isInContinuationParens",!1),this.expression=t,this.compoundType=n,this.prevNode=i,void 0!==this.prevNode&&(this.isInContinuationParens=this.prevNode.isInContinuationParens)}return p(e,[{key:"addNextEntity",value:function(t,n){return new e(t,n,this)}},{key:"computeSubExpressionType",value:function(e,t){return(0,r.keywordLookup)(e.name).category!==r.ExpressionCategory.MathsOperators||t===r.DataType.None?r.DataType.Invalid:r.DataType.Unknown}},{key:"getCompoundType",value:function(){return this.compoundType}},{key:"getIsValid",value:function(){return this.compoundType!==r.DataType.Invalid}},{key:"getDocumentIndex",value:function(){return this.expression.getLocalIndex()}},{key:"countExpressions",value:function(){return void 0===this.prevNode?1:1+this.prevNode.countExpressions()}},{key:"getFirstExpression",value:function(){return void 0===this.prevNode?this.expression:this.prevNode.expression}},{key:"getLastExpression",value:function(){return this.expression}},{key:"getAllExpressions",value:function(){if(void 0===this.prevNode)return[this.expression];var e=this.prevNode.getAllExpressions();return e.push(this.expression),e}},{key:"getValue",value:function(){return this.expression.getValue()}},{key:"setFeedback",value:function(e,t){this.feedback=new oe(e,t)}},{key:"getFeedback",value:function(){return this.feedback?this.feedback:this.prevNode?this.prevNode.getFeedback():void 0}},{key:"isValidMethod",value:function(e){return e.isOneOfCategories([r.ExpressionCategory.BuiltInMethods,r.ExpressionCategory.OtherMethods,r.ExpressionCategory.ModuleFunctions,r.ExpressionCategory.ImportedEntities])&&this.compoundType===r.DataType.Unknown}},{key:"isValidProperty",value:function(e){return e.isOneOfCategories([r.ExpressionCategory.Properties,r.ExpressionCategory.ModuleProperties])&&this.compoundType===r.DataType.Unknown}},{key:"compoundTypeEqualsNodeType",value:function(){return this.compoundType===this.expression.getDataType()}},{key:"toString",value:function(){return void 0===this.prevNode?" ".concat(this.expression.getValue()):"".concat(this.prevNode.toString()," ").concat(this.expression.getValue())}},{key:"valueNodeFactory",value:function(e,t){switch(t=this.compoundType!==r.DataType.Invalid?t:r.DataType.Invalid,e.getDataType()){case r.DataType.Int:return new U(e,t,this);case r.DataType.Float:return new _(e,t,this);case r.DataType.Number:return new V(e,t,this);case r.DataType.String:return new W(e,t,this);case r.DataType.Bool:return new j(e,t,this);case r.DataType.List:return new K(e,t,this);case r.DataType.Tuple:return new G(e,t,this);case r.DataType.Set:return new q(e,t,this);case r.DataType.Dict:return new H(e,t,this);case r.DataType.File:return new J(e,t,this);case r.DataType.None:return new ee(e,t,this);case r.DataType.Random:return new X(e,t,this);case r.DataType.Math:return new Y(e,t,this);default:return new te(e,t,this)}}}]),e}(),R=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return e.isOperator()?(this.updateUsedBy(e),new ne(e,t,this)):this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"overwriteNode",value:function(e,t){if(void 0===this.prevNode){var n=this.valueNodeFactory(e,t);return n.prevNode=void 0,n}return this.prevNode.addNextEntity(e,this.prevNode.getCompoundType())}},{key:"updateUsedBy",value:function(e){this.expression.isOperator()||this.expression.setUsedBy(e)}}]),n}(P),V=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return e.isOneOfEntities([r.ExpressionEntity.IntLiteral,r.ExpressionEntity.FloatLiteral])&&e.getValue().startsWith("-")?this.valueNodeFactory(e,t):h(E(n.prototype),"addNextEntity",this).call(this,e,t)}},{key:"isValidMethod",value:function(e){return e.isOneOfCategories([r.ExpressionCategory.BuiltInMethods,r.ExpressionCategory.OtherMethods])&&this.setFeedback(this.expression.getLocalIndex(),"A method is being called on a numeric value (".concat(this.expression.getValue(),"). There are no valid methods for numeric values.")),!1}},{key:"computeSubExpressionType",value:function(e,t){if(h(E(n.prototype),"computeSubExpressionType",this).call(this,e,t)!==r.DataType.Invalid){if(t===r.DataType.Int||t===r.DataType.Float||t===r.DataType.Number||t===r.DataType.Bool)return r.DataType.Number;if(t===r.DataType.String||t===r.DataType.List||t===r.DataType.Tuple){if(e===r.ExpressionEntity.MultiplyOperator)return t}else if(t===r.DataType.Unknown)return r.DataType.Unknown}return r.DataType.Invalid}}]),n}(R),U=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return e.isOneOfEntities([r.ExpressionEntity.IntLiteral,r.ExpressionEntity.FloatLiteral])&&e.getValue().startsWith("-")?this.valueNodeFactory(e,t):h(E(n.prototype),"addNextEntity",this).call(this,e,t)}},{key:"computeSubExpressionType",value:function(e,t){var i=h(E(n.prototype),"computeSubExpressionType",this).call(this,e,t);if(i===r.DataType.Number){if(t===r.DataType.Int||t===r.DataType.Bool)return r.DataType.Int;if(t===r.DataType.Float)return r.DataType.Float}return i}}]),n}(V),_=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return e.isOneOfEntities([r.ExpressionEntity.IntLiteral,r.ExpressionEntity.FloatLiteral])&&e.getValue().startsWith("-")?this.valueNodeFactory(e,t):h(E(n.prototype),"addNextEntity",this).call(this,e,t)}},{key:"computeSubExpressionType",value:function(e,t){var i=h(E(n.prototype),"computeSubExpressionType",this).call(this,e,t);return i===r.DataType.Number?r.DataType.Float:i!==r.DataType.Unknown?r.DataType.Invalid:i}}]),n}(V),W=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return this.updateUsedBy(e),e.isOperator()?e.isOneOfEntities([r.ExpressionEntity.AddOperator,r.ExpressionEntity.IncrementOperator,r.ExpressionEntity.MultiplyOperator,r.ExpressionEntity.MultiplyAssignOperator,r.ExpressionEntity.IsKeyword,r.ExpressionEntity.InKeyword,r.ExpressionEntity.Dot])||e.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators])||e.getEntity()===r.ExpressionEntity.ModulusOperator?new ne(e,t,this):(e.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator cannot follow a string (").concat(this.expression.getValue(),").")):e.getEntity()===r.ExpressionEntity.NotOperator&&this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator should only follow another logical operator (and, or).")),new ne(e,r.DataType.Invalid,this)):e.getEntity()===r.ExpressionEntity.IndexKey?(e.setDataType(r.DataType.String),this.overwriteNode(e,r.DataType.String)):e.getEntity()===r.ExpressionEntity.Slice?this:this.isInContinuationParens&&this.expression.getEntity()===r.ExpressionEntity.StringLiteral&&e.getEntity()===r.ExpressionEntity.StringLiteral?this.overwriteNode(e,r.DataType.String):this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Capitalize,r.ExpressionEntity.Casefold,r.ExpressionEntity.Center,r.ExpressionEntity.Count,r.ExpressionEntity.Encode,r.ExpressionEntity.ExpandTabs,r.ExpressionEntity.Find,r.ExpressionEntity.Format,r.ExpressionEntity.Index,r.ExpressionEntity.IsAlnum,r.ExpressionEntity.IsAlpha,r.ExpressionEntity.IsAscii,r.ExpressionEntity.IsDecimal,r.ExpressionEntity.IsDigit,r.ExpressionEntity.IsIdentifier,r.ExpressionEntity.IsLower,r.ExpressionEntity.IsNumeric,r.ExpressionEntity.IsPrintable,r.ExpressionEntity.IsSpace,r.ExpressionEntity.IsTitle,r.ExpressionEntity.IsUpper,r.ExpressionEntity.Join,r.ExpressionEntity.LJust,r.ExpressionEntity.Lower,r.ExpressionEntity.LStrip,r.ExpressionEntity.MakeTrans,r.ExpressionEntity.Partition,r.ExpressionEntity.Replace,r.ExpressionEntity.RFind,r.ExpressionEntity.RIndex,r.ExpressionEntity.RJust,r.ExpressionEntity.RPartition,r.ExpressionEntity.RSplit,r.ExpressionEntity.RStrip,r.ExpressionEntity.Split,r.ExpressionEntity.SplitLines,r.ExpressionEntity.StartsWith,r.ExpressionEntity.Strip,r.ExpressionEntity.SwapCase,r.ExpressionEntity.Title,r.ExpressionEntity.Translate,r.ExpressionEntity.Upper,r.ExpressionEntity.ZFill])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a string (").concat(this.expression.getValue(),").")),t}},{key:"computeSubExpressionType",value:function(e,t){if(h(E(n.prototype),"computeSubExpressionType",this).call(this,e,t)!==r.DataType.Invalid){if(e===r.ExpressionEntity.ModulusOperator)return r.DataType.String;if(t===r.DataType.String){if(e===r.ExpressionEntity.AddOperator)return r.DataType.String}else if(t===r.DataType.Int||t===r.DataType.Number||t===r.DataType.Bool){if(e===r.ExpressionEntity.MultiplyOperator)return r.DataType.String}else if(t===r.DataType.Unknown&&(e===r.ExpressionEntity.MultiplyOperator||e===r.ExpressionEntity.AddOperator))return r.DataType.Unknown}return r.DataType.Invalid}}]),n}(R),j=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"isValidMethod",value:function(e){return e.isOneOfCategories([r.ExpressionCategory.BuiltInMethods,r.ExpressionCategory.OtherMethods])&&this.setFeedback(this.expression.getLocalIndex(),"A method was called on a boolean value (".concat(this.expression.getValue(),"). There are no valid methods for boolean values.")),!1}},{key:"computeSubExpressionType",value:function(e,t){if(h(E(n.prototype),"computeSubExpressionType",this).call(this,e,t)!==r.DataType.Invalid){if(t===r.DataType.Int||r.DataType.Bool)return r.DataType.Int;if(t===r.DataType.Float||t===r.DataType.Number)return t;if(t===r.DataType.String||t===r.DataType.List||t===r.DataType.Tuple){if(e===r.ExpressionEntity.MultiplyOperator)return t}else if(t===r.DataType.Unknown)return r.DataType.Unknown}return r.DataType.Invalid}}]),n}(R),K=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return this.updateUsedBy(e),e.isOperator()?e.isOneOfEntities([r.ExpressionEntity.AddOperator,r.ExpressionEntity.MultiplyOperator,r.ExpressionEntity.IsKeyword,r.ExpressionEntity.InKeyword,r.ExpressionEntity.Dot])||e.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators])?new ne(e,t,this):(e.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator cannot follow a ").concat(this.expression.getDataType()," (").concat(this.expression.getValue(),").")):e.getEntity()===r.ExpressionEntity.NotOperator&&this.setFeedback(e.getLocalIndex(),"".concat(e.getValue()," operator should only follow another logical operator (and, or).")),new ne(e,r.DataType.Invalid,this)):e.getEntity()===r.ExpressionEntity.IndexKey?this.overwriteNode(e,r.DataType.Unknown):e.getEntity()===r.ExpressionEntity.Slice?this:this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Append,r.ExpressionEntity.Clear,r.ExpressionEntity.Copy,r.ExpressionEntity.Count,r.ExpressionEntity.Extend,r.ExpressionEntity.Index,r.ExpressionEntity.Insert,r.ExpressionEntity.Pop,r.ExpressionEntity.Remove,r.ExpressionEntity.Reverse,r.ExpressionEntity.Sort])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a list (").concat(this.expression.getValue(),").")),t}},{key:"computeSubExpressionType",value:function(e,t){if(h(E(n.prototype),"computeSubExpressionType",this).call(this,e,t)!==r.DataType.Invalid)if(t===r.DataType.Int||t===r.DataType.Number){if(e===r.ExpressionEntity.MultiplyOperator)return r.DataType.List}else if(t===r.DataType.List){if(e===r.ExpressionEntity.AddOperator)return r.DataType.List}else if(t===r.DataType.Unknown&&(e===r.ExpressionEntity.AddOperator||e===r.ExpressionEntity.MultiplyOperator))return r.DataType.Unknown;return r.DataType.Invalid}}]),n}(R),G=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return this.updateUsedBy(e),e.isOperator()?e.isOneOfEntities([r.ExpressionEntity.AddOperator,r.ExpressionEntity.MultiplyOperator,r.ExpressionEntity.IsKeyword,r.ExpressionEntity.InKeyword,r.ExpressionEntity.Dot])||e.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators])?new ne(e,t,this):(e.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator cannot follow a ").concat(this.expression.getDataType()," (").concat(this.expression.getValue(),").")):e.getEntity()===r.ExpressionEntity.NotOperator&&this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator should only follow another logical operator (and, or).")),new ne(e,r.DataType.Invalid,this)):e.getEntity()===r.ExpressionEntity.IndexKey?this.overwriteNode(e,r.DataType.Unknown):e.getEntity()===r.ExpressionEntity.Slice?this:this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Count,r.ExpressionEntity.Index])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a tuple (").concat(this.expression.getValue(),").")),t}},{key:"computeSubExpressionType",value:function(e,t){if(h(E(n.prototype),"computeSubExpressionType",this).call(this,e,t)!==r.DataType.Invalid)if(t===r.DataType.Int||t===r.DataType.Number){if(e===r.ExpressionEntity.MultiplyOperator)return r.DataType.Tuple}else if(t===r.DataType.Tuple){if(e===r.ExpressionEntity.AddOperator)return r.DataType.Tuple}else if(t===r.DataType.Unknown&&(e===r.ExpressionEntity.AddOperator||e===r.ExpressionEntity.MultiplyOperator))return r.DataType.Unknown;return r.DataType.Invalid}}]),n}(R),q=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return this.updateUsedBy(e),e.isOperator()?e.isOneOfEntities([r.ExpressionEntity.SubtractOperator,r.ExpressionEntity.IsKeyword,r.ExpressionEntity.InKeyword,r.ExpressionEntity.Dot])||e.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators])?new ne(e,t,this):(e.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator cannot follow a set (").concat(this.expression.getValue(),").")):e.getEntity()===r.ExpressionEntity.NotOperator&&this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator should only follow another logical operator (and, or).")),new ne(e,r.DataType.Invalid,this)):this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Add,r.ExpressionEntity.Clear,r.ExpressionEntity.Copy,r.ExpressionEntity.Difference,r.ExpressionEntity.DifferenceUpdate,r.ExpressionEntity.Discard,r.ExpressionEntity.Intersection,r.ExpressionEntity.IntersectionUpdate,r.ExpressionEntity.IsDisjoint,r.ExpressionEntity.IsSubset,r.ExpressionEntity.IsSuperset,r.ExpressionEntity.Pop,r.ExpressionEntity.Remove,r.ExpressionEntity.SymmetricDifference,r.ExpressionEntity.SymmetricDifferenceUpdate,r.ExpressionEntity.Union,r.ExpressionEntity.Update])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a set (").concat(this.expression.getValue(),").")),t}},{key:"computeSubExpressionType",value:function(e,t){if(h(E(n.prototype),"computeSubExpressionType",this).call(this,e,t)!==r.DataType.Invalid)if(t===r.DataType.Set){if(e===r.ExpressionEntity.SubtractOperator)return r.DataType.Set}else if(t===r.DataType.Unknown&&e===r.ExpressionEntity.SubtractOperator)return r.DataType.Unknown;return r.DataType.Invalid}}]),n}(R),H=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return this.updateUsedBy(e),e.isOperator()?e.isOneOfEntities([r.ExpressionEntity.IsKeyword,r.ExpressionEntity.InKeyword,r.ExpressionEntity.Dot])||e.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators])?new ne(e,t,this):(e.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator cannot follow a dictionary (").concat(this.expression.getValue(),").")):e.getEntity()===r.ExpressionEntity.NotOperator&&this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator should only follow another logical operator (and, or).")),new ne(e,r.DataType.Invalid,this)):e.getEntity()===r.ExpressionEntity.IndexKey?this.overwriteNode(e,r.DataType.Unknown):this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Clear,r.ExpressionEntity.Copy,r.ExpressionEntity.FromKeys,r.ExpressionEntity.Get,r.ExpressionEntity.Items,r.ExpressionEntity.Keys,r.ExpressionEntity.Pop,r.ExpressionEntity.PopItem,r.ExpressionEntity.SetDefault,r.ExpressionEntity.Update,r.ExpressionEntity.Values])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a dictionary (").concat(this.expression.getValue(),").")),t}},{key:"computeSubExpressionType",value:function(e,t){return r.DataType.Invalid}}]),n}(R),J=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return this.updateUsedBy(e),e.isOperator()?e.isOneOfEntities([r.ExpressionEntity.IsKeyword,r.ExpressionEntity.InKeyword,r.ExpressionEntity.Dot,r.ExpressionEntity.EqualOperator,r.ExpressionEntity.NotEqualOperator])||e.is(r.ExpressionCategory.LogicalOperators)?new ne(e,t,this):(e.isOneOfCategories([r.ExpressionCategory.MathsOperators,r.ExpressionCategory.ComparisonOperators])?this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator cannot follow a file (").concat(this.expression.getValue(),").")):e.getEntity()===r.ExpressionEntity.NotOperator&&this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator should only follow another logical operator (and, or).")),new ne(e,r.DataType.Invalid,this)):this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Close,r.ExpressionEntity.FileNo,r.ExpressionEntity.Flush,r.ExpressionEntity.IsAtty,r.ExpressionEntity.Read,r.ExpressionEntity.Readable,r.ExpressionEntity.ReadLine,r.ExpressionEntity.ReadLines,r.ExpressionEntity.Seek,r.ExpressionEntity.Seekable,r.ExpressionEntity.Tell,r.ExpressionEntity.Truncate,r.ExpressionEntity.Writable,r.ExpressionEntity.Write,r.ExpressionEntity.WriteLines])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a file (").concat(this.expression.getValue(),").")),t}},{key:"computeSubExpressionType",value:function(e,t){return r.DataType.Invalid}}]),n}(R),z=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return this.updateUsedBy(e),e.isOperator()?e.isOneOfEntities([r.ExpressionEntity.IsKeyword,r.ExpressionEntity.InKeyword,r.ExpressionEntity.Dot,r.ExpressionEntity.EqualOperator,r.ExpressionEntity.NotEqualOperator])||e.isOneOfCategories([r.ExpressionCategory.LogicalOperators])?new ne(e,t,this):(e.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator cannot follow a module (").concat(this.expression.getValue(),").")):e.getEntity()===r.ExpressionEntity.NotOperator&&this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator should only follow another logical operator (and, or).")),new ne(e,r.DataType.Invalid,this)):this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"isValidMethod",value:function(e){var t=e.isOneOfCategories([r.ExpressionCategory.BuiltInMethods,r.ExpressionCategory.OtherMethods,r.ExpressionCategory.MagicMethods]);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a module (").concat(this.expression.getValue(),").")),t}},{key:"computeSubExpressionType",value:function(e,t){return r.DataType.Invalid}}]),n}(R),X=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Seed,r.ExpressionEntity.GetState,r.ExpressionEntity.SetState,r.ExpressionEntity.GetRandBits,r.ExpressionEntity.RandRange,r.ExpressionEntity.RandInt,r.ExpressionEntity.Choice,r.ExpressionEntity.Choices,r.ExpressionEntity.Shuffle,r.ExpressionEntity.Sample,r.ExpressionEntity.RandomMethod,r.ExpressionEntity.Uniform,r.ExpressionEntity.Triangular,r.ExpressionEntity.BetaVariate,r.ExpressionEntity.ExpoVariate,r.ExpressionEntity.GammaVariate,r.ExpressionEntity.Gauss,r.ExpressionEntity.LogNormVariate,r.ExpressionEntity.NormalVariate,r.ExpressionEntity.VonMisesVariate,r.ExpressionEntity.ParetoVariate,r.ExpressionEntity.WeibullVariate])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a module (").concat(this.expression.getValue(),").")),t}}]),n}(z),Y=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Acos,r.ExpressionEntity.Acosh,r.ExpressionEntity.Asin,r.ExpressionEntity.Asinh,r.ExpressionEntity.Atan,r.ExpressionEntity.Atan2,r.ExpressionEntity.Atanh,r.ExpressionEntity.Ceil,r.ExpressionEntity.Comb,r.ExpressionEntity.CopySign,r.ExpressionEntity.Cos,r.ExpressionEntity.Cosh,r.ExpressionEntity.Degrees,r.ExpressionEntity.Dist,r.ExpressionEntity.Erf,r.ExpressionEntity.Erfc,r.ExpressionEntity.Exp,r.ExpressionEntity.Expm1,r.ExpressionEntity.Fabs,r.ExpressionEntity.Factorial,r.ExpressionEntity.Floor,r.ExpressionEntity.Fmod,r.ExpressionEntity.Frexp,r.ExpressionEntity.Fsum,r.ExpressionEntity.Gamma,r.ExpressionEntity.Gcd,r.ExpressionEntity.Hypot,r.ExpressionEntity.IsClose,r.ExpressionEntity.IsFinite,r.ExpressionEntity.IsInf,r.ExpressionEntity.IsNaN,r.ExpressionEntity.ISqrt,r.ExpressionEntity.Ldexp,r.ExpressionEntity.LGamma,r.ExpressionEntity.Log,r.ExpressionEntity.Log10,r.ExpressionEntity.Log1P,r.ExpressionEntity.Log2,r.ExpressionEntity.Perm,r.ExpressionEntity.Pow,r.ExpressionEntity.Prod,r.ExpressionEntity.Radians,r.ExpressionEntity.Remainder,r.ExpressionEntity.Sin,r.ExpressionEntity.Sinh,r.ExpressionEntity.Sqrt,r.ExpressionEntity.Tan,r.ExpressionEntity.Tanh,r.ExpressionEntity.Trunc])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a module (").concat(this.expression.getValue(),").")),t}},{key:"isValidProperty",value:function(e){var t=r.moduleLookup.has(e.getEntity())&&r.moduleLookup.get(e.getEntity())===r.ExpressionEntity.MathModule&&(0,r.keywordLookup)(e.getValue()).category===r.ExpressionCategory.ModuleProperties;return t||this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is not a known member of the math module")),t}}]),n}(z),Q=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Formatter,r.ExpressionEntity.Template,r.ExpressionEntity.Capwords])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a module (").concat(this.expression.getValue(),").")),t}},{key:"isValidProperty",value:function(e){var t=r.moduleLookup.has(e.getEntity())&&r.moduleLookup.get(e.getEntity())===r.ExpressionEntity.StringModule&&(0,r.keywordLookup)(e.getValue()).category===r.ExpressionCategory.ModuleProperties;return t||this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is not a known member of the string module")),t}}]),n}(z),Z=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.Compile,r.ExpressionEntity.Search,r.ExpressionEntity.Match,r.ExpressionEntity.FullMatch,r.ExpressionEntity.FindAll,r.ExpressionEntity.FindIter,r.ExpressionEntity.Sub,r.ExpressionEntity.SubN,r.ExpressionEntity.Escape,r.ExpressionEntity.Purge,r.ExpressionEntity.Split])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a module (").concat(this.expression.getValue(),").")),t}},{key:"isValidProperty",value:function(e){var t=r.moduleLookup.has(e.getEntity())&&r.moduleLookup.get(e.getEntity())===r.ExpressionEntity.ReModule&&(0,r.keywordLookup)(e.getValue()).category===r.ExpressionCategory.ModuleProperties;return t||this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is not a known member of the string module")),t}}]),n}(z),$=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"isValidMethod",value:function(e){var t=e.isOneOfEntities([r.ExpressionEntity.AddAuditHook,r.ExpressionEntity.Audit,r.ExpressionEntity.CallTracing,r.ExpressionEntity.ClearTypeCache,r.ExpressionEntity.CurrentFrames,r.ExpressionEntity.CurrentExceptions,r.ExpressionEntity.BreakpointHook,r.ExpressionEntity.DebugMallocStats,r.ExpressionEntity.DisplayHook,r.ExpressionEntity.ExceptHook,r.ExpressionEntity.ExcInfo,r.ExpressionEntity.SysExit,r.ExpressionEntity.GetAllocatedBlocks,r.ExpressionEntity.GetAndroidApiLevel,r.ExpressionEntity.GetDefaultEncoding,r.ExpressionEntity.GetDLOpenFlags,r.ExpressionEntity.GetFileSystemEncoding,r.ExpressionEntity.GetFileSystemEncodeErrors,r.ExpressionEntity.GetRefCount,r.ExpressionEntity.GetRecursionLimit,r.ExpressionEntity.GetSizeOf,r.ExpressionEntity.GetSwitchInterval,r.ExpressionEntity.GetFrame,r.ExpressionEntity.GetProfile,r.ExpressionEntity.GetTrace,r.ExpressionEntity.GetWindowsVersion,r.ExpressionEntity.GetAsyncGenHooks,r.ExpressionEntity.GetCoroutineOriginTrackingDepth,r.ExpressionEntity.Intern,r.ExpressionEntity.IsFinalizing,r.ExpressionEntity.SetDLOpenFlags,r.ExpressionEntity.SetProfile,r.ExpressionEntity.SetRecursionLimit,r.ExpressionEntity.SetSwitchInterval,r.ExpressionEntity.SetTrace,r.ExpressionEntity.SetAsyncgenHooks,r.ExpressionEntity.EnableLegacyWindowsFSEncoding])||e.is(r.ExpressionCategory.MagicMethods);return t||this.setFeedback(this.expression.getLocalIndex(),"An unrecognised method (".concat(e.getValue(),") was called on a module (").concat(this.expression.getValue(),").")),t}},{key:"isValidProperty",value:function(e){var t=r.moduleLookup.has(e.getEntity())&&r.moduleLookup.get(e.getEntity())===r.ExpressionEntity.Sys&&(0,r.keywordLookup)(e.getValue()).category===r.ExpressionCategory.ModuleProperties;return t||this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is not a known member of the math module")),t}}]),n}(z),ee=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){return this.updateUsedBy(e),e.isOperator()?e.isOneOfEntities([r.ExpressionEntity.EqualOperator,r.ExpressionEntity.NotEqualOperator,r.ExpressionEntity.InKeyword,r.ExpressionEntity.IsKeyword,r.ExpressionEntity.NotOperator])?new ne(e,t,this):e.getCategory()===r.ExpressionCategory.MathsOperators?(this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator cannot follow something with no value (").concat(this.expression.getValue(),"). ").concat(this.expression.getValue()," may not have been propertly assigned.")),new ne(e,r.DataType.Invalid,this)):e.getEntity()===r.ExpressionEntity.NotOperator?(this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator should only follow another logical operator (and, or).")),new ne(e,r.DataType.Invalid,this)):new ne(e,t,this):this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"isValidMethod",value:function(e){return e.isOneOfCategories([r.ExpressionCategory.BuiltInMethods,r.ExpressionCategory.OtherMethods])&&this.setFeedback(this.expression.getLocalIndex(),"".concat(this.expression.getValue()," has no value. There are no valid methods for None types.")),!1}},{key:"computeSubExpressionType",value:function(e,t){return r.DataType.Invalid}}]),n}(R),te=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){if(this.updateUsedBy(e),e.isOperator())return e.isOneOfCategories([r.ExpressionCategory.MathsOperators,r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators])||e.isOneOfEntities([r.ExpressionEntity.IsKeyword,r.ExpressionEntity.InKeyword,r.ExpressionEntity.Dot])?new ne(e,t,this):(this.setFeedback(e.getLocalIndex(),"".concat(e.getValue()," cannot go here...")),new ne(e,r.DataType.Invalid,this));if(e.getCategory()===r.ExpressionCategory.BuiltInMethods){var n=r.builtInReturnLookup.hasOwnProperty(e.getEntity())?r.builtInReturnLookup.get(e.getEntity()):r.DataType.Unknown;if(n)return this.overwriteNode(e,n)}else{if(e.getEntity()===r.ExpressionEntity.IndexKey)return this;if(e.getEntity()===r.ExpressionEntity.Slice)return this}return this.valueNodeFactory(e,r.DataType.Invalid)}},{key:"computeSubExpressionType",value:function(e,t){if(h(E(n.prototype),"computeSubExpressionType",this).call(this,e,t)!==r.DataType.Invalid){if(t===r.DataType.Int||t===r.DataType.Float||t===r.DataType.Number)return r.DataType.Unknown;if(t===r.DataType.String||t===r.DataType.List||t===r.DataType.Tuple){if(e===r.ExpressionEntity.AddOperator||e===r.ExpressionEntity.MultiplyOperator)return r.DataType.Unknown}else if(t===r.DataType.Set){if(e===r.ExpressionEntity.SubtractOperator)return r.DataType.Unknown}else if(t===r.DataType.Unknown)return r.DataType.Unknown}return r.DataType.Invalid}}]),n}(R),ne=function(e){y(n,e);var t=f(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"addNextEntity",value:function(e,t){if(e.isOperator()||e.setUsedBy(this.expression),e.isOperator())return this.processOperator(e);if(this.expression.isOneOfEntities([r.ExpressionEntity.EqualOperator,r.ExpressionEntity.NotEqualOperator,r.ExpressionEntity.IsKeyword,r.ExpressionEntity.NotOperator])&&(void 0===this.prevNode||!this.prevNode.expression.isOneOfEntities([r.ExpressionEntity.AndOperator,r.ExpressionEntity.OrOperator])))return this.valueNodeFactory(e,r.DataType.Bool);if(this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&this.compoundType!==r.DataType.Dict&&this.expression.getDataType()!==r.DataType.Dict&&this.compoundType!==r.DataType.None&&this.expression.getDataType()!==r.DataType.None&&this.newTypeMatchesCompoundType(e.getDataType()))return this.valueNodeFactory(e,r.DataType.Bool);if(this.isNumeric(this.compoundType)&&this.isNumeric(e.getDataType())&&this.expression.isOneOfEntities([r.ExpressionEntity.AndOperator,r.ExpressionEntity.OrOperator]))return this.valueNodeFactory(e,r.DataType.Number);if(this.expression.isOneOfEntities([r.ExpressionEntity.AndOperator,r.ExpressionEntity.OrOperator])){var n=this.compoundType===e.getDataType()?this.compoundType:r.DataType.Unknown;return this.valueNodeFactory(e,n)}if(void 0!==this.prevNode&&this.compoundType!==r.DataType.Invalid&&this.expression.getEntity()===r.ExpressionEntity.NotOperator&&this.prevNode.getLastExpression().getEntity()===r.ExpressionEntity.AndOperator)return this.valueNodeFactory(e,r.DataType.Bool);if(void 0!==this.prevNode&&this.compoundType!==r.DataType.Invalid&&this.expression.getEntity()===r.ExpressionEntity.NotOperator&&this.prevNode.getLastExpression().getEntity()===r.ExpressionEntity.OrOperator)return this.compoundType===r.DataType.Bool&&e.getDataType()===r.DataType.Bool?this.valueNodeFactory(e,r.DataType.Bool):this.valueNodeFactory(e,r.DataType.Unknown);if(this.compoundType!==r.DataType.Invalid&&this.prevNode&&this.prevNode.getLastExpression().getDataType()===r.DataType.String&&this.expression.getEntity()===r.ExpressionEntity.ModulusOperator)return this.valueNodeFactory(e,r.DataType.String);if(this.compoundType!==r.DataType.Invalid&&this.prevNode&&this.prevNode.getLastExpression().getDataType()===r.DataType.Unknown&&this.expression.getEntity()===r.ExpressionEntity.ModulusOperator)return this.valueNodeFactory(e,r.DataType.Unknown);if(this.compoundType===r.DataType.Invalid&&!this.expression.isOneOfEntities([r.ExpressionEntity.SubtractOperator,r.ExpressionEntity.Dot,r.ExpressionEntity.ExponentOperator,r.ExpressionEntity.MultiplyOperator,r.ExpressionEntity.DivideOperator,r.ExpressionEntity.IntDivideOperator,r.ExpressionEntity.ModulusOperator]))return this.valueNodeFactory(e,r.DataType.Invalid);if(void 0===this.prevNode&&this.expression.isOneOfEntities([r.ExpressionEntity.AddOperator,r.ExpressionEntity.SubtractOperator])&&(this.isNumericOrBool(e.getDataType())||e.getDataType()===r.DataType.Unknown)){var i=e.getDataType()===r.DataType.Int||e.getDataType()===r.DataType.Bool?r.DataType.Int:e.getDataType();return this.valueNodeFactory(e,i)}return this.processValue(e)}},{key:"processOperator",value:function(e){return e.getEntity()===r.ExpressionEntity.NotOperator&&this.expression.isOneOfEntities([r.ExpressionEntity.AndOperator,r.ExpressionEntity.IsKeyword,r.ExpressionEntity.OrOperator])||e.getEntity()===r.ExpressionEntity.InKeyword&&this.expression.getEntity()===r.ExpressionEntity.NotOperator?new n(e,this.compoundType,this):(this.setFeedback(e.getLocalIndex(),"The ".concat(e.getValue()," operator cannot follow the ").concat(this.expression.getValue()," operator.")),new n(e,r.DataType.Invalid,this))}},{key:"processValue",value:function(e){if(this.expression.getEntity()===r.ExpressionEntity.Dot&&this.prevNode&&e.getEntity()!==r.ExpressionEntity.PropertyName&&e.getCategory()!==r.ExpressionCategory.ModuleProperties){if(this.prevNode.isValidMethod(e)){var t=new r.Expression(e.getEntity(),e.getCategory(),e.getLineNumber(),e.getLocalIndex(),this.prevNode.getValue()+"."+e.getValue(),e.getDataType());return t.setUsedBy(this.expression),this.prevNode.overwriteNode(t,t.getDataType())}return this.valueNodeFactory(e,r.DataType.Invalid)}if(this.expression.getEntity()===r.ExpressionEntity.Dot&&this.prevNode&&(e.getEntity()===r.ExpressionEntity.PropertyName||e.getCategory()===r.ExpressionCategory.ModuleProperties)){if(this.prevNode.isValidProperty(e)){var n=r.builtInReturnLookup.has(e.getEntity())?r.builtInReturnLookup.get(e.getEntity()):r.DataType.Unknown,i=new r.Expression(e.getEntity(),e.getCategory(),e.getLineNumber(),e.getLocalIndex(),this.prevNode.getValue()+"."+e.getValue(),n);return this.prevNode.overwriteNode(i,i.getDataType())}return this.valueNodeFactory(e,r.DataType.Invalid)}if(this.expression.getEntity()===r.ExpressionEntity.ModulusOperator&&this.compoundType===r.DataType.String)return this.valueNodeFactory(e,r.DataType.String);if(this.expression.isOneOfEntities([r.ExpressionEntity.SubtractOperator,r.ExpressionEntity.AddOperator])&&(this.compoundType===r.DataType.Invalid||void 0===this.compoundType)&&(this.isNumeric(e.getDataType())||e.getDataType()===r.DataType.Unknown)&&e.getLocalIndex()-this.expression.getLocalIndex()==1)return this.prevNode?this.compoundType=this.prevNode.getLastExpression().getCategory()===r.ExpressionCategory.ComparisonOperators?r.DataType.Bool:this.prevNode.getCompoundType():this.compoundType=this.expression.getDataType(),this.valueNodeFactory(e,this.compoundType);if(this.expression.isOneOfEntities([r.ExpressionEntity.ExponentOperator,r.ExpressionEntity.MultiplyOperator,r.ExpressionEntity.DivideOperator,r.ExpressionEntity.IntDivideOperator,r.ExpressionEntity.ModulusOperator])&&void 0!==this.prevNode&&!this.prevNode.compoundTypeEqualsNodeType()){var o=this.prevNode.computeSubExpressionType(this.expression.getEntity(),e.getDataType());if(o!==r.DataType.Invalid&&this.compoundType===r.DataType.Invalid&&this.prevNode instanceof R){var s=new r.Expression(r.ExpressionEntity.Unknown,r.ExpressionCategory.Unknown,e.getLineNumber(),e.getLocalIndex(),this.prevNode.getValue()+this.expression.getValue()+e.getValue(),o);return this.prevNode.overwriteNode(s,o)}}switch(e.getDataType()){case r.DataType.Int:return this.processIntValue(e);case r.DataType.Float:return this.processFloatValue(e);case r.DataType.Number:return this.processNumberValue(e);case r.DataType.String:return this.processStringValue(e);case r.DataType.Bool:return this.processBoolValue(e);case r.DataType.List:return this.processListValue(e);case r.DataType.Tuple:return this.processTupleValue(e);case r.DataType.Set:return this.processSetValue(e);case r.DataType.File:return this.processFileValue(e);case r.DataType.Dict:return this.processDictValue(e);case r.DataType.None:return this.processNoneValue(e);default:return this.processUnknownValue(e)}}},{key:"isNumeric",value:function(e){return e===r.DataType.Int||e===r.DataType.Float||e===r.DataType.Number}},{key:"isNumericOrBool",value:function(e){return this.isNumeric(e)||e===r.DataType.Bool}},{key:"newTypeMatchesCompoundType",value:function(e){return this.compoundType===e&&this.compoundType!==r.DataType.Unknown&&e!==r.DataType.Unknown||this.isNumericOrBool(this.compoundType)&&this.isNumericOrBool(e)}},{key:"isValidIntMultiplier",value:function(e){return e===r.DataType.Int||e===r.DataType.Number||e===r.DataType.Bool}},{key:"processIntValue",value:function(e){if(e.getCategory()===r.ExpressionCategory.BuiltInMethods)return new U(e,r.DataType.Int,this);if((this.compoundType===r.DataType.Int||this.compoundType===r.DataType.Bool)&&this.expression.getCategory()===r.ExpressionCategory.MathsOperators)return this.expression.getEntity()===r.ExpressionEntity.DivideOperator?new U(e,r.DataType.Float,this):new U(e,r.DataType.Int,this);if(this.compoundType===r.DataType.Float&&this.expression.getCategory()===r.ExpressionCategory.MathsOperators)return new U(e,r.DataType.Float,this);if(this.isNumeric(this.compoundType)&&this.expression.getCategory()===r.ExpressionCategory.MathsOperators)return new U(e,r.DataType.Number,this);if((this.compoundType===r.DataType.String||this.compoundType===r.DataType.List||this.compoundType===r.DataType.Tuple)&&this.expression.getEntity()===r.ExpressionEntity.MultiplyOperator)return new U(e,this.compoundType,this);if(this.compoundType===r.DataType.Unknown)return new U(e,r.DataType.Unknown,this);if(this.compoundType!==r.DataType.Unknown&&this.compoundType!==r.DataType.Invalid){var t="follow a ".concat(this.expression.getValue()," and a");this.expression.getEntity()===r.ExpressionEntity.AddOperator?t="be added to a":this.expression.getEntity()===r.ExpressionEntity.SubtractOperator?t="be subtracted from a":this.expression.getEntity()===r.ExpressionEntity.MultiplyOperator?t="multiply a":this.expression.getEntity()===r.ExpressionEntity.DivideOperator?t="divide a":this.expression.getEntity()===r.ExpressionEntity.IntDivideOperator?t="integer divide a":this.expression.getEntity()===r.ExpressionEntity.ExponentOperator?t="create an exponent from a":this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&(t="be compared with a"),this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is an int. A numeric value cannot ").concat(t," ").concat(this.compoundType.name,"."))}return new U(e,r.DataType.Invalid,this)}},{key:"processFloatValue",value:function(e){if((e.getCategory()===r.ExpressionCategory.BuiltInMethods||this.isNumeric(this.compoundType)||this.compoundType===r.DataType.Bool)&&this.expression.getCategory()===r.ExpressionCategory.MathsOperators)return new _(e,r.DataType.Float,this);if(this.compoundType===r.DataType.Unknown)return new _(e,r.DataType.Unknown,this);if(this.compoundType!==r.DataType.Unknown&&this.compoundType!==r.DataType.Invalid){var t="follow a ".concat(this.expression.getValue()," and a");this.expression.getEntity()===r.ExpressionEntity.AddOperator?t="be added to a":this.expression.getEntity()===r.ExpressionEntity.SubtractOperator?t="be subtracted from a":this.expression.getEntity()===r.ExpressionEntity.MultiplyOperator?t="multiply a":this.expression.getEntity()===r.ExpressionEntity.DivideOperator?t="divide a":this.expression.getEntity()===r.ExpressionEntity.IntDivideOperator?t="integer divide a":this.expression.getEntity()===r.ExpressionEntity.ExponentOperator?t="create an exponent from a":this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&(t="be compared with a"),this.setFeedback(e.getLocalIndex(),"".concat(e.getValue()," is numeric. A numeric value cannot ").concat(t," ").concat(this.compoundType.name,"."))}return new U(e,r.DataType.Invalid,this)}},{key:"processNumberValue",value:function(e){if(this.compoundType===r.DataType.Float&&this.expression.getCategory()===r.ExpressionCategory.MathsOperators)return new V(e,r.DataType.Float,this);if(e.getCategory()===r.ExpressionCategory.BuiltInMethods||(this.isNumeric(this.compoundType)||this.compoundType===r.DataType.Bool)&&this.expression.getCategory()===r.ExpressionCategory.MathsOperators)return e.getEntity()===r.ExpressionEntity.DivideOperator?new V(e,r.DataType.Float,this):new V(e,r.DataType.Number,this);if(e.getDataType()!==r.DataType.Float&&(this.compoundType===r.DataType.String||this.compoundType===r.DataType.List||this.compoundType===r.DataType.Tuple)&&this.expression.getEntity()===r.ExpressionEntity.MultiplyOperator)return new V(e,this.compoundType,this);if(this.compoundType===r.DataType.Unknown)return new V(e,r.DataType.Unknown,this);if(this.compoundType!==r.DataType.Unknown&&this.compoundType!==r.DataType.Invalid){var t="follow a ".concat(this.expression.getValue()," and a");this.expression.getEntity()===r.ExpressionEntity.AddOperator?t="be added to a":this.expression.getEntity()===r.ExpressionEntity.SubtractOperator?t="be subtracted from a":this.expression.getEntity()===r.ExpressionEntity.MultiplyOperator?t="multiply a":this.expression.getEntity()===r.ExpressionEntity.DivideOperator?t="divide a":this.expression.getEntity()===r.ExpressionEntity.IntDivideOperator?t="integer divide a":this.expression.getEntity()===r.ExpressionEntity.ExponentOperator?t="create an exponent from a":this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&(t="be compared with a"),this.setFeedback(e.getLocalIndex(),"".concat(e.getValue()," is numeric. A numeric value cannot ").concat(t," ").concat(this.compoundType,"."))}return new V(e,r.DataType.Invalid,this)}},{key:"processStringValue",value:function(e){return e.getCategory()===r.ExpressionCategory.BuiltInMethods||this.compoundType===r.DataType.String&&(this.expression.getEntity()===r.ExpressionEntity.AddOperator||this.expression.getEntity()===r.ExpressionEntity.IncrementOperator)||this.isValidIntMultiplier(this.compoundType)&&this.expression.getEntity()===r.ExpressionEntity.MultiplyOperator||this.expression.getEntity()===r.ExpressionEntity.MultiplyAssignOperator?new W(e,r.DataType.String,this):this.prevNode&&(this.compoundType!==r.DataType.Invalid&&this.compoundType!==r.DataType.String&&this.prevNode.expression.getDataType()===r.DataType.String&&this.expression.is(r.ExpressionEntity.AddOperator)||this.isValidIntMultiplier(this.prevNode.expression.getDataType())&&this.expression.is(r.ExpressionEntity.MultiplyOperator))?this.prevNode.overwriteNode(e,r.DataType.String):this.compoundType!==r.DataType.String&&this.compoundType!==r.DataType.Unknown||this.expression.getEntity()!==r.ExpressionEntity.InKeyword?this.compoundType===r.DataType.Unknown&&(this.expression.isOneOfEntities([r.ExpressionEntity.AddOperator,r.ExpressionEntity.MultiplyOperator,r.ExpressionEntity.ModulusOperator])||this.expression.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators]))?new W(e,r.DataType.Unknown):(this.compoundType!==r.DataType.Invalid&&(this.expression.getEntity()===r.ExpressionEntity.AddOperator&&this.compoundType!==r.DataType.String?this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a string. The + operator can be used to concatenate two strings but the expression before the + operator is not a string.")):this.expression.getEntity()===r.ExpressionEntity.MultiplyOperator&&this.compoundType!==r.DataType.Int&&this.compoundType!==r.DataType.Number?this.setFeedback(this.expression.getLocalIndex(),"The * operator can be used with a string and an int to repeat the string a given number of times. ".concat(e.getValue()," is a string but the code before * is not an int.")):this.expression.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a string. The ").concat(this.expression.getValue()," operator cannot be used with strings.")):this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a string but the expression before the ").concat(e.getValue()," is a ").concat(this.compoundType,". A string can only be compared with a string."))),new W(e,r.DataType.Invalid,this)):new W(e,r.DataType.Bool,this)}},{key:"processBoolValue",value:function(e){if(e.getCategory()===r.ExpressionCategory.BuiltInMethods)return new j(e,r.DataType.Bool,this);if((this.isNumeric(this.compoundType)||this.compoundType===r.DataType.Bool)&&this.expression.getCategory()===r.ExpressionCategory.MathsOperators){var t=this.compoundType===r.DataType.Int||this.compoundType===r.DataType.Bool?r.DataType.Int:this.compoundType===r.DataType.Float?r.DataType.Float:r.DataType.Number;return new j(e,t,this)}return this.compoundType!==r.DataType.String&&this.compoundType!==r.DataType.List&&this.compoundType!==r.DataType.Tuple||this.expression.getEntity()!==r.ExpressionEntity.MultiplyOperator?this.expression.isOneOfEntities([r.ExpressionEntity.AndOperator,r.ExpressionEntity.OrOperator])&&this.compoundType===r.DataType.Bool?new j(e,r.DataType.Bool,this):this.compoundType===r.DataType.Unknown?new j(e,r.DataType.Unknown,this):(this.compoundType!==r.DataType.Invalid&&this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&this.setFeedback(this.expression.getLocalIndex(),"".concat(this.expression.getValue()," is a boolean but the expression before the ").concat(e.getValue()," is a ").concat(this.compoundType,". A boolean can only be compared with a boolean or a numeric value.")),new j(e,r.DataType.Invalid,this)):new j(e,this.compoundType,this)}},{key:"processListValue",value:function(e){return e.getCategory()===r.ExpressionCategory.BuiltInMethods?new K(e,e.getDataType(),this):this.compoundType===r.DataType.List&&this.expression.getEntity()===r.ExpressionEntity.AddOperator||this.isValidIntMultiplier(this.compoundType)&&this.expression.getEntity()===r.ExpressionEntity.MultiplyOperator?new K(e,r.DataType.List,this):this.prevNode&&this.compoundType!==r.DataType.Invalid&&this.compoundType!==r.DataType.List&&this.prevNode.expression.getDataType()===r.DataType.List&&this.expression.is(r.ExpressionEntity.AddOperator)||this.isValidIntMultiplier(this.prevNode.expression.getDataType())&&this.expression.is(r.ExpressionEntity.MultiplyOperator)?this.prevNode.overwriteNode(e,r.DataType.List):this.compoundType!==r.DataType.Invalid&&this.expression.getEntity()===r.ExpressionEntity.InKeyword?new K(e,r.DataType.Bool,this):this.compoundType===r.DataType.Unknown&&(this.expression.isOneOfEntities([r.ExpressionEntity.AddOperator,r.ExpressionEntity.MultiplyOperator,r.ExpressionEntity.ModulusOperator])||this.expression.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators]))?new K(e,r.DataType.Unknown):(this.compoundType!==r.DataType.Unknown&&this.compoundType!==r.DataType.Invalid&&(this.expression.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a ").concat(e.getDataType(),". The ").concat(this.expression.getValue()," operator cannot be used with ").concat(e.getDataType(),"s.")):this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&this.setFeedback(this.expression.getLocalIndex(),"".concat(this.expression.getValue()," is a ").concat(this.expression.getDataType()," but the expression before the ").concat(e.getValue()," is a ").concat(this.compoundType,". A ").concat(this.expression.getDataType()," can only be compared with a ").concat(this.expression.getDataType(),"."))),new K(e,r.DataType.Invalid,this))}},{key:"processTupleValue",value:function(e){return e.getCategory()===r.ExpressionCategory.BuiltInMethods?new G(e,value,this):this.compoundType===r.DataType.Tuple&&this.expression.getEntity()===r.ExpressionEntity.AddOperator||this.isValidIntMultiplier(this.compoundType)&&this.expression.getEntity()===r.ExpressionEntity.MultiplyOperator?new G(e,r.DataType.Tuple,this):this.prevNode&&this.compoundType!==r.DataType.Invalid&&this.compoundType!==r.DataType.Tuple&&this.prevNode.expression.getDataType()===r.DataType.Tuple&&this.expression.is(r.ExpressionEntity.AddOperator)||this.isValidIntMultiplier(this.prevNode.expression.getDataType())&&this.expression.is(r.ExpressionEntity.MultiplyOperator)?this.prevNode.overwriteNode(e,r.DataType.Tuple):this.compoundType!==r.DataType.Invalid&&this.expression.getEntity()===r.ExpressionEntity.InKeyword?new G(e,r.DataType.Bool,this):this.compoundType===r.DataType.Unknown&&(this.expression.isOneOfEntities([r.ExpressionEntity.AddOperator,r.ExpressionEntity.MultiplyOperator,r.ExpressionEntity.ModulusOperator])||this.expression.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators]))?new G(e,r.DataType.Unknown):(this.compoundType!==r.DataType.Invalid&&(this.expression.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a tuple. The ").concat(this.expression.getValue()," operator cannot be used with tuples.")):this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a tuple but the expression before the ").concat(this.expression.getValue()," is a ").concat(this.compoundType,". A tuple can only be compared with a tuple."))),new G(e,r.DataType.Invalid,this))}},{key:"processSetValue",value:function(e){return e.getCategory()===r.ExpressionCategory.BuiltInMethods||this.compoundType===r.DataType.Set&&this.expression.getEntity()===r.ExpressionEntity.SubtractOperator?new q(e,r.DataType.Set,this):this.prevNode&&this.compoundType!==r.DataType.Invalid&&this.compoundType!==r.DataType.Set&&this.prevNode.expression.getDataType()===r.DataType.Set&&this.expression.is(r.ExpressionEntity.SubtractOperator)?this.prevNode.overwriteNode(e,r.DataType.Set):this.compoundType!==r.DataType.Invalid&&this.compoundType!==r.DataType.List&&this.compoundType!==r.DataType.Tuple&&this.compoundType!==r.DataType.Set&&this.compoundType!==r.DataType.Dict&&this.expression.getEntity()===r.ExpressionEntity.InKeyword?new q(e,r.DataType.Bool,this):this.compoundType===r.DataType.Unknown&&(this.expression.isOneOfEntities([r.ExpressionEntity.SubtractOperator,r.ExpressionEntity.ModulusOperator])||this.expression.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators]))?new q(e,r.DataType.Unknown):(this.compoundType!==r.DataType.Unknown&&this.compoundType!==r.DataType.Invalid&&(this.expression.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a set. The ").concat(this.expression.getValue()," operator cannot be used with sets.")):this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a set but the expression before the ").concat(this.expression.getValue()," is a ").concat(this.compoundType,". A set can only be compared with a set."))),new q(e,r.DataType.Invalid,this))}},{key:"processFileValue",value:function(e){return this.compoundType!==r.DataType.Invalid&&this.expression.getEntity()===r.ExpressionEntity.InKeyword?new J(e,r.DataType.Bool,this):new J(e,r.DataType.Invalid,this)}},{key:"processDictValue",value:function(e){return e.getCategory()===r.ExpressionCategory.BuiltInMethods||this.expression.getCategory()===r.ExpressionCategory.LogicalOperators?new H(e,r.DataType.Dict,this):this.compoundType!==r.DataType.Invalid&&this.compoundType!==r.DataType.List&&this.compoundType!==r.DataType.Tuple&&this.compoundType!==r.DataType.Set&&this.compoundType!==r.DataType.Dict&&this.expression.getEntity()===r.ExpressionEntity.InKeyword?new H(e,r.DataType.Bool,this):this.compoundType===r.DataType.Unknown&&(this.expression.isOneOfEntities([r.ExpressionEntity.ModulusOperator])||this.expression.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators]))?new H(e,r.DataType.Unknown):(this.compoundType!==r.DataType.Unknown&&this.compoundType!==r.DataType.Invalid&&(this.expression.getCategory()===r.ExpressionCategory.MathsOperators?this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a dictionary. The ").concat(this.expression.getValue()," operator cannot be used with sets.")):this.expression.getCategory()===r.ExpressionCategory.ComparisonOperators&&this.setFeedback(this.expression.getLocalIndex(),"".concat(e.getValue()," is a dictionary but the expression before the ").concat(this.expression.getValue()," is a ").concat(this.compoundType,". A set can only be compared with a set."))),new H(e,r.DataType.Invalid,this))}},{key:"processNoneValue",value:function(e){return this.expression.isOneOfEntities([r.ExpressionEntity.EqualOperator,r.ExpressionEntity.NotEqualOperator,r.ExpressionEntity.IsKeyword])?new ee(e,r.DataType.Bool,this):e.getCategory()===r.ExpressionCategory.BuiltInMethods?new ee(e,r.DataType.None,this):this.compoundType===r.DataType.Unknown&&(this.expression.isOneOfEntities([r.ExpressionEntity.ModulusOperator])||this.expression.isOneOfCategories([r.ExpressionCategory.ComparisonOperators,r.ExpressionCategory.LogicalOperators]))?new ee(e,r.DataType.Unknown):new ee(e,r.DataType.Invalid,this)}},{key:"processUnknownValue",value:function(e){return this.compoundType!==r.DataType.Invalid?new te(e,r.DataType.Unknown,this):new te(e,r.DataType.Invalid,this)}},{key:"isValidMethod",value:function(e){return!1}},{key:"computeSubExpressionType",value:function(e,t){return r.DataType.Invalid}}]),n}(P),ie=new WeakMap,re=new WeakMap,oe=function(){function e(t,n){l(this,e),x(this,ie,{writable:!0,value:void 0}),x(this,re,{writable:!0,value:void 0}),b(this,ie,t),b(this,re,n)}return p(e,[{key:"getLocalIndex",value:function(){return I(this,ie)}},{key:"getMessage",value:function(){return I(this,re)}}]),e}();n.CompoundExpressionFeedback=oe},{"./expression.js":8,"./observers.js":11}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ConditionalSequence=n.Conditional=void 0;var i=e("./expression.js");function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function c(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,h(e,t,"get"))}function p(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,h(e,t,"set"),n),n}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var y=new WeakMap,d=new WeakMap,f=new WeakMap,g=function(){function e(t){s(this,e),l(this,y,{writable:!0,value:void 0}),l(this,d,{writable:!0,value:void 0}),l(this,f,{writable:!0,value:void 0}),p(this,y,t),p(this,d,[]),p(this,f,-1)}return u(e,[{key:"addBranch",value:function(e,t){e===i.ExpressionEntity.ElifDefinition?c(this,d).push(t):e===i.ExpressionEntity.ElseDefinition&&p(this,f,t)}},{key:"addElif",value:function(e){c(this,d).push(e)}},{key:"setElse",value:function(e){p(this,f,e)}},{key:"hasElifs",value:function(){return c(this,d).length>0}},{key:"hasElse",value:function(){return c(this,f)>=0}},{key:"getIfIndex",value:function(){return c(this,y)}},{key:"getElifs",value:function(){return c(this,d)}},{key:"getElseIndex",value:function(){return c(this,f)}},{key:"isExhaustive",value:function(){return this.hasElse()}},{key:"getNumberOfBranches",value:function(){return 1+c(this,d).length+(c(this,f)>=0?1:0)}}]),e}();n.Conditional=g;var E=new WeakMap,m=function(){function e(){s(this,e),l(this,E,{writable:!0,value:[]})}return u(e,[{key:"addBranch",value:function(e,t){c(this,E).push({lineNum:e,docIndex:t})}},{key:"containsBranch",value:function(e){var t,n=r(c(this,E));try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.lineNum===e)return!0;if(i.lineNum>e)return!1}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"isEmpty",value:function(){return 0===c(this,E).length}},{key:"toJSON",value:function(){return c(this,E)}}]),e}();n.ConditionalSequence=m},{"./expression.js":8}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DocInfo=void 0;var i=e("./executionline.js"),r=e("./line.js"),o=e("./block.js"),s=e("./identifiers.js"),a=e("./expression.js"),u=e("./conditional.js"),l=e("./compoundExpression.js"),c=e("../problem-finder/symptom.js"),p=e("../problem-finder/misconception.js"),h=e("../utils/constants.js");function y(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function g(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function x(e,t){w(e,t),t.add(e)}function v(e,t,n){w(e,t),t.set(e,n)}function w(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function I(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,k(e,t,"get"))}function b(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function T(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,k(e,t,"set"),n),n}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var O=new WeakMap,S=new WeakMap,D=new WeakMap,M=new WeakMap,C=new WeakMap,L=new WeakMap,N=new WeakMap,F=new WeakMap,B=new WeakMap,A=new WeakMap,P=new WeakSet,R=new WeakSet,V=new WeakSet,U=new WeakSet,_=new WeakSet,W=new WeakSet,j=new WeakSet,K=new WeakSet,G=new WeakSet,q=new WeakSet,H=new WeakSet,J=new WeakSet,z=new WeakSet,X=new WeakSet,Y=new WeakSet,Q=new WeakSet,Z=new WeakSet,$=new WeakSet,ee=new WeakSet,te=new WeakSet,ne=new WeakSet,ie=new WeakSet,re=new WeakSet,oe=new WeakSet,se=new WeakSet,ae=new WeakSet,ue=new WeakSet,le=new WeakSet,ce=new WeakSet,pe=new WeakSet,he=new WeakSet,ye=new WeakSet,de=new WeakSet,fe=new WeakSet,ge=new WeakSet,Ee=new WeakSet,me=new WeakSet,xe=new WeakSet,ve=new WeakSet,we=new WeakSet,Ie=new WeakSet,be=new WeakSet,Te=new WeakSet,ke=new WeakSet,Oe=new WeakSet,Se=new WeakSet,De=new WeakSet,Me=new WeakSet,Ce=new WeakSet,Le=new WeakSet,Ne=new WeakSet,Fe=new WeakSet,Be=new WeakSet,Ae=new WeakSet,Pe=new WeakSet,Re=new WeakSet,Ve=new WeakSet,Ue=new WeakSet,_e=new WeakSet,We=new WeakSet,je=new WeakSet,Ke=new WeakSet,Ge=new WeakSet,qe=new WeakSet,He=new WeakSet,Je=new WeakSet,ze=new WeakSet,Xe=new WeakSet,Ye=new WeakSet,Qe=new WeakSet,Ze=new WeakSet,$e=new WeakSet,et=new WeakSet,tt=new WeakSet,nt=new WeakSet,it=new WeakSet,rt=new WeakSet,ot=new WeakSet,st=new WeakSet,at=new WeakSet,ut=new WeakSet,lt=new WeakSet,ct=new WeakSet,pt=new WeakSet,ht=new WeakSet,yt=new WeakSet,dt=new WeakSet,ft=new WeakSet,gt=new WeakSet,Et=new WeakSet,mt=new WeakSet,xt=new WeakSet,vt=new WeakSet,wt=new WeakSet,It=new WeakSet,bt=new WeakSet,Tt=new WeakSet,kt=new WeakSet,Ot=new WeakSet,St=new WeakSet,Dt=new WeakSet,Mt=new WeakSet,Ct=new WeakSet,Lt=new WeakSet,Nt=new WeakSet,Ft=new WeakSet,Bt=new WeakSet,At=new WeakSet,Pt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,At),x(this,Bt),x(this,Ft),x(this,Nt),x(this,Lt),x(this,Ct),x(this,Mt),x(this,Dt),x(this,St),x(this,Ot),x(this,kt),x(this,Tt),x(this,bt),x(this,It),x(this,wt),x(this,vt),x(this,xt),x(this,mt),x(this,Et),x(this,gt),x(this,ft),x(this,dt),x(this,yt),x(this,ht),x(this,pt),x(this,ct),x(this,lt),x(this,ut),x(this,at),x(this,st),x(this,ot),x(this,rt),x(this,it),x(this,nt),x(this,tt),x(this,et),x(this,$e),x(this,Ze),x(this,Qe),x(this,Ye),x(this,Xe),x(this,ze),x(this,Je),x(this,He),x(this,qe),x(this,Ge),x(this,Ke),x(this,je),x(this,We),x(this,_e),x(this,Ue),x(this,Ve),x(this,Re),x(this,Pe),x(this,Ae),x(this,Be),x(this,Fe),x(this,Ne),x(this,Le),x(this,Ce),x(this,Me),x(this,De),x(this,Se),x(this,Oe),x(this,ke),x(this,Te),x(this,be),x(this,Ie),x(this,we),x(this,ve),x(this,xe),x(this,me),x(this,Ee),x(this,ge),x(this,fe),x(this,de),x(this,ye),x(this,he),x(this,pe),x(this,ce),x(this,le),x(this,ue),x(this,ae),x(this,se),x(this,oe),x(this,re),x(this,ie),x(this,ne),x(this,te),x(this,ee),x(this,$),x(this,Z),x(this,Q),x(this,Y),x(this,X),x(this,z),x(this,J),x(this,H),x(this,q),x(this,G),x(this,K),x(this,j),x(this,W),x(this,_),x(this,U),x(this,V),x(this,R),x(this,P),v(this,O,{writable:!0,value:void 0}),v(this,S,{writable:!0,value:[]}),v(this,D,{writable:!0,value:void 0}),v(this,M,{writable:!0,value:void 0}),v(this,C,{writable:!0,value:void 0}),v(this,L,{writable:!0,value:void 0}),v(this,N,{writable:!0,value:void 0}),v(this,F,{writable:!0,value:void 0}),v(this,B,{writable:!0,value:[]}),v(this,A,{writable:!0,value:[]}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"numLines",0),T(this,O,t),T(this,D,new o.Block),T(this,M,new Map),T(this,C,new Map),T(this,N,new Map),T(this,L,new Set),T(this,F,new Map),b(this,P,Rt).call(this,t),b(this,ot,si).call(this),b(this,ut,li).call(this)}var t,n,i;return t=e,(n=[{key:"getExecutionLines",value:function(){return I(this,S)}},{key:"getUserDefinedFunctions",value:function(){return I(this,M)}},{key:"getVariables",value:function(){return I(this,N)}},{key:"getConditionals",value:function(){return I(this,B)}},{key:"getExecutionLineContainingExpression",value:function(e,t,n){for(var i=t<I(this,S).length?t:I(this,S).length-1;i>=0&&i<I(this,S).length;)if(I(this,S)[i].containsLine(t)){var r=I(this,S)[i].getExpressions(),o=I(this,S)[i].convertLineIndexToLocalIndex(t,n);if(o>=0&&o<r.length&&r[o].getValue()===e)return I(this,S)[i];i--}else{if(!(I(this,S)[i].minLine()>t))break;i--}for(i=t+1;i>=0&&i<I(this,S).length;)if(I(this,S)[i].containsLine(t)){var s=I(this,S)[i].getExpressions(),a=I(this,S)[i].convertLineIndexToLocalIndex(t,n);if(a>=0&&a<s.length&&s[a].getValue()===e)return I(this,S)[i];i++}else{if(!(I(this,S)[i].maxLine()<t))break;i++}}},{key:"getSymptoms",value:function(){return I(this,A)}},{key:"getMisconceptions",value:function(){return(0,p.identifyMisconceptions)(I(this,A),I(this,N),I(this,M))}},{key:"getText",value:function(){return I(this,O)}},{key:"getBlocks",value:function(){return I(this,D)}}])&&m(t.prototype,n),i&&m(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rt(e){var t=e.split(/\r?\n/);this.numLines=t.length;for(var n=[],i=[],r=I(this,D),o=0;o<t.length;o++)r=b(this,R,Vt).call(this,n,i,r,t[o]);T(this,S,i),b(this,J,Jt).call(this,i),b(this,V,Ut).call(this,i)}function Vt(e,t,n,o){var s=e.length>0&&!e[e.length-1].isFullyProcessed(),u=e.length,l=u>0?e[u-1]:void 0,c=0===u?0:s?l.getLineNumber():l.getLineNumber()+1,p=0===u?0:s?l.getStartingDocIndex():l.getStartingDocIndex()+l.getRawContent(!0).length+1,h=0!==u&&l.continuesOnNextLine(),y=0===u?void 0:l.getMultilineCommentDelimiter(),d=0===u?void 0:l.getStringLiteralDelimiter(),f=0===u?void 0:l.getGroupCharCounts(),g=0===u?void 0:l.getLastExpression(),E=0===u?0:l.getNextLineStartIndex();if(void 0!==g&&g.is(a.ExpressionEntity.ContinuationLine)){var m=l.getExpressions();g=m.length>0?m[m.length-1]:void 0}return e.push(new r.Line(p,c,o,{continuationLine:h,multilineCommentDelimeter:y,stringLiteralDelimeter:d,groupCharCounts:f,lastExpression:g,rawContentStartIndex:E})),h?t[t.length-1].addLine(e[e.length-1]):(l=e[e.length-1],n=b(this,G,Gt).call(this,l,n),t.push(new i.ExecutionLine(l,n))),e[e.length-1].isFullyProcessed()||(n=b(this,R,Vt).call(this,e,t,n,o)),e[e.length-1].isExit()&&n.setBlockExits(),n}function Ut(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.isUnfinished())break;var r=i.getBlock().getBlockEntity();if(!i.isBlank()&&!i.isBlockDefinition()||r===a.ExpressionEntity.IfDefinition||r===a.ExpressionEntity.ElifDefinition||r===a.ExpressionEntity.ElseDefinition||r===a.ExpressionEntity.WhileDefinition){var o=i.getExpressions(),s=b(this,_,Wt).call(this,i,o,0),u=s>0?o[s-1]:void 0;b(this,j,jt).call(this,i.getCompoundExpression(),o,s,o.length,u)}else if(i.isBlockDefinition()&&r===a.ExpressionEntity.ForDefinition){var l=i.indexOfEntity(a.ExpressionEntity.ForDefinition),c=i.getExpressions();b(this,j,jt).call(this,i.getCompoundExpression(),c,l+1,c.length,c[l]),b(this,U,_t).call(this,i,c,l)}}}catch(e){n.e(e)}finally{n.f()}}function _t(e,t,n){var i=n+1,r=e.indexOfEntity(a.ExpressionEntity.InKeyword);if(n>=0&&r>i&&r<t.length-2){var o=t[i],s=2;o.is(a.ExpressionEntity.OpenParenthesis)&&(o=t[i+=1],s=4);var u=t[r+1],l=b(this,ke,On).call(this,o,i);void 0!==l&&(u.is(a.ExpressionEntity.EnumerateFunction)?r-n===s?l.setType(a.DataType.Tuple):l.setType(a.DataType.Int):u.is(a.ExpressionEntity.RangeFunction)?l.setType(a.DataType.Int):u.getDataType()===a.DataType.String||u.getDataType()===a.DataType.File?l.setType(a.DataType.String):l.setType(a.DataType.Unknown))}}function Wt(e,t,n){for(var i=a.ExpressionEntity.Unknown;n<t.length-1;)if(t[n].is(a.ExpressionEntity.VariableName)){for(;i===a.ExpressionEntity.Unknown&&n<t.length-1&&t[n+1].is(a.ExpressionEntity.OpenSquareBracket);){var r=b(this,ve,wn).call(this,t,n+1);b(this,K,Kt).call(this,e.getCompoundExpression(),t,n+2,r,t[n+1],!0),n=r}if(n<t.length-1&&t[n+1].isChangeOperator())i=t[n+1].getEntity(),n+=2;else{if(!(n<t.length-1&&t[n].is(a.ExpressionEntity.VariableName)&&t[n+1].is(a.ExpressionEntity.Comma)))break;n+=2}}else{if(t[n].is(a.ExpressionEntity.ReturnKeyword))return n+1;if(i===a.ExpressionEntity.Unknown&&t[n].isOneOfCategories([a.ExpressionCategory.FunctionName,a.ExpressionCategory.BuiltInFunctions,a.ExpressionCategory.BuiltInMethods,a.ExpressionCategory.OtherMethods,a.ExpressionCategory.MagicMethods]))return 0;if(i!==a.ExpressionEntity.Unknown||!t[n].is(a.ExpressionEntity.OpenParenthesis))break;for(var o=b(this,ve,wn).call(this,t,n),s=n+1,u=!1;s<o;){if(!t[s].isOneOfEntities([a.ExpressionEntity.VariableName,a.ExpressionEntity.OpenSquareBracket,a.ExpressionEntity.CloseSquareBracket,a.ExpressionEntity.Colon,a.ExpressionEntity.IntLiteral,a.ExpressionEntity.Comma,a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.CloseParenthesis]))return 0;t[s].is(a.ExpressionEntity.VariableName)&&(u=!0),s++}if(!u)return 0;(n=o)<t.length-1&&t[n+1].isChangeOperator()&&(i=t[n+1].getEntity(),n+=2)}return i!==a.ExpressionEntity.Unknown?n:0}function jt(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=n;o<i;o++)if(void 0===r||t[o].isOperator()||t[o].isKeywordUsingValue()||t[o].is(a.ExpressionCategory.Other)||t[o].setUsedBy(r),t[o].isOneOfCategories([a.ExpressionCategory.Identifiers,a.ExpressionCategory.Literals,a.ExpressionCategory.Types,a.ExpressionCategory.BuiltInFunctions,a.ExpressionCategory.BuiltInMethods,a.ExpressionCategory.OtherMethods,a.ExpressionCategory.MagicMethods,a.ExpressionCategory.MathsOperators,a.ExpressionCategory.ComparisonOperators,a.ExpressionCategory.LogicalOperators,a.ExpressionCategory.BuiltInModules,a.ExpressionCategory.ImportedEntities,a.ExpressionCategory.ModuleFunctions,a.ExpressionCategory.ModuleProperties,a.ExpressionCategory.Unknown])||t[o].isOneOfEntities([a.ExpressionEntity.Dot,a.ExpressionEntity.InKeyword,a.ExpressionEntity.IsKeyword])){if(e.addExpression(t[o],o),t[o].isOneOfEntities([a.ExpressionEntity.AndOperator,a.ExpressionEntity.OrOperator])&&o<i-1){var s=b(this,me,xn).call(this,t,o+1),u=b(this,K,Kt).call(this,e,t,o+1,s+1,r),l=t[o+1].getEntity()===a.ExpressionEntity.NotOperator?t[s].getCategory():t[o+1].getCategory(),c=new a.Expression(t[o+1].getEntity(),l,t[o+1].getLineNumber(),t[o+1].getLocalIndex(),u.toString(),u.getEvaluatedType());u.addObserver(c),e.addExpression(c,o+1),o=s}}else{if(t[o].is(a.ExpressionEntity.Comma)){if(o<i-1&&(b(this,K,Kt).call(this,e,t,o+1,i,r),n>0&&t[n-1].isOneOfEntities([a.ExpressionEntity.ReturnKeyword,a.ExpressionEntity.AssignmentOperator])&&!b(this,be,Tn).call(this,t,o))){var p=a.Expression.create(a.ExpressionEntity.TupleDefinition,t[n].getLineNumber(),t[n].getLocalIndex(),b(this,Ee,mn).call(this,t,n,i-1));e.overwrite(p,n)}break}if(o>0&&t[o].is(a.ExpressionEntity.OpenParenthesis)){var h=b(this,ve,wn).call(this,t,o);if(t[o-1].is(a.ExpressionEntity.FunctionName)||t[o-1].isOneOfCategories([a.ExpressionCategory.BuiltInMethods,a.ExpressionCategory.BuiltInFunctions,a.ExpressionCategory.OtherMethods,a.ExpressionCategory.MagicMethods,a.ExpressionCategory.ImportedEntities,a.ExpressionCategory.ModuleFunctions,a.ExpressionCategory.Unknown]))b(this,K,Kt).call(this,e,t,o+1,h,t[o-1]),o=h;else{for(var y=!1,d=o+1;d<h;d++)if(t[d].isOneOfEntities([a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenSquareBracket,a.ExpressionEntity.OpenBrace]))d=b(this,ve,wn).call(this,t,d);else if(t[d].is(a.ExpressionEntity.Comma)){var f=a.Expression.create(a.ExpressionEntity.TupleDefinition,t[o].getLineNumber(),t[o].getLocalIndex(),b(this,Ee,mn).call(this,t,o,h));e.addExpression(f,o),b(this,K,Kt).call(this,e,t,o+1,h,f,!0),o=h,y=!0;break}if(!y){var g=b(this,K,Kt).call(this,e,t,o+1,h,r,!0),E=new a.Expression(t[o].getEntity(),t[o].getCategory(),t[o].getLineNumber(),t[o].getLocalIndex(),g.toString(),g.getEvaluatedType());g.addObserver(E),e.addExpression(E,o),o=h}}}else if(o>0&&t[o].is(a.ExpressionEntity.OpenSquareBracket)){var m=b(this,ve,wn).call(this,t,o);if(t[o-1].isOneOfEntities([a.ExpressionEntity.VariableName,a.ExpressionEntity.PropertyName,a.ExpressionEntity.CloseParenthesis])){var x=b(this,fe,gn).call(this,t,a.ExpressionEntity.Colon,o),v=a.ExpressionEntity.IndexKey;x>o&&x<m&&(v=a.ExpressionEntity.Slice),b(this,K,Kt).call(this,e,t,o+1,m,t[o],!0);var w=a.Expression.create(v,t[o].getLineNumber(),t[o].getLocalIndex(),b(this,Ee,mn).call(this,t,o,m));e.addExpression(w,o),o=m}else{var I=a.Expression.create(a.ExpressionEntity.ListDefinition,t[o].getLineNumber(),t[o].getLocalIndex(),b(this,Ee,mn).call(this,t,o,m));I.setUsedBy(r),e.addExpression(I,o),b(this,K,Kt).call(this,e,t,o+1,m,I,!0),o=m}}else if(t[o].is(a.ExpressionEntity.OpenBrace)){var T=b(this,ve,wn).call(this,t,o),k=b(this,fe,gn).call(this,t,a.ExpressionEntity.Colon,o),O=k>o&&k<T||T-o==1?a.ExpressionEntity.DictDefinition:a.ExpressionEntity.SetDefinition,S=a.Expression.create(O,t[o].getLineNumber(),t[o].getLocalIndex(),b(this,Ee,mn).call(this,t,o,T));S.setUsedBy(r),e.addExpression(S),b(this,K,Kt).call(this,e,t,o+1,T,S,!0),o=T}else if(o>0&&t[o].is(a.ExpressionEntity.IfDefinition)){var D=b(this,fe,gn).call(this,t,a.ExpressionEntity.ElseDefinition,o),M=D>0?b(this,fe,gn).call(this,t,a.ExpressionEntity.ForDefinition,D):-1;if(D>0&&D<i-1){b(this,K,Kt).call(this,e,t,o+1,D,t[o]);var C=b(this,K,Kt).call(this,e,t,D+1,-1===M?i:M,r);e.getEvaluatedType()!==C.getEvaluatedType()&&(e.getEvaluatedType()!==a.DataType.Float&&e.getEvaluatedType()!==a.DataType.Int&&e.getEvaluatedType()!==a.DataType.Number||C.getEvaluatedType()!==a.DataType.Float&&C.getEvaluatedType()!==a.DataType.Int&&C.getEvaluatedType()!==a.DataType.Number?e.sendUpdate(a.DataType.Unknown):e.sendUpdate(a.DataType.Number)),M>D&&b(this,K,Kt).call(this,e,t,M+1,i,t[M]),o=t.length}}else 0===o&&t[o].isOneOfEntities([a.ExpressionEntity.WhileDefinition,a.ExpressionEntity.ForDefinition,a.ExpressionEntity.IfDefinition,a.ExpressionEntity.ElifDefinition])&&(r=t[o])}}function Kt(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=new l.CompoundExpression(o);return e.getNestedCompoundExpressions().push(s),b(this,j,jt).call(this,s,t,n,i,r),s}function Gt(e,t){if(e.isBlockDefinition())return b(this,q,qt).call(this,e,t);for(;!e.isBlank()&&t.getIndentation()>=e.getIndent()&&(!e.containsMultipleLines()||!e.isFullyProcessed());){var n=t.getParentBlock();t=void 0!==n?n:I(this,D)}return t}function qt(e,t){var n=e.getExpressions()[0].getEntity(),i=new o.Block(n,void 0,e.getLineNumber(),e.getIndent());if(i.getIndentation()===t.getIndentation())t.getParentBlock().addChildBlock(i),(t.getBlockEntity()!==a.ExpressionEntity.IfDefinition&&t.getBlockEntity()!==a.ExpressionEntity.ElifDefinition||i.getBlockEntity()!==a.ExpressionEntity.ElifDefinition&&i.getBlockEntity()!==a.ExpressionEntity.ElseDefinition)&&(t.getBlockEntity()!==a.ExpressionEntity.TryDefinition||i.getBlockEntity()!==a.ExpressionEntity.ExceptDefinition)||t.addAlternate(i);else if(i.getIndentation()>t.getIndentation())t.addChildBlock(i);else{for(var r=t.getParentBlock();void 0!==r&&r.getIndentation()>=i.getIndentation();)r=r.getParentBlock();var s=r.getChildBlocks();r.addChildBlock(i),i.getBlockEntity()!==a.ExpressionEntity.ElifDefinition&&i.getBlockEntity()!==a.ExpressionEntity.ElseDefinition||!(s.length>1)||s[s.length-2].getBlockEntity()!==a.ExpressionEntity.IfDefinition&&s[s.length-2].getBlockEntity()!==a.ExpressionEntity.ElifDefinition||s[s.length-2].addAlternate(i)}return i}function Ht(e){var t,n=f(e.getModules().entries());try{for(n.s();!(t=n.n()).done;){var i=d(t.value,2),r=i[0],o=i[1];I(this,F).set(r,o)}}catch(e){n.e(e)}finally{n.f()}}function Jt(e){for(var t,n=[],i=[],r=0;r<e.length;r++){var o=e[r];if(o.isUnfinished())break;o.checkForSymptoms(),b(this,H,Ht).call(this,o),b(this,ee,en).call(this,o);var s=o.getExpressions();o.isFunctionDefinition()?(void 0!==t&&b(this,ne,nn).call(this,t),t=b(this,ye,dn).call(this,s,o)):(o.isConditionalDefinition()&&b(this,he,yn).call(this,o.getFirstExpression(),r),o.getBlock().getScope().getBlockEntity()===a.ExpressionEntity.DocumentDefinition?n.push(r):i.push(r),b(this,re,on).call(this,o.getFunctionCalls()),b(this,$,$t).call(this,o),b(this,Y,Yt).call(this,o.getOtherIdentifiers()),void 0===t||o.isBlank()?void 0!==t&&r===e.length-1&&b(this,ne,nn).call(this,t):t.getBlock().hasChild(o.getBlock())?(t.addLine(o),o.indexOfEntity(a.ExpressionEntity.ReturnKeyword)>=0?b(this,oe,sn).call(this,o,t):o.indexOfEntity(a.ExpressionEntity.BreakKeyword)>=0&&t.addExitBlock(o.getBlock())):(b(this,ne,nn).call(this,t),t=void 0))}b(this,X,Xt).call(this,n.concat(i))}function zt(e){for(var t=e.getExpressions(),n=e.getBlock().getScope(),i=0;i<t.length;i++)if(t[i].is(a.ExpressionCategory.Types)&&!t[i].isOneOfEntities([a.ExpressionEntity.TrueType,a.ExpressionEntity.FalseType,a.ExpressionEntity.NoneType])){var r=t[i].getValue();if(I(this,N).has(r)){var o,s=f(I(this,N).get(r));try{for(s.s();!(o=s.n()).done;){o.value.getScope()===n&&t[i].convert(a.ExpressionEntity.VariableName,a.ExpressionCategory.Identifiers,a.DataType.Unknown),e.insertVariableUsage(t[i],i)}}catch(e){s.e(e)}finally{s.f()}}}}function Xt(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=I(this,S)[i];if(r.isUnfinished())break;b(this,z,zt).call(this,r);var o=r.getExpressions();b(this,se,an).call(this,r.getVariableUsages(),r,i);var s=r.indexOfEntity(a.ExpressionEntity.F);if(s>=0)for(var u=s;u<o.length-1;u++)o[u].is(a.ExpressionEntity.F)&&o[u+1].is(a.ExpressionEntity.StringLiteral)&&(b(this,te,tn).call(this,o[u+1].getValue(),r.getBlock()),u++)}}catch(e){n.e(e)}finally{n.f()}}function Yt(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;I(this,L).add(i)}}catch(e){n.e(e)}finally{n.f()}}function Qt(e){return I(this,M).has(e.name)}function Zt(e,t){var n,i=e.getExpressions(),r=new Map,o=f(t);try{for(o.s();!(n=o.n()).done;){var u=n.value,l=i[u];l.convert(a.ExpressionEntity.FunctionName,a.ExpressionCategory.Identifiers),r.has(l.getValue())||r.set(l.getValue(),[]);var c=new s.FunctionUsage(l.getLineNumber(),u);r.get(l.getValue()).push(c)}}catch(e){o.e(e)}finally{o.f()}b(this,re,on).call(this,r)}function $t(e){var t,n=f(e.getBuiltInCalls());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(b(this,Q,Qt).call(this,i)){var r=e.getSequencesOfPattern([[i]]).flatMap((function(e){return e}));b(this,Z,Zt).call(this,e,r)}else;}}catch(e){n.e(e)}finally{n.f()}}function en(e){var t=e.getSymptoms();t.length>0&&T(this,A,I(this,A).concat(t))}function tn(e,t){var n,i=/[ :]/,r=/([a-zA-Z_][a-zA-Z_0-9]*)/g,o=f(y(e.matchAll(/{([^}]+)}/g)));try{for(o.s();!(n=o.n()).done;){var s,a=f(n.value[1].split(i));try{for(a.s();!(s=a.n()).done;){var u=s.value,l=y(u.matchAll(r));if(1===l.length&&u===l[0][1]&&I(this,N).has(l[0][1])){var c,p=f(I(this,N).get(l[0][1]));try{for(p.s();!(c=p.n()).done;){var h=c.value;h.getScope().hasChild(t)&&h.usedInFString()}}catch(e){p.e(e)}finally{p.f()}}}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}}function nn(e){var t=e.getLines(),n=t[t.length-1];if(-1===n.indexOfEntity(a.ExpressionEntity.ReturnKeyword)||0===e.getReturnTypes().length)e.addReturnLine(n);else if(n.getBlock()!==t[0].getBlock()){for(var i=!1,r=n.getBlock();r!==t[0].getBlock();){if(b(this,ie,rn).call(this,r,e)){i=!0;break}var o=r.getParentBlock();if(void 0===o)break;r=o}i&&e.addBranchWithNoReturn()}}function rn(e,t){var n=e.getBlockEntity();if(n===a.ExpressionEntity.IfDefinition||n===a.ExpressionEntity.ElifDefinition||n===a.ExpressionEntity.ForDefinition||n===a.ExpressionEntity.WhileDefinition)return!0;if(n===a.ExpressionEntity.ElseDefinition){var i,r=e.getAlternateBranches(),o=f(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(!t.hasReturnInBlock(s))return!0}}catch(e){o.e(e)}finally{o.f()}return!(r.size>0)}return!1}function on(e){var t,n=f(e.keys());try{for(n.s();!(t=n.n()).done;){var i=t.value,r=I(this,M).get(i);if(void 0===r){var o=!1;if(I(this,N).has(i)&&1===I(this,N).get(i).filter((function(e){return e.isImport()})).length){var u,l=I(this,N).get(i).filter((function(e){return e.isImport()}))[0],c=f(e.get(i));try{for(c.s();!(u=c.n()).done;){var p=u.value,h=this.getExecutionLineContainingExpression(i,p.getLineNumber(),p.getIndex()),y=h.getExpressionOnLine(p.getLineNumber(),p.getIndex());l.addUsage(new s.VariableUsage(p.getIndex(),p.getLineNumber(),h.getDocumentStartingIndex()+y.getLocalIndex(),a.DataType.Unknown)),y.convert(a.ExpressionEntity.Unknown,a.ExpressionCategory.Unknown,a.DataType.Unknown)}}catch(e){c.e(e)}finally{c.f()}o=!0;continue}var g,E=f(I(this,F));try{for(E.s();!(g=E.n()).done;){var m=d(g.value,2);m[0];if(m[1].hasDirectImport(i)){var x,v=f(e.get(i));try{for(v.s();!(x=v.n()).done;){var w=x.value;this.getExecutionLineContainingExpression(i,w.getLineNumber(),w.getIndex()).getExpressionOnLine(w.getLineNumber(),w.getIndex()).convert(a.ExpressionEntity.NamedImport,a.ExpressionCategory.ImportedEntities,a.DataType.Unknown)}}catch(e){v.e(e)}finally{v.f()}o=!0}}}catch(e){E.e(e)}finally{E.f()}o||(I(this,C).has(i)||I(this,C).set(i,new s.UserDefinedFunction(i)),r=I(this,C).get(i))}if(r){r.addMultipleFunctionCalls(e.get(i));var b,T=f(e.get(i));try{for(T.s();!(b=T.n()).done;){var k=b.value,O=this.getExecutionLineContainingExpression(i,k.getLineNumber(),k.getIndex());if(void 0!==O){var S=O.getExpressionOnLine(k.getLineNumber(),k.getIndex());r.getReturnTypes().length>0&&S.typeUpdateReceived(1===r.getReturnTypes().length?r.getReturnTypes()[0]:a.DataType.Unknown),r.addObserver(S,r.getAggregateReturnType())}}}catch(e){T.e(e)}finally{T.f()}}}}catch(e){n.e(e)}finally{n.f()}}function sn(e,t){t.addReturnLine(e),e.getCompoundExpression().addObserver(t),t.addExitBlock(e.getBlock())}function an(e,t,n){var i,r=f(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.setExecutionLineNumber(n),void 0!==t){var s=t.getExpressionOnLine(o.getLineNumber(),o.getIndex()),u=s.getValue(),l=t.convertLineIndexToLocalIndex(o.getLineNumber(),o.getIndex()),c=t.isVariableAssigned(o),p=t.isVariableIncremented(o),h=s.getEntity()===a.ExpressionEntity.ModuleName||s.getCategory()===a.ExpressionCategory.BuiltInModules,y=!h&&b(this,de,fn).call(this,u);if((c||p)&&o.setValueIsAssigned(),h){var d=b(this,ue,ln).call(this,u,o,t);d.setIsImport(),o.setType(s.getDataType()),d.addUsage(o)}else{if(y){var g=(0,a.keywordLookup)(u),E=g.entity===a.ExpressionEntity.Unknown?a.ExpressionEntity.NamedImport:g.entity,m=g.category===a.ExpressionCategory.Unknown?a.ExpressionCategory.ImportedEntities:g.category;s.convert(E,m,E!==a.ExpressionEntity.Unknown&&a.builtInReturnLookup.has(E)?a.builtInReturnLookup.get(E):a.DataType.Unknown);break}if(t.isPrintVariable(l))s.convert("sep"===u?a.ExpressionEntity.Sep:a.ExpressionEntity.End,a.ExpressionCategory.SpecialVariables,a.DataType.String);else{var x=b(this,ue,ln).call(this,u,o,t),v=t.getExpressions();if(c)l+1<v.length&&v[l+1].is(a.ExpressionEntity.Comma)||l>0&&v[l-1].is(a.ExpressionEntity.Comma)&&!t.isExpressionInFunctionCall(l)?b(this,ae,un).call(this,o,v,l,t):(l+1<v.length-1&&v[l+1].is(a.ExpressionEntity.AssignmentOperator)&&v[l+2].getDataType()!==a.DataType.NA&&o.setType(v[l+2].getDataType()),t.getCompoundExpression().addObserver(o));else if(l>0&&v[l-1].is(a.ExpressionEntity.AsKeyword)&&v[0].is(a.ExpressionEntity.WithKeyword))o.setType(v[1].getDataType()),v[1].addObserver(o);else{var w=x.getLastUsageBefore(o,I(this,S));o.addPreviousUsages(w)}x.addUsage(o)}}}}}catch(e){r.e(e)}finally{r.f()}}function un(e,t,n,i){for(var r=i.indexOfEntity(a.ExpressionEntity.AssignmentOperator),o=n/2,s=i.getSequencesOfPattern([[a.ExpressionEntity.VariableName],[a.ExpressionEntity.Comma]],r).length+1,u=[],c=r+1,p=r+1;p<t.length;p++)p===c&&u.push([c]),p===t.length-1?u[u.length-1].push(p):t[p].is(a.ExpressionEntity.Comma)?(u[u.length-1].push(p-1),c=p+1):t[p].isOneOfEntities([a.ExpressionEntity.OpenBrace,a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenSquareBracket])&&(p=b(this,ve,wn).call(this,t,p))===t.length-1&&u[u.length-1].push(p);if(u.length!==s)e.setType(a.DataType.Unknown);else{var h=u[o];if(h[1]===h[0])e.setType(t[h[0]].getDataType()),t[h[0]].is(a.ExpressionCategory.Literals)||t[h[0]].addObserver(e);else{var y=new l.CompoundExpression;i.getCompoundExpression().getNestedCompoundExpressions().push(y),b(this,j,jt).call(this,y,t,h[0],h[1]+1,t[r]),e.setType(y.getEvaluatedType()),y.addObserver(e)}}}function ln(e,t,n){var i=b(this,le,cn).call(this,t,n),r=i&&n.isExpressionInGroup(n.convertLineIndexToLocalIndex(t.getLineNumber(),t.getIndex())),u=!i&&n.indexOfEntity(a.ExpressionEntity.GlobalKeyword)>=0,l=r?b(this,ce,pn).call(this,e,n.getFirstExpression().getLineNumber()):b(this,pe,hn).call(this,e,t,n.getBlock(),n.isVariableAssigned(t)||i,u),c=n.getBlock(),p=n.getExpressionOnLine(t.getLineNumber(),t.getIndex());if(i&&r){var h=new o.Block(a.ExpressionEntity.ListComprehension,n.getBlock(),n.getFirstExpression().getLineNumber());c.addChildBlock(h),c=h}return I(this,N).has(e)?void 0===l&&I(this,N).has(e)&&(l=new s.Variable(e,t.getLineNumber(),t.getIndex(),t.getDocIndex(),c),b(this,st,ai).call(this,e,t,c.getId(),p),I(this,N).get(e).push(l)):(l=new s.Variable(e,t.getLineNumber(),t.getIndex(),t.getDocIndex(),c),b(this,st,ai).call(this,e,t,c.getId(),p),I(this,N).set(e,[l])),l}function cn(e,t){var n=t.convertLineIndexToLocalIndex(e.getLineNumber(),e.getIndex()),i=t.getExpressions();if(n>0&&n<i.length){if(i[n-1].is(a.ExpressionEntity.ForDefinition))return!0;if(i[n-1].is(a.ExpressionEntity.Comma)&&n>2&&i[n-3].is(a.ExpressionEntity.ForDefinition))return!0;var r,o=t.getSequencesOfPattern([[a.ExpressionEntity.ForDefinition]]),s=i[n].getValue(),u=f(o);try{for(u.s();!(r=u.n()).done;){var l=r.value,c=b(this,Ie,bn).call(this,i,l[0]);if(2===c.length&&c[0]<=n&&c[1]>=n&&(i[l[0]+1].getValue()===s||l[0]+3<c[1]&&i[l[0]+2].is(a.ExpressionEntity.Comma)&&i[l[0]+3].getValue()===s)){var p=i.slice(l[0],l[1]+1).map((function(e){return e.getEntity()})),h=p.indexOf(a.ExpressionEntity.InKeyword),y=p.indexOf(a.ExpressionEntity.IfDefinition);if(h>-1&&n>h&&(-1===y||y>n))continue;return!0}}}catch(e){u.e(e)}finally{u.f()}}return!1}function pn(e,t){if(I(this,N).has(e))for(var n=I(this,N).get(e),i=n.length-1;i>=0;i--){var r=n[i].getScope();if(r.getBlockEntity()===a.ExpressionEntity.ListComprehension&&r.getStartLine()===t)return n[i]}}function hn(e,t,n,i,r){if(I(this,N).has(e)){for(var o=I(this,N).get(e),s=[],u=o.length-1;u>=0;u--){var l=n.stepsToParentBlockOfEntity(a.ExpressionEntity.FunctionDefinition),c=o[u].getScope().getBlockEntity()===a.ExpressionEntity.DocumentDefinition&&l>-1;if(o[u].getScope().hasChild(n)){if(c&&i&&!r){if(l>-1)for(var p=n.getNearestParentOfAny([a.ExpressionEntity.FunctionDefinition]),h=o[u].getUsages(),y=h.length-1;y>=0&&!(h[y].getLineNumber()<=p.getStartLine());y--)if(h[y].getLineNumber()<=t.getLineNumber()&&p.hasChild(n))return o[u];continue}s.push(u)}}if(1===s.length)return o[s[0]];if(s.length>1){var d,g=-1,E=-1,m=f(s);try{for(m.s();!(d=m.n()).done;){var x=d.value,v=n.stepsToParentBlockOfEntity(o[x].getScope().getBlockEntity()),w=n.getNearestParentOfAny([o[x].getScope().getBlockEntity()]);v>-1&&(-1===E||v<E)&&w===o[x].getScope()&&(E=v,g=x)}}catch(e){m.e(e)}finally{m.f()}if(g>=0)return o[g]}}}function yn(e,t){if(e.is(a.ExpressionEntity.IfDefinition))I(this,B).push(new u.Conditional(t));else if(e.isOneOfEntities([a.ExpressionEntity.ElifDefinition,a.ExpressionEntity.ElseDefinition])&&I(this,B).length>0){for(var n=I(this,S)[t].getBlock().getParentBlock(),i=I(this,B).length-1,r=I(this,B)[i];i>=0&&I(this,S)[r.getIfIndex()].getBlock().getParentBlock()!==n;)r=I(this,B)[i],i--;I(this,S)[r.getIfIndex()].getBlock().getParentBlock()===n&&r.addBranch(e.getEntity(),t)}}function dn(e,t){var n=I(this,C).has(e[1].getValue())?I(this,C).get(e[1].getValue()):new s.UserDefinedFunction(e[1].getValue());I(this,C).has(e[1].getValue())&&I(this,C).delete(e[1].getValue()),n.addLine(t),I(this,M).set(n.getName(),n);for(var i=2;i<e.length;i++)if(e[i].getEntity()===a.ExpressionEntity.VariableName||e[i].isOneOfEntities([a.ExpressionEntity.StrType,a.ExpressionEntity.IntType,a.ExpressionEntity.FloatType,a.ExpressionEntity.BoolType,a.ExpressionEntity.ListType,a.ExpressionEntity.SetType,a.ExpressionEntity.TupleType,a.ExpressionEntity.DictType])){e[i].getEntity()!==a.ExpressionEntity.VariableName&&e[i].convert(a.ExpressionEntity.VariableName,a.ExpressionCategory.Identifiers,a.DataType.Unknown);var r=e[i].getValue();I(this,N).has(r)||I(this,N).set(r,[]);var o=b(this,ge,En).call(this,e,i),u=new s.Variable(r,e[i].getLineNumber(),o,t.getDocumentStartingIndex()+e[i].getLocalIndex(),t.getBlock(),!0);I(this,N).get(r).push(u),n.addParameter(u)}else if(e[i].getEntity()===a.ExpressionEntity.AssignmentOperator)n.addOptionalParameter();else if(e[i].getEntity()===a.ExpressionEntity.Colon&&e[i-1].getEntity()===a.ExpressionEntity.VariableName)for(i++;i<e.length&&!e[i].isOneOfEntities([a.ExpressionEntity.Colon,a.ExpressionEntity.CloseParenthesis]);)i++;else if(e[i].getEntity()===a.ExpressionEntity.TypeHintReturn)break;return n}function fn(e){var t,n=f(I(this,F).values());try{for(n.s();!(t=n.n()).done;){if(t.value.hasDirectImport(e))return!0}}catch(e){n.e(e)}finally{n.f()}}function gn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<e.length;n++)if(e[n].is(t))return n;return-1}function En(e,t){if(-1===t||e.length<=1||e[0].getLineNumber()===e[e.length-1].getLineNumber())return t;var n,i=e[t].getLineNumber(),r=f(e);try{for(r.s();!(n=r.n()).done;){if(n.value.getLineNumber()===i)break;t--}}catch(e){r.e(e)}finally{r.f()}return t}function mn(e,t,n){for(var i="",r=t;r<=n;r++)i+=e[r].getValue();return i}function xn(e,t){for(var n=t;n<e.length;n++){var i=e[n];if(i.isOneOfEntities([a.ExpressionEntity.AndOperator,a.ExpressionEntity.OrOperator,a.ExpressionEntity.Colon,a.ExpressionEntity.Comma]))return n-1;i.isOneOfEntities([a.ExpressionEntity.OpenBrace,a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenSquareBracket])&&(n=b(this,ve,wn).call(this,e,n))}return e.length-1}function vn(e){for(var t=[],n=0;n<e.length;){var i=b(this,me,xn).call(this,e,n);t.push(e.slice(n,i+1)),n=i+2}return t}function wn(e,t){var n=e[t].getEntity();if(n!==a.ExpressionEntity.OpenParenthesis&&n!==a.ExpressionEntity.OpenSquareBracket&&n!==a.ExpressionEntity.OpenBrace)return-1;for(var i=b(this,we,In).call(this,n),r=1,o=t+1;o<e.length;o++)if(e[o].getEntity()===n)r++;else if(e[o].getEntity()===i&&0===--r)return o;return e.length-1}function In(e){switch(e){case a.ExpressionEntity.OpenParenthesis:return a.ExpressionEntity.CloseParenthesis;case a.ExpressionEntity.OpenSquareBracket:return a.ExpressionEntity.CloseSquareBracket;case a.ExpressionEntity.OpenBrace:return a.ExpressionEntity.CloseBrace;default:return a.ExpressionEntity.Unknown}}function bn(e,t){for(var n=function(e,t){return e>t},i=0,r=0,o=0,s=0,u=0,l=0,c=t-1;c>=0;c--)if(e[c].is(a.ExpressionEntity.OpenParenthesis)){if(n(++i,r))return[c+1,b(this,ve,wn).call(this,e,c)-1]}else if(e[c].is(a.ExpressionEntity.CloseParenthesis))r++;else if(e[c].is(a.ExpressionEntity.OpenSquareBracket)){if(n(++o,s))return[c+1,b(this,ve,wn).call(this,e,c)-1]}else if(e[c].is(a.ExpressionEntity.CloseSquareBracket))s++;else if(e[c].is(a.ExpressionEntity.OpenBrace)){if(n(++u,l))return[c+1,b(this,ve,wn).call(this,e,c)-1]}else e[c].is(a.ExpressionEntity.CloseBrace)&&l++;return[]}function Tn(e,t){return b(this,Ie,bn).call(this,e,t).length>0}function kn(e){if(I(this,N).has(e.getValue())){var t,n=f(I(this,N).get(e.getValue()));try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.hasMatchingUsage(e.getLineNumber()))return i}}catch(e){n.e(e)}finally{n.f()}}}function On(e,t){if(I(this,N).has(e.getValue())){var n,i=f(I(this,N).get(e.getValue()));try{for(i.s();!(n=i.n()).done;){var r,o=f(n.value.getUsages());try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.getLineNumber()===e.getLineNumber()&&s.getIndex()===t)return s}}catch(e){o.e(e)}finally{o.f()}}}catch(e){i.e(e)}finally{i.f()}}}function Sn(e,t){var n,i=f(e);try{for(i.s();!(n=i.n()).done;){var r,o=n.value,s=!1,a=f(t);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(b(this,Se,Dn).call(this,o,u)){s=!0;break}}}catch(e){a.e(e)}finally{a.f()}if(!s)return!1}}catch(e){i.e(e)}finally{i.f()}return!0}function Dn(e,t){if(0===e.length||0===t.length)return!1;if(3===e.length&&3===t.length)return b(this,De,Mn).call(this,e,t);var n=0,i=0;if(e.length===t.length)for(var r=0;r<e.length;r++)if(e[r].expressions.length===t[r].expressions.length)for(var o=0;o<e[r].expressions.length;o++){var s=b(this,Ce,Ln).call(this,e[r].expressions[o],t[r].expressions[o]);s===h.EXACT_MATCH||s===e[r].matchTypes[o]?n++:i++}return n>0&&0===i}function Mn(e,t){if(1!==e[1].expressions.length||1!==t[1].expressions.length)return!1;var n=b(this,Me,Cn).call(this,e[0].expressions,e[0].matchTypes,t[0].expressions),i=b(this,Me,Cn).call(this,e[2].expressions,e[2].matchTypes,t[2].expressions);return e[1].expressions[0].is(a.ExpressionCategory.ComparisonOperators)&&t[1].expressions[0].is(a.ExpressionCategory.ComparisonOperators)?n===h.EXACT_MATCH||i===h.EXACT_MATCH:!(!e[1].expressions[0].is(a.ExpressionEntity.InKeyword)||!t[1].expressions[0].is(a.ExpressionEntity.InKeyword))&&(n===h.EXACT_MATCH&&i===h.EXACT_MATCH)}function Cn(e,t,n){if(e.length!==n.length)return h.NO_MATCH;if(1===t.length){var i=b(this,Ce,Ln).call(this,e[0],n[0]);return i===h.EXACT_MATCH||i===t[0]?t[0]:h.NO_MATCH}for(var r=0;r<e.length;r++){var o=b(this,Ce,Ln).call(this,e[r],n[r]);if(o===h.NO_MATCH||o!==h.EXACT_MATCH&&o!==t[r])return h.NO_MATCH}return h.EXACT_MATCH}function Ln(e,t){var n=e.getValue()===t.getValue(),i=e.getEntity()===t.getEntity(),r=e.getCategory()===t.getCategory();return n&&i&&r?h.EXACT_MATCH:r?h.MATCH_CATEGORY:h.NO_MATCH}function Nn(){var e,t=new Set,n=new Map,i=f(I(this,B));try{for(i.s();!(e=i.n()).done;){var r=e.value;if(!(t.has(r.getIfIndex())||r.hasElifs()||r.hasElse()||I(this,S)[r.getIfIndex()].getBlock().isExitBlock())){n.has(r.getIfIndex())||n.set(r.getIfIndex(),[]);for(var o=r.getIfIndex();o<I(this,S).length-1;){for(var s=I(this,S)[o],u=b(this,Ze,$n).call(this,o),l=u-1;u<I(this,S).length&&I(this,S)[u].isBlank();)u++;var c=b(this,Fe,Bn).call(this,o),p=b(this,Ne,Fn).call(this,c);if(n.get(r.getIfIndex()).push({start:o,end:l,boolExpression:c,components:p}),!(u<I(this,S).length)||I(this,S)[u].isBlank()||I(this,S)[u].getBlock().getBlockEntity()!==a.ExpressionEntity.IfDefinition||s.getBlock().getParentBlock()!==I(this,S)[u].getBlock().getParentBlock()){n.get(r.getIfIndex()).length<2&&n.delete(r.getIfIndex());break}t.add(u),o=u}}t.add(r.getIfIndex())}}catch(e){i.e(e)}finally{i.f()}return n}function Fn(e){var t,n=[],i=f(b(this,xe,vn).call(this,e));try{for(i.s();!(t=i.n()).done;){for(var r=t.value,o=[],s=0,u=0,l=0,c={expressions:[],matchTypes:[]},p=0;p<r.length;p++)if(r[p].isOneOfCategories([a.ExpressionCategory.ComparisonOperators,a.ExpressionCategory.MathsOperators,a.ExpressionCategory.Literals,a.ExpressionCategory.Types]))r[p].is(a.ExpressionCategory.ComparisonOperators)||r[p].is(a.ExpressionEntity.InKeyword)&&0===s&&0===u&&0===l?(o.push(c),o.push({expressions:[r[p]],matchTypes:[h.MATCH_CATEGORY]}),p<r.length-1&&(c={expressions:[],matchTypes:[]})):(c.expressions.push(r[p]),c.matchTypes.push(h.MATCH_CATEGORY));else{if(r[p].is(a.ExpressionEntity.NotOperator))continue;r[p].is(a.ExpressionEntity.OpenBrace)?s++:r[p].is(a.ExpressionEntity.OpenSquareBracket)?l++:r[p].is(a.ExpressionEntity.OpenParenthesis)?u++:r[p].is(a.ExpressionEntity.CloseBrace)?s--:r[p].is(a.ExpressionEntity.CloseSquareBracket)?l--:r[p].is(a.ExpressionEntity.CloseParenthesis)&&u--,r[p].isOneOfEntities([a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.CloseParenthesis])||(c.expressions.push(r[p]),c.matchTypes.push(h.EXACT_MATCH))}o.push(c),n.push(o)}}catch(e){i.e(e)}finally{i.f()}return n}function Bn(e){var t=I(this,S)[e];if(void 0===t)return[];var n=t.getExpressions(),i=t.indexOfEntity(a.ExpressionEntity.IfDefinition);if(i>=n.length-1)return[];for(var r=i+1,o=i+1;o<n.length;o++)if(n[o].isOneOfEntities([a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenSquareBracket,a.ExpressionEntity.OpenBrace]))o=b(this,ve,wn).call(this,n,o);else{if(n[o].is(a.ExpressionEntity.Colon)){r=o;break}o===n.length-1&&(r=o+1)}return n[i+1].is(a.ExpressionEntity.OpenParenthesis)&&b(this,ve,wn).call(this,n,i+1)===r-1&&(i++,r--),n.slice(i+1,r)}function An(e,t,n){if(n<t||t>=e.length)return{type:h.EMPTY};if(n-t==0)return e[t].is(a.ExpressionEntity.VariableName)?{type:e[t].getEntity().name,value:e[t].getValue()}:{type:e[t].getEntity().name};if(e[t].is(a.ExpressionEntity.FunctionName)&&e.length>1){var i=b(this,ve,wn).call(this,e,t+1);if(i===n||i===n-1&&e[i+1].is(a.ExpressionCategory.Comment))return{type:e[t].getEntity().name,value:e[t].getValue()}}else if(e[t].isOneOfEntities([a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenSquareBracket,a.ExpressionEntity.OpenBrace])){var r=b(this,ve,wn).call(this,e,t);if(r===e.length||r===e.length-1&&e[r+1].is(a.ExpressionCategory.Comment))return{type:e[t].is(a.ExpressionEntity.OpenSquareBracket)?a.ExpressionEntity.ListDefinition.name:h.COMPOUND_EXPRESSION}}else for(var o=t;o<=n&&o<e.length;){if(e[o].isOneOfCategories([a.ExpressionCategory.ComparisonOperators,a.ExpressionCategory.LogicalOperators]))return{type:h.BOOLEAN_EXPRESSION};o++}return{type:h.COMPOUND_EXPRESSION}}function Pn(e,t,n,i){var r=e.getCompoundExpression();if(i-n==2)return t[n+1].getDataType();var o=r.getTypesOfCompoundExpressionsBeginningAt(n+1);if(1===o.length)return o[0];if(o.length>1){for(var s=o[0],u=1;u<o.length;u++)if(o[u]!==s)return a.DataType.Unknown;return s}return a.DataType.Unknown}function Rn(e,t,n){if(1===n-t-1){if(e[t+1].isOneOfCategories([a.ExpressionCategory.Literals,a.ExpressionCategory.Types]))return h.LITERAL;if(e[t+1].is(a.ExpressionEntity.VariableName))return h.VARIABLE}else{if((e[t+1].is(a.ExpressionCategory.BuiltInFunctions)||e[t+1].is(a.ExpressionEntity.FunctionName))&&e[t+2].is(a.ExpressionEntity.OpenParenthesis)){if(b(this,ve,wn).call(this,e,t+2)===n-1)return h.FUNCTION_CALL}else if(e[t+1].isOneOfEntities([a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenBrace,a.ExpressionEntity.OpenSquareBracket])){var i=b(this,ve,wn).call(this,e,t+1);if(i===n){for(var r=t+2,o=!1;r<i;){if(e[r].is(a.ExpressionEntity.Comma)){o=!0;break}r++}return o?h.COMPOUND_TYPE_DEFINITION:h.COMPOUND_EXPRESSION}}else if(e[t+1].is(a.ExpressionEntity.VariableName)&&e[t+2].is(a.ExpressionEntity.OpenSquareBracket)){if(b(this,ve,wn).call(this,e,t+2)===n)return h.VARIABLE}}return h.COMPOUND_EXPRESSION}function Vn(e,t){var n=e.getExpressions(),i=1;if(n[t+1].is(a.ExpressionEntity.OpenParenthesis)){var r=b(this,ve,wn).call(this,n,t+1);if(r-(t+1)==1)return 0;for(var o=t+2;o<r;o++)n[o].is(a.ExpressionEntity.Comma)?i++:n[o].isOneOfEntities([a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenSquareBracket,a.ExpressionEntity.OpenBrace])&&(o=b(this,ve,wn).call(this,n,o))}return i}function Un(e){return e===a.DataType.Unknown||e===a.DataType.String||e===a.DataType.List||e===a.DataType.Tuple||e===a.DataType.Dict}function _n(e,t,n,i,r,o){if(n){var s=e.getIndex(),u=t.getExpressions(),l=i.getIndex(),c=r.getExpressions();if(b(this,je,Kn).call(this,s,u)){var p=u[2].getDataType();try{var y=p===a.DataType.Int||p===a.DataType.Float||p===a.DataType.Number?parseFloat(u[2].getValue()):u[2].getValue();if(o){if(p!==a.DataType.Int&&p!==a.DataType.Float&&p!==a.DataType.Number)return h.UNKNOWN;if(b(this,We,jn).call(this,l,c)){for(var d=b(this,ve,wn).call(this,c,l+3),f=l+4,g=-1,E=1;f<d;)if(c[f].isOneOfEntities([a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenSquareBracket,a.ExpressionEntity.OpenBrace]))f=b(this,ve,wn).call(this,c,f);else{if(c[f].is(a.ExpressionEntity.Comma)){-1===g&&(g=f),E++;break}f++}if(1===E)return 0===y?h.SAME_VALUE:h.DIFFERENT_VALUE;if(g===l+5&&c[g-1].is(a.ExpressionCategory.Literals))return y===parseFloat(c[g-1])?h.SAME_VALUE:h.DIFFERENT_VALUE}else if(b(this,_e,Wn).call(this,l,c))return 0===y?h.SAME_VALUE:h.DIFFERENT_VALUE}else if(b(this,je,Kn).call(this,l,c)){var m=c[2].getDataType();try{return y===(m===a.DataType.Int||m===a.DataType.Float||m===a.DataType.Number?parseFloat(c[2].getValue()):c[2].getValue())?h.SAME_VALUE:h.DIFFERENT_VALUE}catch(e){return h.UNKNOWN}}}catch(e){return h.UNKNOWN}}}return h.UNKNOWN}function Wn(e,t){return e+4<t.length&&t[e+1].is(a.ExpressionEntity.Comma)&&t[e+4].is(a.ExpressionEntity.EnumerateFunction)}function jn(e,t){return t.length>=e+3&&t[e+1].is(a.ExpressionEntity.InKeyword)&&t[e+2].is(a.ExpressionEntity.RangeFunction)&&t[e+3].is(a.ExpressionEntity.OpenParenthesis)}function Kn(e,t){return 0===e&&t.length>=3&&t[1].is(a.ExpressionEntity.AssignmentOperator)&&t[2].isOneOfCategories([a.ExpressionCategory.Literals,a.ExpressionCategory.Types])&&(3===t.length||t[3].is(a.ExpressionCategory.Comment))}function Gn(e,t){if(e.isParameter()||t.isVariableAssigned(e.getFirstUsage())||I(this,L).has(e.getName()))return!1;var n=t.convertLineIndexToLocalIndex(e.getFirstUsage().getLineNumber(),e.getFirstUsage().getIndex()),i=t.indexOfEntity(a.ExpressionEntity.ForDefinition),r=t.indexOfEntity(a.ExpressionEntity.InKeyword),o=t.indexOfEntity(a.ExpressionEntity.AsKeyword),s=t.indexOfEntity(a.ExpressionEntity.ImportKeyword),u=t.indexOfEntity(a.ExpressionEntity.FromKeyword),l=t.indexOfEntity(a.ExpressionEntity.LambdaDefinition),c=t.indexOfEntity(a.ExpressionEntity.Colon);if(i>-1&&r-n>0||o>-1&&n-o>0||s>-1&&n-s>0||u>-1&&n-u>0||l>-1&&n>l&&c>-1&&c>n)return!1;var p=t.getExpressions();if(t.isVariablePassedToFunction(e.getFirstUsage())&&n>=0&&n+1<p.length&&p[n+1].is(a.ExpressionEntity.AssignmentOperator))for(var h=0,y=0,d=n-1;d>=0;d--)if(p[d].is(a.ExpressionEntity.CloseParenthesis))h++;else if(p[d].is(a.ExpressionEntity.OpenParenthesis))y++;else if(p[d].is(a.ExpressionEntity.FunctionName)&&y>h&&I(this,M).has(p[d].getValue())){var g,E=f(I(this,M).get(p[d].getValue()).getParameters());try{for(E.s();!(g=E.n()).done;){if(g.value.getName()===e.getName())return!1}}catch(e){E.e(e)}finally{E.f()}}return!0}function qn(e){return"str"===e||"int"===e||"float"===e||"bool"===e||"list"===e||"set"===e||"dict"===e||"tuple"===e}function Hn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;void 0===i&&(i=I(this,S));for(var r=i[e].getText(!0),o=void 0!==n&&i[e].getDocumentLineNumber()===n.getStartLine(),s=void 0===n?void 0:o?n.getParentBlock():n,a=e+1;a<=t&&(void 0===s||s.hasChild(i[a].getBlock()));a++)i[a].getDocumentLineNumber()!==i[a-1].getDocumentLineNumber()&&(r+="\n"+i[a].getText(!0));return r}function Jn(e,t){var n=b(this,Ft,Bi).call(this,e);return 2===n.length&&1===n[1].getSequencesOfPattern(t).length&&n[1].getExpressions().length===t.length}function zn(e){for(var t=1;t<e.length;t++)if(e[t].indexOfEntity(a.ExpressionEntity.ReturnKeyword)>=0||e[t].indexOfEntity(a.ExpressionEntity.BreakKeyword)>=0||e[t].indexOfEntity(a.ExpressionEntity.ExitFunction)>=0||e[t].indexOfEntity(a.ExpressionEntity.QuitFunction)>=0)return!0;return!1}function Xn(e){for(var t=e.getExpressions(),n=1,i=[],r=new Set;n<t.length&&(!t[n].is(a.ExpressionEntity.Colon)||t[n].is(a.ExpressionEntity.Colon)&&b(this,be,Tn).call(this,t,n));)t[n].is(a.ExpressionEntity.VariableName)&&!r.has(t[n].getValue())&&(i.push(t[n]),r.add(t[n].getValue())),n++;return i}function Yn(e,t){var n,i=[],r=f(t);try{var o=function(){var t=n.value,r=e.filter((function(e){return t.hasChild(e.getBlock())}));i.push(r)};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}return i}function Qn(e,t){var n,i=f(e.getUsages().filter((function(e){return t.has(e.getLineNumber())})));try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.getValueIsAssigned()){if(r.getType()===a.DataType.Int&&r.getExecutionLineNumber()>=0){var o=I(this,S)[r.getExecutionLineNumber()],s=o.indexOfEntity(a.ExpressionEntity.AssignmentOperator),u=o.getExpressions();o.isVariableAssigned(r)&&s>0&&s<u.length-1&&u[s+1].is(a.ExpressionEntity.IntLiteral)&&(s+1===u.length-1||u[s+2].is(a.ExpressionCategory.Comment))&&I(this,A).push(c.Symptom.create(c.SymptomType.WhileLoopVarAssignedIntLiteral,o.getDocumentLineNumber(),o.getBlock().getId(),r.getDocIndex(),r.getDocIndex()-o.getDocumentStartingIndex(),e.getName()))}return!0}if(r.getExecutionLineNumber()>=0)if(r.isSubscripted()){var l=I(this,S)[r.getExecutionLineNumber()].getExpressions(),p=r.getIndex();if(p<l.length-4&&l[p+1].is(a.ExpressionEntity.OpenSquareBracket)){var h=b(this,ve,wn).call(this,l,p+1);if(h<l.length-1&&l[h+1].isChangeOperator())return!0}}else if(r.getType()===a.DataType.Unknown||r.getType()===a.DataType.List||r.getType()===a.DataType.Dict||r.getType()===a.DataType.Set){var y=I(this,S)[r.getExecutionLineNumber()].getExpressions(),d=r.getIndex();if(d<y.length-2&&y[d+1].is(a.ExpressionEntity.Dot)&&y[d+2].is(a.ExpressionCategory.BuiltInMethods)&&a.modifyingMethodsLookup.has(y[d+2].getEntity()))return!0}}}catch(e){i.e(e)}finally{i.f()}return!1}function Zn(e){for(var t=e[0].getBlock(),n=new Set,i=void 0,r=1;r<e.length;r++){var o=e[r].getBlock().getBlockEntity();e[r].getBlock()===t||o!==a.ExpressionEntity.ForDefinition&&o!==a.ExpressionEntity.WhileDefinition?void 0!==i&&i.hasChild(e[r].getBlock())||n.add(e[r].getDocumentLineNumber()):i=e[r].getBlock()}return n}function $n(e){for(var t=e+1;t<I(this,S).length&&(I(this,S)[t].isBlank()||I(this,S)[e].getBlock().hasChild(I(this,S)[t].getBlock()));)t++;for(;t>0&&I(this,S)[t-1].isBlank();)t--;return t}function ei(e){var t=e.getExpressions();return 3===t.length&&(t[0].is(a.ExpressionEntity.WhileDefinition)&&t[1].is(a.ExpressionEntity.TrueType)&&t[2].is(a.ExpressionEntity.Colon))}function ti(e){var t=[];t.push(e.getIfIndex()),t=t.concat(e.getElifs()).concat([e.getElseIndex()]);for(var n=0;n<t.length;n++){var i=b(this,Ft,Bi).call(this,t[n]);if(i[i.length-1].getBlock()!=I(this,S)[t[n]].getBlock()||-1===i[i.length-1].indexOfEntity(a.ExpressionEntity.ReturnKeyword))return!1}return!0}function ni(e){var t=[];t.push(e.getIfIndex()),t=t.concat(e.getElifs()).concat([e.getElseIndex()]);for(var n=0;n<t.length;n++){var i=b(this,Ft,Bi).call(this,t[n]);if(i[i.length-1].getBlock()!=I(this,S)[t[n]].getBlock()||-1===i[i.length-1].indexOfEntity(a.ExpressionEntity.ReturnKeyword)&&-1===i[i.length-1].indexOfEntity(a.ExpressionEntity.BreakKeyword)&&-1===i[i.length-1].indexOfEntity(a.ExpressionEntity.ExitFunction))return!1}return!0}function ii(e){var t=e.getBlock().getNearestParentOfAny([a.ExpressionEntity.FunctionDefinition]);if(void 0===t)return"";for(var n=t.getStartLine(),i=Math.min(e.getDocumentLineNumber(),I(this,S).length-1);i>=0;i--)if(I(this,S)[i].containsLine(n)&&I(this,S)[i].isFunctionDefinition())return I(this,S)[i].getExpressions()[1].getValue();return""}function ri(e){if(!(e.length<2)){var t,n=f(e[0].getExpressions());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.is(a.ExpressionCategory.BuiltInExceptions))return i}}catch(e){n.e(e)}finally{n.f()}}}function oi(e){for(var t=e<I(this,S).length?e:I(this,S).length-1;t>=0&&t<I(this,S).length;){if(I(this,S)[t].containsLine(e)&&(0===t||!I(this,S)[t-1].containsLine(e)))return t;if(I(this,S)[t].minLine()>e)t--;else{if(!(I(this,S)[t].maxLine()<e))break;t++}}return-1}function si(){var e=b(this,Bt,Ai).call(this,a.ExpressionEntity.WhileDefinition),t=b(this,Bt,Ai).call(this,a.ExpressionEntity.ForDefinition);b(this,Nt,Fi).call(this),b(this,Ct,Li).call(this,t),b(this,Lt,Ni).call(this,e,t),b(this,Mt,Ci).call(this),b(this,Ot,Si).call(this,e),b(this,kt,Oi).call(this,e.concat(t)),b(this,It,bi).call(this),b(this,xt,vi).call(this),b(this,gt,Ei).call(this),b(this,ft,gi).call(this),b(this,at,ui).call(this)}function ai(e,t,n,i){if(I(this,M).has(e)){var r=I(this,M).get(e);I(this,A).push(c.Symptom.create(c.SymptomType.VariableWithSameNameAsFunction,t.getLineNumber(),n,t.getDocIndex(),i.getRawLocalIndex(),e,{funcType:h.USER_DEFINED_FUNCTION,numArgsExpected:r.getParameters().length-r.getNumberOfOptionalParameters()}))}(0,a.keywordLookup)(e).category===a.ExpressionCategory.BuiltInFunctions&&I(this,A).push(c.Symptom.create(c.SymptomType.VariableWithSameNameAsFunction,t.getLineNumber(),n,t.getDocIndex(),i.getRawLocalIndex(),e,{funcType:h.BUILT_IN_FUNCTION}))}function ui(){var e,t=f(b(this,Le,Nn).call(this));try{for(t.s();!(e=t.n()).done;){var n=d(e.value,2),i=n[0],r=n[1],o=I(this,S)[i];if(0!==r.length){for(var s=b(this,qe,Hn).call(this,i,r[r.length-1].end),a=[],l=new u.ConditionalSequence,p=1;p<r.length;p++){var h=b(this,Oe,Sn).call(this,r[p].components,r[p-1].components)&&b(this,Oe,Sn).call(this,r[p-1].components,r[p].components);h&&(l.containsBranch(I(this,S)[r[p-1].start].getDocumentLineNumber())||l.addBranch(I(this,S)[r[p-1].start].getDocumentLineNumber(),I(this,S)[r[p-1].start].getDocumentStartingIndex()),l.addBranch(I(this,S)[r[p].start].getDocumentLineNumber(),I(this,S)[r[p].start].getDocumentStartingIndex())),l.isEmpty()||h&&p!==r.length-1||(a.push(l.toJSON()),l=new u.ConditionalSequence)}I(this,A).push(c.Symptom.create(c.SymptomType.SequentialIfs,o.getDocumentLineNumber(),o.getBlock().getId(),o.getDocumentStartingIndex()+o.getFirstExpression().getRawLocalIndex(),o.getFirstExpression().getRawLocalIndex(),s,{branchMatches:a}))}}}catch(e){t.e(e)}finally{t.f()}}function li(){var e,t=f(I(this,S));try{for(t.s();!(e=t.n()).done;){var n=e.value,i=n.getExpressions();b(this,dt,fi).call(this,n),b(this,yt,di).call(this,n,i),b(this,ht,yi).call(this,n,i),b(this,pt,hi).call(this,n),b(this,lt,ci).call(this,n,i),i.length>0&&i[0].isOneOfEntities([a.ExpressionEntity.IfDefinition,a.ExpressionEntity.ElifDefinition,a.ExpressionEntity.ForDefinition,a.ExpressionEntity.WhileDefinition])&&b(this,ct,pi).call(this,i,n)}}catch(e){t.e(e)}finally{t.f()}}function ci(e,t){var n=t.length-1,i=-1;if(0===t.length||!t[0].is(a.ExpressionCategory.BlockDefinitions)&&!t[0].is(a.ExpressionEntity.WithKeyword)){for(;n>=0;){if(t[n].is(a.ExpressionEntity.Colon)&&!b(this,be,Tn).call(this,t,n)){i=n;break}n--}i>=0&&!t[0].is(a.ExpressionCategory.BlockDefinitions)&&!t[0].is(a.ExpressionEntity.WithKeyword)&&I(this,A).push(c.Symptom.create(c.SymptomType.UnexpectedColon,t[i].getLineNumber(),e.getBlock().getId(),e.getDocumentStartingIndex()+t[i].getRawLocalIndex(),t[i].getRawLocalIndex(),t[i].getValue(),{before:b(this,Be,An).call(this,t,0,i-1),after:b(this,Be,An).call(this,t,i+1,t.length-1)}))}}function pi(e,t){for(var n=[],i=1;i<e.length-1;i++)if(e[i].is(a.ExpressionEntity.OrOperator)&&(e[i+1].is(a.ExpressionCategory.Literals)||e[i+1].is(a.ExpressionEntity.VariableName))&&e[i+1].getDataType()!==a.DataType.Bool&&e[i+1].getDataType()!==a.DataType.Unknown){var r=i+2;if(r<e.length&&(e[r].isOneOfCategories([a.ExpressionCategory.ComparisonOperators,a.ExpressionCategory.MathsOperators])||e[r].isOneOfEntities([a.ExpressionEntity.IsKeyword,a.ExpressionEntity.InKeyword,a.ExpressionEntity.Dot,a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenSquareBracket])||r<e.length-1&&e[r].is(a.ExpressionEntity.NotOperator)&&e[r+1].is(a.ExpressionEntity.InKeyword)))continue;if(n.length>0){var o=n[n.length-1];o[o.length-1]<i-1?n.push([i,i+1]):n[n.length-1]=o.concat([i,i+1])}else n.push([i,i+1])}for(var s=0,u=n;s<u.length;s++){var l=u[s],p=e[l[l.length-1]];I(this,A).push(c.Symptom.create(c.SymptomType.NaturalLanguageBoolean,e[l[0]].getLineNumber(),t.getBlock().getId(),t.getDocumentStartingIndex(),e[l[0]].getRawLocalIndex(),t.getText(!0).substring(e[l[0]].getRawLocalIndex(),p.getRawLocalIndex()+(p.getEntity()===a.ExpressionEntity.StringLiteral?p.getValue().length+2:p.getValue().length)),{valueType:l.filter((function(e,t){return t%2==1})).map((function(t){return e[t].is(a.ExpressionEntity.VariableName)?e[t].getDataType():e[t].getEntity()}))}))}}function hi(e){var t=e.getCompoundExpression(),n=e.getFirstExpression();if(t.numberOfParts()>0&&0===t.getIndexInLine()&&t.getEvaluatedType()!==a.DataType.None&&t.getEvaluatedType()!==a.DataType.Unknown&&!(1===t.numberOfParts()&&(n.is(a.ExpressionEntity.FunctionName)||n.isOneOfCategories([a.ExpressionCategory.BuiltInFunctions,a.ExpressionCategory.BuiltInMethods,a.ExpressionCategory.ModuleFunctions]))||n.is(a.ExpressionEntity.AssertFunction))){var i=!1;if(1===t.numberOfParts()){var r=e.indexOfEntity(a.ExpressionCategory.BuiltInMethods),o=e.getExpressions();if(r>0){for(var s=o[r],u=r+1;u<o.length;u++)o[u].isOneOfEntities([a.ExpressionEntity.OpenParenthesis,a.ExpressionEntity.OpenSquareBracket,a.ExpressionEntity.OpenBrace])?u=b(this,ve,wn).call(this,o,u):o[u].is(a.ExpressionCategory.BuiltInMethods)&&(s=o[u]);i=!0,I(this,A).push(c.Symptom.create(c.SymptomType.UnusedReturn,n.getLineNumber(),e.getBlock().getId(),e.getDocumentStartingIndexOfLine(n.getLineNumber())+n.getLocalIndex(),n.getLocalIndex(),e.getText(!1),{expression:s}))}}i||I(this,A).push(c.Symptom.create(c.SymptomType.UnusedValue,e.getDocumentLineNumber(),e.getBlock().getId(),e.getFirstExpression().is(a.ExpressionEntity.StringLiteral)?e.getDocumentStartingIndex()+e.getFirstExpression().getRawLocalIndex()-2:e.getDocumentStartingIndex()+e.getFirstExpression().getRawLocalIndex(),e.getFirstExpression().getRawLocalIndex(),e.getText()))}}function yi(e,t){var n,i=f(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.is(a.ExpressionCategory.BuiltInFunctions)){var o=r.getUsedBy()!==a.UsageType.None,s=r.getRawLocalIndex(),u=r.getLineNumber();a.builtInReturnLookup.get(r.getEntity())!==a.DataType.None?o||I(this,A).push(c.Symptom.create(c.SymptomType.UnusedReturn,u,e.getBlock().getId(),e.getDocumentStartingIndexOfLine(u)+s,s,r.getValue(),{expression:r})):o&&r.getEntity()!==a.ExpressionEntity.AssertFunction&&I(this,A).push(c.Symptom.create(c.SymptomType.AssignedNone,u,e.getBlock().getId(),e.getDocumentStartingIndexOfLine(u)+s,s,r.getValue(),{expression:r}))}}}catch(e){i.e(e)}finally{i.f()}}function di(e,t){for(var n=0;n<t.length;n++)if(t[n].isOneOfEntities([a.ExpressionEntity.StrFunction,a.ExpressionEntity.IntFunction,a.ExpressionEntity.FloatFunction,a.ExpressionEntity.BoolFunction,a.ExpressionEntity.ListFunction])){var i=b(this,ve,wn).call(this,t,n+1),r=b(this,Ae,Pn).call(this,e,t,n+1,i),o=a.builtInReturnLookup.get(t[n].getEntity());if(r==o||r===a.DataType.String&&t[n].is(a.ExpressionEntity.ListFunction)){var s=t[n].getLineNumber(),u=(t[i].getRawLocalIndex(),e.getTextBetweenExpressions(n,i)),l=e.getDocumentStartingIndexOfLine(s)+t[n].getRawLocalIndex();I(this,A).push(c.Symptom.create(c.SymptomType.TypeUnnecessary,s,e.getBlock().getId(),l,t[n].getRawLocalIndex(),u,{convertedValue:e.getTextBetweenExpressions(n+2,i-1),argType:r.name,convertedType:o.name}))}}}function fi(e){var t,n=f(e.getSymptoms());try{for(n.s();!(t=n.n()).done;){var i=t.value.getID();if(i===c.SymptomType.OutOfPlaceBooleanOperator.name||i===c.SymptomType.DoubleBooleanOperators.name||i===c.SymptomType.AssignmentInBoolean.name||i===c.SymptomType.AndOr.name)return}}catch(e){n.e(e)}finally{n.f()}var r,o=f(e.getCompoundExpression().getAllFeedback());try{for(o.s();!(r=o.n()).done;){var s=r.value;I(this,A).push(c.Symptom.create(c.SymptomType.TypeErrorInvalid,e.getDocumentLineNumber(),e.getBlock().getId(),e.getDocumentStartingIndex()+s.getLocalIndex(),e.getIndent(),e.getText(!1),{feedback:s.getMessage()}))}}catch(e){o.e(e)}finally{o.f()}}function gi(){var e,t=f(I(this,C).values());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!I(this,L).has(n.getName())){var i=!1;if(I(this,N).has(n.getName())){var r,o=f(I(this,N).get(n.getName()));try{for(o.s();!(r=o.n()).done;){if(r.value.isImport()){i=!0;break}}}catch(e){o.e(e)}finally{o.f()}}if(i)break;var s,a=f(n.getFunctionCalls());try{for(a.s();!(s=a.n()).done;){var u=s.value,l=this.getExecutionLineContainingExpression(n.getName(),u.getLineNumber(),u.getIndex()),p=l.getText(!0).indexOf(n.getName());I(this,A).push(c.Symptom.create(c.SymptomType.UnknownFunction,l.getDocumentLineNumber(),l.getBlock().getId(),l.getDocumentStartingIndex()+p,p,n.getName()))}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){t.e(e)}finally{t.f()}}function Ei(){var e,t=f(I(this,M).values());try{for(t.s();!(e=t.n()).done;){var n=e.value;b(this,mt,xi).call(this,n),n.hasReturn()&&b(this,Et,mi).call(this,n);var i=n.getLinesWithEntity(a.ExpressionEntity.PrintFunction);if(i.length>0){var r=n.getLines(),o=r.length>0?r[0].getDocumentLineNumber():-1,s=r.length>0?r[0].getExpressionOnLine(o,r[0].indexOfEntity(a.ExpressionEntity.FunctionName)):void 0,u=r.length>0?r[0].getText(!0).indexOf(n.getName()):-1,l=void 0!==s?r[0].getDocumentStartingIndex()+u:-1;I(this,A).push(c.Symptom.create(c.SymptomType.FunctionPrints,o,void 0!==n.getBlock()?n.getBlock().getId():"",l,u,n.getName(),{printLines:i.map((function(e){return e.getDocumentLineNumber()})),functionReturns:n.hasReturn()}))}}}catch(e){t.e(e)}finally{t.f()}}function mi(e){var t,n=f(e.getReturnLines());try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.getExpressions(),o=i.indexOfEntity(a.ExpressionEntity.ReturnKeyword);if(o>=0&&o<r.length-2&&r[o+1].is(a.ExpressionEntity.OpenParenthesis)&&i.getCompoundExpression().getEvaluatedType()!==a.DataType.Tuple){for(var s=r[o].getLineNumber(),u=o+1,l=r.length-1,p=b(this,ve,wn).call(this,r,u);l>u&&r[l].is(a.ExpressionCategory.Comment);)l--;if(p!==l)continue;I(this,A).push(c.Symptom.create(c.SymptomType.ReturnInParentheses,s,i.getBlock().getId(),i.getDocumentStartingIndexOfLine(s)+r[o].getRawLocalIndex(),r[o].getRawLocalIndex(),i.getText(),{contents:b(this,Pe,Rn).call(this,r,u,l)}))}}}catch(e){n.e(e)}finally{n.f()}}function xi(e){var t,n=f(e.getFunctionCalls());try{for(n.s();!(t=n.n()).done;){var i=t.value,r=this.getExecutionLineContainingExpression(e.getName(),i.getLineNumber(),i.getIndex()),o=r.getExpressionOnLine(i.getLineNumber(),i.getIndex()),s=o.getUsedBy()!==a.UsageType.None,u=o.getRawLocalIndex(),l=r.getDocumentStartingIndexOfLine(i.getLineNumber())+u;e.hasReturn()?s||I(this,A).push(c.Symptom.create(c.SymptomType.UnusedReturn,i.getLineNumber(),r.getBlock().getId(),l,u,e.getName(),{expression:o})):s&&I(this,A).push(c.Symptom.create(c.SymptomType.AssignedNone,i.getLineNumber(),r.getBlock().getId(),l,u,e.getName(),{expression:o}));var p=b(this,Re,Vn).call(this,r,r.convertLineIndexToLocalIndex(i.getLineNumber(),i.getIndex()));(p<e.getParameters().length-e.getNumberOfOptionalParameters()||p>e.getParameters().length)&&I(this,A).push(c.Symptom.create(c.SymptomType.WrongArgNumber,i.getLineNumber(),r.getBlock().getId(),l,u,e.getName()))}}catch(e){n.e(e)}finally{n.f()}}function vi(){var e,t=f(I(this,N).keys());try{for(t.s();!(e=t.n()).done;){var n,i=e.value,r=f(I(this,N).get(i));try{for(r.s();!(n=r.n()).done;){var o=n.value,s=o.getFirstUsage(),u=s.getLineNumber(),l=s.getDocIndex(),p=this.getExecutionLineContainingExpression(i,u,s.getIndex()),h=l-p.getDocumentStartingIndexOfLine(u);if(!(void 0!==p&&p.getFirstExpression().is(a.ExpressionEntity.GlobalKeyword))&&!b(this,Ge,qn).call(this,i)){var y=b(this,Ke,Gn).call(this,o,p);if(y)I(this,A).push(c.Symptom.create(c.SymptomType.UndefinedVariable,u,p.getBlock().getId(),l,h,i,{variable:o}));else if(!y&&!o.isUsed()&&!I(this,L).has(i)){var d=o.isImport()&&I(this,F).has(i)&&I(this,F).get(i).hasDirectImports();p.isVariablePassedToFunction(o.getFirstUsage())||d||I(this,A).push(c.Symptom.create(c.SymptomType.UnusedVariable,u,p.getBlock().getId(),l,h,i))}o.isImport()||(b(this,wt,Ii).call(this,o),b(this,vt,wi).call(this,o,y))}}}catch(e){r.e(e)}finally{r.f()}}}catch(e){t.e(e)}finally{t.f()}}function wi(e,t){var n,i=f(e.getUsages());try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.getType();if(r.isSubscripted()&&(t||!b(this,Ve,Un).call(this,o))){var s=r.getDocIndex(),u=this.getExecutionLineContainingExpression(e.getName(),r.getLineNumber(),r.getIndex()),l=s-u.getDocumentStartingIndexOfLine(r.getLineNumber()),p=u.getExpressions(),h=e.getName();if(p[r.getIndex()+1].is(a.ExpressionEntity.OpenSquareBracket)){var y=b(this,ve,wn).call(this,p,r.getIndex()+1);h+=b(this,Ee,mn).call(this,p,r.getIndex()+1,y)}I(this,A).push(c.Symptom.create(c.SymptomType.SubscriptedNonSubscriptable,r.getLineNumber(),u.getBlock().getId(),s,l,h,{isUndefined:t,subscriptedType:o,varName:e.getName()}))}}}catch(e){i.e(e)}finally{i.f()}}function Ii(e){for(var t=e.getUsages(),n=t[0],i=n.getLineNumber(),r=this.getExecutionLineContainingExpression(e.getName(),i,n.getIndex()),o=r.isVariableAssigned(n)||e.isParameter(),s=r.isVariableIncremented(n),u=b(this,le,cn).call(this,n,r),l=r.getBlock(),p=r.countOccurrencesOnLine(e.getName(),a.ExpressionEntity.VariableName),y=p>1?p-1:1;y<t.length;){var d=t[y].getLineNumber(),f=this.getExecutionLineContainingExpression(e.getName(),d,t[y].getIndex()),g=f.getExpressionOnLine(d,t[y].getIndex()),E=f.getBlock(),m=f.isVariableAssigned(t[y]),x=f.isVariableIncremented(t[y]),v=b(this,le,cn).call(this,t[y],f),w=f.countOccurrencesOnLine(e.getName(),a.ExpressionEntity.VariableName),T=l===E||v&&l===E.getParentBlock();1===w&&T&&(o||s||u)&&(m||v)&&!x&&I(this,A).push(c.Symptom.create(c.SymptomType.OverwrittenVariable,d,E.getId(),f.getDocumentStartingIndexOfLine(d)+g.getRawLocalIndex(),g.getRawLocalIndex(),e.getName(),{isParameter:e.isParameter(),prevUsageIsDefinition:1===y,overwriteType:v?h.FOR_LOOP_VAR:h.ASSIGNMENT,overwriteValue:b(this,Ue,_n).call(this,n,r,o,t[y],f,v)})),i=d,r=f,l=E,o=m,s=x,u=v,y+=w}}function bi(){var e,t=f(I(this,B));try{for(t.s();!(e=t.n()).done;){var n=e.value;b(this,bt,Ti).call(this,n),b(this,Tt,ki).call(this,n)}}catch(e){t.e(e)}finally{t.f()}}function Ti(e){var t=[[a.ExpressionEntity.VariableName],[a.ExpressionEntity.AssignmentOperator],[a.ExpressionEntity.TrueType]],n=[[a.ExpressionEntity.VariableName],[a.ExpressionEntity.AssignmentOperator],[a.ExpressionEntity.FalseType]],i=b(this,Ft,Bi).call(this,e.getIfIndex()),r=I(this,S)[e.getIfIndex()];if(b(this,He,Jn).call(this,e.getIfIndex(),t)){var o=i[i.length-1].getExpressions()[0].getValue();if(!e.hasElifs()&&e.hasElse()){var s=b(this,Ft,Bi).call(this,e.getElseIndex());b(this,He,Jn).call(this,e.getElseIndex(),n)&&o===s[s.length-1].getFirstExpression().getValue()&&I(this,A).push(c.Symptom.create(c.SymptomType.OneLineConditional,r.getDocumentLineNumber(),r.getBlock().getId(),r.getDocumentStartingIndex(),r.getIndent(),b(this,qe,Hn).call(this,e.getIfIndex(),e.getElseIndex()+s.length-1),{form:h.VALUE_ASSIGNED,variableAssigned:o}))}else if(1===e.getNumberOfBranches()){var u=b(this,Ze,$n).call(this,e.getIfIndex()),l=I(this,S)[u];l.getBlock()===r.getBlock().getParentBlock()&&1===l.getSequencesOfPattern(n).length&&l.getFirstExpression().getValue()===o&&I(this,A).push(c.Symptom.create(c.SymptomType.OneLineConditional,r.getDocumentLineNumber(),r.getBlock().getId(),r.getDocumentStartingIndex(),r.getIndent(),b(this,qe,Hn).call(this,e.getIfIndex(),u),{form:h.VALUE_ASSIGNED,variableAssigned:o}))}}}function ki(e){var t=[[a.ExpressionEntity.ReturnKeyword],[a.ExpressionEntity.TrueType]],n=[[a.ExpressionEntity.ReturnKeyword],[a.ExpressionEntity.FalseType]],i=I(this,S)[e.getIfIndex()];if(b(this,He,Jn).call(this,e.getIfIndex(),t))if(!e.hasElifs()&&e.hasElse()){if(b(this,He,Jn).call(this,e.getElseIndex(),n)){var r=b(this,Ft,Bi).call(this,e.getElseIndex());I(this,A).push(c.Symptom.create(c.SymptomType.OneLineConditional,i.getDocumentLineNumber(),i.getBlock().getId(),i.getDocumentStartingIndex(),i.getIndent(),b(this,qe,Hn).call(this,e.getIfIndex(),e.getElseIndex()+r.length-1),{form:h.VALUE_RETURNED}))}}else if(1===e.getNumberOfBranches()){var o=b(this,Ze,$n).call(this,e.getIfIndex()),s=I(this,S)[o];void 0!==s&&s.getBlock()===i.getBlock().getParentBlock()&&1===s.getSequencesOfPattern(n).length&&I(this,A).push(c.Symptom.create(c.SymptomType.OneLineConditional,i.getDocumentLineNumber(),i.getBlock().getId(),i.getDocumentStartingIndex(),i.getIndent(),b(this,qe,Hn).call(this,e.getIfIndex(),o),{form:h.VALUE_RETURNED}))}}function Oi(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=0;r<i.length;r++){var o=i[r].getBlock();if(!(i[r].indexOfEntity(a.ExpressionEntity.ReturnKeyword)>=0||i[r].indexOfEntity(a.ExpressionEntity.BreakKeyword)>=0||i[r].indexOfEntity(a.ExpressionEntity.ExitFunction)>=0)||o.getBlockEntity()!==a.ExpressionEntity.ForDefinition&&o.getBlockEntity()!==a.ExpressionEntity.WhileDefinition||o!==i[0].getBlock()){if(i[r].indexOfEntity(a.ExpressionEntity.ContinueKeyword)>=0&&(o.getBlockEntity()===a.ExpressionEntity.IfDefinition||o.getBlockEntity()===a.ExpressionEntity.ElifDefinition||o.getBlockEntity()===a.ExpressionEntity.ElseDefinition)&&o.getNearestParentOfAny([a.ExpressionEntity.ForDefinition,a.ExpressionEntity.WhileDefinition])===i[0].getBlock())break}else I(this,A).push(c.Symptom.create(c.SymptomType.LoopReturn,i[r].getDocumentLineNumber(),i[r].getBlock().getId(),i[r].getDocumentStartingIndex()+i[0].getIndent(),i[r].getIndent(),i[r].getText(!1)))}}catch(e){n.e(e)}finally{n.f()}}function Si(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(b(this,$e,ei).call(this,i[0]))b(this,Je,zn).call(this,i)||b(this,St,Di).call(this,i),I(this,A).push(c.Symptom.create(c.SymptomType.WhileTrue,i[0].getDocumentLineNumber(),i[0].getBlock().getId(),i[0].getDocumentStartingIndex()+i[0].getIndent(),i[0].getIndent(),i[0].getText(!1)));else b(this,Dt,Mi).call(this,i)}}catch(e){n.e(e)}finally{n.f()}}function Di(e){I(this,A).push(c.Symptom.create(c.SymptomType.InfiniteLoop,e[0].getDocumentLineNumber(),e[0].getBlock().getId(),e[0].getDocumentStartingIndex()+e[0].getIndent(),e[0].getIndent(),e[0].getText(!1)));for(var t=b(this,rt,oi).call(this,e[0].getDocumentLineNumber()),n=b(this,Ze,$n).call(this,t);n<I(this,S).length&&I(this,S)[n].isBlank();)n++;n<I(this,S).length&&I(this,S)[t].getIndent()===I(this,S)[n].getIndent()&&I(this,A).push(c.Symptom.create(c.SymptomType.UnreachableInfiniteLoop,I(this,S)[n].getDocumentLineNumber(),I(this,S)[n].getBlock().getId(),I(this,S)[n].getDocumentStartingIndex()+I(this,S)[n].getIndent(),I(this,S)[n].getIndent(),I(this,S)[n].getText(!1),{infiniteLoopLine:e[0].getDocumentLineNumber()}))}function Mi(e){var t,n=this,i=b(this,ze,Xn).call(this,e[0]),r=e[0].getBlock().getMatchingChildBlocks([a.ExpressionEntity.WhileDefinition,a.ExpressionEntity.ForDefinition]),o=b(this,Xe,Yn).call(this,e,r),s=new Set,u=new Map,l=f(i);try{for(l.s();!(t=l.n()).done;){var p=t.value,h=b(this,Te,kn).call(this,p);if(void 0!==h){var y=b(this,Qe,Zn).call(this,e);b(this,Ye,Qn).call(this,h,y)||s.add(p.getValue());var g,E=f(o);try{var m=function(){var e=g.value,t=b(n,Qe,Zn).call(n,e);b(n,Ye,Qn).call(n,h,t)&&(u.has(p.getValue())||u.set(p.getValue(),[]),u.get(p.getValue()).push({varIndex:p.getRawLocalIndex(),varDataType:new Set(h.getUsages().filter((function(e){return t.has(e.getLineNumber())})).map((function(e){return e.getType().name}))),loopType:e[0].getBlock().getBlockEntity(),startLine:e[0].getBlock().getStartLine()}))};for(E.s();!(g=E.n()).done;)m()}catch(e){E.e(e)}finally{E.f()}}}}catch(e){l.e(e)}finally{l.f()}var x,v=f(u);try{for(v.s();!(x=v.n()).done;){var w=d(x.value,2),T=w[0],k=w[1];I(this,A).push(c.Symptom.create(c.SymptomType.LoopVarModifiedInChildLoop,e[0].getDocumentLineNumber(),e[0].getBlock().getId(),e[0].getDocumentStartingIndex()+k[0].varIndex,k[0].varIndex,T,{modifiedIn:{loopType:k[0].loopType.name,startLine:k[0].startLine},varDataType:Array.from(k[0].varDataType)}))}}catch(e){v.e(e)}finally{v.f()}s.size>0&&s.size===i.length&&(I(this,A).push(c.Symptom.create(c.SymptomType.LoopVarNotModified,e[0].getDocumentLineNumber(),e[0].getBlock().getId(),e[0].getDocumentStartingIndex()+e[0].getIndent(),e[0].getIndent(),e[0].getText(!1),{unmodifiedVars:Array.from(s)})),0!==u.size||b(this,Je,zn).call(this,e)||b(this,St,Di).call(this,e))}function Ci(){var e,t=f(I(this,B).filter((function(e){return e.isExhaustive()})));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(b(this,et,ti).call(this,n)){for(var i=b(this,Ze,$n).call(this,n.getElseIndex());i<I(this,S).length&&I(this,S)[i].isBlank();)i++;i<I(this,S).length&&I(this,S)[n.getElseIndex()].getIndent()===I(this,S)[i].getIndent()&&I(this,A).push(c.Symptom.create(c.SymptomType.UnreachableExhaustiveConditional,I(this,S)[i].getDocumentLineNumber(),I(this,S)[i].getBlock().getId(),I(this,S)[i].getDocumentStartingIndex()+I(this,S)[i].getIndent(),I(this,S)[i].getIndent(),b(this,qe,Hn).call(this,i,I(this,S).length-1,I(this,S)[i].getBlock())))}if(b(this,tt,ni).call(this,n)){var r=I(this,S)[n.getIfIndex()].getBlock().getParentBlock().getBlockEntity();if(r===a.ExpressionEntity.ForDefinition||r===a.ExpressionEntity.WhileDefinition){var o=b(this,Ze,$n).call(this,n.getElseIndex());o<I(this,S).length&&I(this,A).push(c.Symptom.create(c.SymptomType.LoopReturn,I(this,S)[n.getIfIndex()].getDocumentLineNumber(),I(this,S)[n.getIfIndex()].getBlock().getParentBlock().getId(),I(this,S)[n.getIfIndex()].getDocumentStartingIndex()+I(this,S)[n.getIfIndex()].getIndent(),I(this,S)[n.getIfIndex()].getIndent(),b(this,qe,Hn).call(this,n.getIfIndex(),o,I(this,S)[n.getIfIndex()].getBlock())))}}}}catch(e){t.e(e)}finally{t.f()}}function Li(e){var t,n=this,i=f(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r[0],s=o.getExpressions();if(s[0].is(a.ExpressionEntity.ForDefinition)){var u=o.indexOfEntity(a.ExpressionEntity.VariableName);if(u>0){var l=s[u],p=b(this,Te,kn).call(this,l);void 0!==p&&function(){for(var e=o.getDocumentLineNumber()+1,t=r[r.length-1].maxLine(),i=p.getUsages().filter((function(n){return n.getLineNumber()>=e&&n.getLineNumber()<=t})),s=[],u=[],l=0;l<i.length;l++){var h=n.getExecutionLineContainingExpression(p.getName(),i[l].getLineNumber(),i[l].getIndex());h.isVariableAssigned(i[l])||h.isVariableIncremented(i[l])?(s.push(l),u.push(h)):h.getExpressions()[i[l].getIndex()].getUsedBy()!==a.UsageType.None&&(s=[],u=[])}if(s.length>0){var y=i[s[0]],d=u[0];I(n,A).push(c.Symptom.create(c.SymptomType.ForLoopIteratorModified,y.getLineNumber(),d.getBlock().getId(),y.getDocIndex(),y.getDocIndex()-d.getDocumentStartingIndex(),p.getName()))}}()}}}}catch(e){i.e(e)}finally{i.f()}}function Ni(e,t){var n,i=e.concat(t),r=f(I(this,M).keys());try{for(r.s();!(n=r.n()).done;){var o=n.value;i=i.concat([I(this,M).get(o).getLines()])}}catch(e){r.e(e)}finally{r.f()}var s,u=f(i);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(l[0].isFunctionDefinition()||!l[0].getBlock().hasParentOfEntity(a.ExpressionEntity.FunctionDefinition))for(var p=0;p<l.length-1;p++){var y=l[p].indexOfEntity(a.ExpressionEntity.ReturnKeyword),d=l[p].indexOfEntity(a.ExpressionEntity.BreakKeyword);if((y>=0||d>=0)&&l[p].getBlock().hasChild(l[p+1].getBlock())){var g={};d>=0?g.exitKeyword=h.BREAK_KEYWORD:y>=0&&(g.exitKeyword=h.RETURN_KEYWORD,g.functionName=b(this,nt,ii).call(this,l[p])),I(this,A).push(c.Symptom.create(c.SymptomType.UnreachableExit,l[p+1].getDocumentLineNumber(),l[p+1].getBlock().getId(),l[p+1].getDocumentStartingIndex()+l[p+1].getIndent(),l[p+1].getIndent(),b(this,qe,Hn).call(this,p+1,l.length-1,l[p+1].getBlock(),l),g))}}}}catch(e){u.e(e)}finally{u.f()}}function Fi(){var e,t=f(b(this,Bt,Ai).call(this,a.ExpressionEntity.ExceptDefinition));try{for(t.s();!(e=t.n()).done;){var n=e.value,i=b(this,it,ri).call(this,n);if(void 0!==i)for(var r=1;r<n.length;r++)n[r].indexOfEntity(a.ExpressionEntity.RaiseKeyword)>=0&&n[r].indexOfEntity(i.getEntity())>=0&&I(this,A).push(c.Symptom.create(c.SymptomType.RedundantException,n[r].getDocumentLineNumber(),n[r].getBlock().getId(),n[r].getDocumentStartingIndex()+n[r].getIndent(),n[r].getIndent(),"raise "+i.getValue()))}}catch(e){t.e(e)}finally{t.f()}}function Bi(e){for(var t=I(this,S)[e].getBlock(),n=[];e<I(this,S).length&&t.hasChild(I(this,S)[e].getBlock());)I(this,S)[e].isBlank()||n.push(I(this,S)[e]),e++;return n}function Ai(e){return b(this,At,Pi).call(this,[e])}function Pi(e){for(var t=[],n=0;n<I(this,S).length;n++){var i,r=f(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;I(this,S)[n].indexOfEntity(o)>=0&&t.push(b(this,Ft,Bi).call(this,n))}}catch(e){r.e(e)}finally{r.f()}}return t}n.DocInfo=Pt},{"../problem-finder/misconception.js":13,"../problem-finder/symptom.js":14,"../utils/constants.js":15,"./block.js":1,"./compoundExpression.js":3,"./conditional.js":4,"./executionline.js":7,"./expression.js":8,"./identifiers.js":9,"./line.js":10}],6:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t}));n.default=o},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ExecutionLine=void 0;var i=e("../problem-finder/symptom.js"),r=e("./compoundExpression.js"),o=e("./expression.js"),s=e("./identifiers.js");function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){d(e,t),t.add(e)}function y(e,t,n){d(e,t),t.set(e,n)}function d(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function g(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,m(e,t,"set"),n),n}function E(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,m(e,t,"get"))}function m(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var x=new WeakMap,v=new WeakMap,w=new WeakMap,I=new WeakMap,b=new WeakSet,T=new WeakSet,k=new WeakSet,O=new WeakSet,S=new WeakSet,D=new WeakSet,M=new WeakSet,C=new WeakSet,L=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,C),h(this,M),h(this,D),h(this,S),h(this,O),h(this,k),h(this,T),h(this,b),y(this,x,{writable:!0,value:[]}),y(this,v,{writable:!0,value:void 0}),y(this,w,{writable:!0,value:void 0}),y(this,I,{writable:!0,value:[]}),E(this,x).push(t),g(this,v,n),g(this,w,new r.CompoundExpression(t.contains(o.ExpressionEntity.ContinuationLine)))}var t,n,l;return t=e,n=[{key:"addLine",value:function(e){if(E(this,x).push(e),E(this,x).length>1){var t=E(this,x)[E(this,x).length-1].getFirstExpression();void 0!==t&&t.is(o.ExpressionEntity.OpenParenthesis)&&E(this,x)[E(this,x).length-2].reevaluateLastExpression(t);for(var n=E(this,x)[0].getRawContent(!0).length,i=1;i<E(this,x).length-1;i++)n+=E(this,x)[i].getRawContent(!0).length-E(this,x)[i].getIndent();var r,s=u(E(this,x)[E(this,x).length-1].getExpressions());try{for(s.s();!(r=s.n()).done;){var a=r.value;a.setLocalIndex(a.getLocalIndex()+n-E(this,x)[E(this,x).length-1].getIndent())}}catch(e){s.e(e)}finally{s.f()}}}},{key:"containsLine",value:function(e){var t,n=!1,i=u(E(this,x));try{for(i.s();!(t=i.n()).done;)if(t.value.getLineNumber()===e){n=!0;break}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"minLine",value:function(){return 0===E(this,x).length?-1:E(this,x)[0].getLineNumber()}},{key:"maxLine",value:function(){return 0===E(this,x).length?-1:E(this,x)[E(this,x).length-1].getLineNumber()}},{key:"isBlank",value:function(){return 0===E(this,x).length||E(this,x)[0].isBlank()}},{key:"isBlockDefinition",value:function(){return E(this,x).length>0&&E(this,x)[0].isBlockDefinition()}},{key:"isFunctionDefinition",value:function(){return this.isBlockDefinition()&&E(this,x)[0].getExpressions()[0].getEntity()===o.ExpressionEntity.FunctionDefinition}},{key:"isConditionalDefinition",value:function(){return this.isBlockDefinition()&&E(this,x)[0].getExpressions()[0].isOneOfEntities([o.ExpressionEntity.IfDefinition,o.ExpressionEntity.ElifDefinition,o.ExpressionEntity.ElseDefinition])}},{key:"isVariableAssigned",value:function(e){var t=this.getExpressions(),n=this.convertLineIndexToLocalIndex(e.getLineNumber(),e.getIndex()),i=this.indexOfEntity(o.ExpressionEntity.AssignmentOperator);if(-1===n||this.isExpressionInFunctionCall(n))return!1;if(i>n&&(i===n+1||t[n+1].is(o.ExpressionEntity.Comma)))return!0;var r=this.getSequencesOfPattern([[o.ExpressionEntity.VariableName],[o.ExpressionEntity.AssignmentOperator]]).flat();if(r.length<=2||!r.includes(n))return!1;for(var s=r[0]===n,a=1;a<r.length;a++)if(r[a]===n&&(s=!0),r[a]!==r[a-1]+1)return!(!s&&a<2);return!0}},{key:"isForLoopVariable",value:function(e){var t=this.convertLineIndexToLocalIndex(e.getLineNumber(),e.getIndex()),n=this.indexOfEntity(o.ExpressionEntity.ForDefinition),i=this.indexOfEntity(o.ExpressionEntity.InKeyword);return-1!==t&&-1!==n&&-1!==i&&!this.isExpressionInFunctionCall(t)&&n<t&&t<i}},{key:"isPrintVariable",value:function(e){var t=this.getExpressions(),n=t[e].getValue();if(("sep"===n||"end"==n)&&e<t.length-1&&t[e+1].is(o.ExpressionEntity.AssignmentOperator)){for(var i=0,r=!1,s=0;s<e&&s<t.length;s++)t[s].is(o.ExpressionEntity.PrintFunction)?r=!0:r&&(t[s].is(o.ExpressionEntity.OpenParenthesis)?i++:t[s].is(o.ExpressionEntity.CloseParenthesis)&&0===i&&(r=!1));return r}return!1}},{key:"isVariableIncremented",value:function(e){var t=this.convertLineIndexToLocalIndex(e.getLineNumber(),e.getIndex());return t>=0&&(this.indexOfEntity(o.ExpressionEntity.IncrementOperator)===t+1||this.indexOfEntity(o.ExpressionEntity.DecrementOperator)===t+1||this.indexOfEntity(o.ExpressionEntity.MultiplyAssignOperator)===t+1||this.indexOfEntity(o.ExpressionEntity.DivideAssignOperator)===t+1||this.indexOfEntity(o.ExpressionEntity.RemainderAssignOperator)===t+1||this.indexOfEntity(o.ExpressionEntity.ExponentAssignOperator)===t+1||this.indexOfEntity(o.ExpressionEntity.IntDivideAssignOperator)===t+1)}},{key:"isVariablePassedToFunction",value:function(e){var t=this.convertLineIndexToLocalIndex(e.getLineNumber(),e.getIndex());return this.isExpressionInFunctionCall(t)}},{key:"isExpressionInFunctionCall",value:function(e){if(e<=0)return!1;for(var t=0,n=this.getExpressions(),i=0;i<e&&i<n.length;i++)if(n[i].isOneOfCategories([o.ExpressionCategory.BuiltInFunctions,o.ExpressionCategory.BuiltInMethods,o.ExpressionCategory.OtherMethods])||n[i].is(o.ExpressionEntity.FunctionName)&&i>0&&!n[i-1].is(o.ExpressionEntity.FunctionDefinition))t++;else if(n[i].is(o.ExpressionEntity.OpenParenthesis)){var r=f(this,b,N).call(this,i,n);if(t>0&&r>e)return!0;i=r,t--}return!1}},{key:"isExpressionInGroup",value:function(e){for(var t=this.getExpressions(),n=function(e,t){return e>t},i=0,r=0,s=0,a=0,u=0,l=0,c=e-1;c>=0;c--)if(t[c].is(o.ExpressionEntity.OpenParenthesis)){if(n(++i,r))return!0}else if(t[c].is(o.ExpressionEntity.CloseParenthesis))r++;else if(t[c].is(o.ExpressionEntity.OpenSquareBracket)){if(n(++s,a))return!0}else if(t[c].is(o.ExpressionEntity.CloseSquareBracket))a++;else if(t[c].is(o.ExpressionEntity.OpenBrace)){if(n(++u,l))return!0}else t[c].is(o.ExpressionEntity.CloseBrace)&&l++;return!1}},{key:"getBlock",value:function(){return E(this,v)}},{key:"getExpressions",value:function(){var e,t=[],n=u(E(this,x));try{for(n.s();!(e=n.n()).done;){var i=e.value;t=t.concat(i.getExpressions())}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getVariableUsages",value:function(){var e,t=[],n=u(E(this,x));try{for(n.s();!(e=n.n()).done;){var i=e.value;t=t.concat(i.getVariableUsages())}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"insertVariableUsage",value:function(e,t){var n=e.getLineNumber(),i=this.convertLocalIndexToLineIndex(n,t);if(-1!==i){var r,o=u(E(this,x));try{for(o.s();!(r=o.n()).done;){var s=r.value;s.getLineNumber()===n&&s.insertVariableUsage(i,e)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"getFunctionCalls",value:function(){var e,t=new Map,n=u(E(this,x));try{for(n.s();!(e=n.n()).done;){var i,r=e.value.getFunctionCalls(),o=u(r.keys());try{for(o.s();!(i=o.n()).done;){var s=i.value;t.has(s)?t.set(s,t.get(s).concat(r.get(s))):t.set(s,r.get(s))}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getOtherIdentifiers",value:function(){var e,t=new Set,n=u(E(this,x));try{for(n.s();!(e=n.n()).done;){var i,r=u(e.value.getOtherIdentifiers());try{for(r.s();!(i=r.n()).done;){var o=i.value;t.add(o)}}catch(e){r.e(e)}finally{r.f()}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getBuiltInCalls",value:function(){var e,t=new Set,n=u(E(this,x));try{for(n.s();!(e=n.n()).done;){var i,r=u(e.value.getBuiltInFunctions());try{for(r.s();!(i=r.n()).done;){var o=i.value;t.add(o)}}catch(e){r.e(e)}finally{r.f()}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getModules",value:function(){var e,t=new Map,n=u(E(this,x));try{for(n.s();!(e=n.n()).done;){var i=e.value;t=new Map(a(t).concat(a(i.getModules())))}}catch(e){n.e(e)}finally{n.f()}if(1===t.size&&E(this,x).length>1)for(var r=Array.from(t.values())[0],l=r.getEntity()!==o.ExpressionEntity.ModuleName,c=1;c<E(this,x).length;c++){var p,h=u(E(this,x)[c].getExpressions());try{for(h.s();!(p=h.n()).done;){var y=p.value;if(y.is(o.ExpressionEntity.VariableName))if(l){var d=(0,o.keywordLookup)(y.getValue()),f=d.entity===o.ExpressionEntity.Unknown?o.ExpressionEntity.NamedImport:d.entity,g=d.category===o.ExpressionCategory.Unknown?o.ExpressionCategory.ImportedEntities:d.category,m=o.builtInReturnLookup.has(f)?o.builtInReturnLookup.get(f):o.DataType.Unknown;y.convert(f,g,m),r.addDirectImport(y.getValue(),(0,s.directImport)(f,g))}else y.convert(o.ExpressionEntity.NamedImport,o.ExpressionCategory.ImportedEntities,o.DataType.Unknown),r.addDirectImport(y.getValue(),(0,s.directImport)(o.ExpressionEntity.NamedImport,o.ExpressionCategory.ImportedEntities))}}catch(e){h.e(e)}finally{h.f()}}return t}},{key:"getFirstExpression",value:function(){if(!this.isBlank())return E(this,x)[0].getFirstExpression()}},{key:"getExpressionOnLine",value:function(e,t){var n,i=u(E(this,x));try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.getLineNumber()===e){var o=r.getExpressions();return t>=0&&t<o.length?o[t]:void 0}}}catch(e){i.e(e)}finally{i.f()}}},{key:"getCompoundExpression",value:function(){return E(this,w)}},{key:"indexOfEntity",value:function(e){return this.indexOfEntityAfterExpression(e,-1)}},{key:"allIndicesOfEntity",value:function(e){for(var t=[],n=this.getExpressions(),i=0;i<n.length;i++)n[i].is(e)&&t.push(i);return t}},{key:"indexOfEntityAfterExpression",value:function(e,t){for(var n=this.getExpressions(),i=t+1;i<n.length;i++)if(n[i].is(e))return i;return-1}},{key:"convertLineIndexToLocalIndex",value:function(e,t){if(!this.containsLine(e))return-1;for(var n=0;E(this,x)[n].getLineNumber()<e;)t+=E(this,x)[n].getExpressions().length,n++;return t<this.getExpressions().length?t:-1}},{key:"convertLocalIndexToLineIndex",value:function(e,t){if(!this.containsLine(e))return-1;for(var n=0;E(this,x)[n].getLineNumber()<e;)t-=E(this,x)[n].getExpressions().length,n++;return t>-1&&t<E(this,x)[n].getExpressions().length?t:-1}},{key:"getSymptoms",value:function(){return E(this,I)}},{key:"checkForSymptoms",value:function(){if(!this.isBlank()){f(this,S,P).call(this),f(this,O,A).call(this);var e=this.getExpressions(),t=this.indexOfEntity(o.ExpressionEntity.ReturnKeyword),n=this.indexOfEntityAfterExpression(o.ExpressionEntity.AssignmentOperator,t);if(e.length>0&&e[0].isOneOfEntities([o.ExpressionEntity.IfDefinition,o.ExpressionEntity.ElifDefinition,o.ExpressionEntity.WhileDefinition]))f(this,M,V).call(this);else if(e.length>1&&e[0].isOneOfEntities([o.ExpressionEntity.FunctionDefinition,o.ExpressionEntity.ClassDefinition])){if(e[1].isOneOfCategories([o.ExpressionCategory.BlockDefinitions,o.ExpressionCategory.LogicalOperators,o.ExpressionCategory.Types,o.ExpressionCategory.OtherKeywords])){var r=e[0].getLineNumber();E(this,I).push(i.Symptom.create(i.SymptomType.DefinitionFollowedByReservedWord,r,this.getBlock().getId(),this.getDocumentStartingIndexOfLine(r)+e[0].getRawLocalIndex(),e[0].getRawLocalIndex(),this.getText(!0).substring(e[0].getRawLocalIndex(),e[1].getRawLocalIndex()+e[1].getValue().length),{definitionType:e[0].getValue(),reservedWord:e[1].getValue()}))}}else if(-1===t&&n>=0){for(var s=0;s<n;s++)if(e[s].isOneOfCategories([o.ExpressionCategory.BlockDefinitions,o.ExpressionCategory.LogicalOperators,o.ExpressionCategory.Types,o.ExpressionCategory.OtherKeywords])){var a=e[s].getLineNumber();E(this,I).push(i.Symptom.create(i.SymptomType.ReservedWordAssigned,a,this.getBlock().getId(),this.getDocumentStartingIndexOfLine(a)+e[s].getRawLocalIndex(),e[s].getRawLocalIndex(),e[s].getValue()))}}else if(t>=0&&n>=0&&!(0<=this.indexOfEntity(o.ExpressionEntity.PrintFunction)<n&&e[n-1].isOneOfEntities([o.ExpressionEntity.Sep,o.ExpressionEntity.End])||this.isExpressionInFunctionCall(n))){for(var u=e[n-1].getLineNumber(),l=[],c=t+1;c<n;c++)e[c].is(o.ExpressionEntity.VariableName)&&l.push(e[c].getValue());E(this,I).push(i.Symptom.create(i.SymptomType.AssignmentInReturn,u,this.getBlock().getId(),this.getDocumentStartingIndexOfLine(u)+e[n-1].getRawLocalIndex(),e[n-1].getRawLocalIndex(),this.getText(),{assignedVariables:l}))}}}},{key:"getDocumentLineNumber",value:function(){return 0===E(this,x)?-1:E(this,x)[0].getLineNumber()}},{key:"getIndent",value:function(){return 0===E(this,x)?-1:E(this,x)[0].getIndent()}},{key:"getDocumentStartingIndex",value:function(){return 0===E(this,x)?-1:E(this,x)[0].getStartingDocIndex()}},{key:"getDocumentStartingIndexOfLine",value:function(e){var t,n=u(E(this,x));try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.getLineNumber()===e)return i.getStartingDocIndex()}}catch(e){n.e(e)}finally{n.f()}return-1}},{key:"getSequencesOfPattern",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=[],i=0,r=[],o=this.getExpressions(),s=-1===t?o.length:t,a=0;a<s;a++)o[a].isOneOfEntities(e[i])?(r.push(a),++i===e.length&&(n.push(r),r=[],i=0)):i>0&&(r=[],i=0);return n}},{key:"countOccurrencesOnLine",value:function(e,t){var n,i=0,r=u(this.getExpressions());try{for(r.s();!(n=r.n()).done;){var o=n.value;o.is(e)&&o.is(t)&&i++}}catch(e){r.e(e)}finally{r.f()}return i}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return E(this,x).map((function(t){return t.getRawContent(e)})).join("\n")}},{key:"getTextBetweenExpressions",value:function(e,t){var n=this.getExpressions(),i=n[e].getLineNumber(),r=n[t].getLineNumber(),s=n[e].is(o.ExpressionEntity.StringLiteral)?2:0,a=this.minLine();if(i<a||r>this.maxLine())return"Error getting text!";var u=f(this,D,R).call(this,i);if(i===r)return E(this,x)[u].getRawContent(!0).substring(n[e].getRawLocalIndex()-s,n[t].getRawLocalIndex()+n[t].getValue().length);var l=[];l.push(E(this,x)[u].getRawContent(!0).substring(n[e].getRawLocalIndex()));for(var c=u+1;c<r-a;c++)l.push(E(this,x)[c].getRawContent(!0));return l.push(E(this,x)[f(this,D,R).call(this,r)].getRawContent(!0).substring(0,n[t].getRawLocalIndex()+n[t].getValue().length)),l.join("\n")}},{key:"isUnfinished",value:function(){return E(this,x).length>0&&E(this,x)[E(this,x).length-1].continuesOnNextLine()}}],n&&p(t.prototype,n),l&&p(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e,t){for(var n=e+1,i=1,r=0;n<t.length;){if(t[n].is(o.ExpressionEntity.OpenParenthesis))i++;else if(t[n].is(o.ExpressionEntity.CloseParenthesis)&&i===++r)return n;n++}return-1}function F(e){for(var t=this.getExpressions(),n=0,i=e[0]-1;i>=0&&i<t.length;i--){if(t[i].isOneOfEntities([o.ExpressionEntity.IfDefinition,o.ExpressionEntity.ElifDefinition,o.ExpressionEntity.WhileDefinition,o.ExpressionEntity.AndOperator,o.ExpressionEntity.OrOperator])){n=i+1;break}if(t[i].isOneOfEntities([o.ExpressionEntity.CloseParenthesis,o.ExpressionEntity.CloseSquareBracket,o.ExpressionEntity.CloseBrace]))i=f(this,k,B).call(this,t[i].getEntity(),i,t);else if(t[i].isOneOfEntities([o.ExpressionEntity.OpenParenthesis,o.ExpressionEntity.OpenSquareBracket,o.ExpressionEntity.OpenBrace])){n=i+1;break}}return t[n].getRawLocalIndex()}function B(e,t,n){var i=o.ExpressionEntity.OpenParenthesis;e===o.ExpressionEntity.CloseSquareBracket?i=o.ExpressionEntity.OpenSquareBracket:e===o.ExpressionEntity.CloseBrace&&(i=o.ExpressionEntity.OpenBrace);for(var r=0,s=t-1;s>=0;s--)if(n[s].getEntity()===e)r++;else if(n[s].getEntity()===i){if(!(r>0))return s;r--}return 0}function A(){for(var e=[[o.ExpressionEntity.TrueType,o.ExpressionEntity.FalseType],[o.ExpressionEntity.IfDefinition]],t=this.getExpressions(),n=0;n<E(this,x).length;n++){var r,s=u(E(this,x)[n].getSequencesOfPattern(e));try{for(s.s();!(r=s.n()).done;)for(var a=r.value,l=this.convertLineIndexToLocalIndex(E(this,x)[n].getLineNumber(),a[0]),c=this.convertLineIndexToLocalIndex(E(this,x)[n].getLineNumber(),a[1])+1,p=c+1;p<t.length-1;){if(t[p].is(o.ExpressionEntity.ElseDefinition)){(t[l].is(o.ExpressionEntity.TrueType)&&t[p+1].is(o.ExpressionEntity.FalseType)||t[l].is(o.ExpressionEntity.FalseType)&&t[p+1].is(o.ExpressionEntity.TrueType))&&E(this,I).push(i.Symptom.create(i.SymptomType.TernaryReturnsBool,E(this,x)[n].getLineNumber(),this.getBlock().getId(),E(this,x)[n].getStartingDocIndex()+t[l].getRawLocalIndex(),t[l].getRawLocalIndex(),E(this,x)[n].getRawContent(!0).substring(t[l].getRawLocalIndex(),t[p+1].getRawLocalIndex()+t[p+1].getValue().length),{boolValue:E(this,x)[n].getRawContent(!0).substring(t[c].getRawLocalIndex(),t[p-1].getRawLocalIndex()+t[p-1].getValue().length),boolLiteralIfTrue:t[l].getValue(),boolLiteralIfFalse:t[p+1].getValue()}));break}p++}}catch(e){s.e(e)}finally{s.f()}}}function P(){for(var e=[[o.ExpressionEntity.EqualOperator,o.ExpressionEntity.IsKeyword],[o.ExpressionEntity.TrueType,o.ExpressionEntity.FalseType]],t=0;t<E(this,x).length;t++){var n,r=u(E(this,x)[t].getSequencesOfPattern(e));try{for(r.s();!(n=r.n()).done;){var s=n.value;s[0]=this.convertLineIndexToLocalIndex(E(this,x)[t].getLineNumber(),s[0]),s[1]=this.convertLineIndexToLocalIndex(E(this,x)[t].getLineNumber(),s[1]);var a=f(this,T,F).call(this,s),l=this.getExpressions(),c=l[s[1]].getRawLocalIndex()+l[s[1]].getValue().length,p=E(this,x)[t].getStartingDocIndex()+a;E(this,I).push(i.Symptom.create(i.SymptomType.CompareBoolLiteral,E(this,x)[t].getLineNumber(),this.getBlock().getId(),p,a,E(this,x)[t].getRawContent(!0).substring(a,c),{boolValue:E(this,x)[t].getRawContent(!0).substring(a,l[s[0]].getRawLocalIndex()),operator:l[s[0]].getValue(),boolLiteral:l[s[1]].getValue()}))}}catch(e){r.e(e)}finally{r.f()}}}function R(e){for(var t=0;t<E(this,x).length;t++)if(E(this,x)[t].getLineNumber()===e)return t;return-1}function V(){for(var e=[o.ExpressionEntity.AndOperator,o.ExpressionEntity.OrOperator,o.ExpressionEntity.IsKeyword],t=this.getExpressions(),n=0,r=0,s=0,a=0;a<t.length-1;a++){var u=t[a].getLineNumber(),l=f(this,D,R).call(this,u),c=this.getBlock().getId(),p=t[a].getRawLocalIndex(),h=E(this,x)[l].getStartingDocIndex()+p;if(0===a&&(t[a+1].isOneOfEntities(e)||t[a+1].is(o.ExpressionCategory.ComparisonOperators)))E(this,I).push(i.Symptom.create(i.SymptomType.OutOfPlaceBooleanOperator,u,c,h,p,t[a].getValue()+" "+t[a+1].getValue()));else if(f(this,C,U).call(this,t[a],t[a+1]))E(this,I).push(i.Symptom.create(i.SymptomType.DoubleBooleanOperators,u,c,h,p,t[a].getValue()+" "+t[a+1].getValue()));else if(t[a].is(o.ExpressionEntity.AssignmentOperator)){for(var y=a;y>0&&!t[y-1].isOneOfCategories([o.ExpressionCategory.BlockDefinitions,o.ExpressionCategory.OtherKeywords,o.ExpressionCategory.LogicalOperators,o.ExpressionCategory.ComparisonOperators]);)y--;for(var d=a;d<t.length-1&&!t[d+1].isOneOfCategories([o.ExpressionCategory.BlockDefinitions,o.ExpressionCategory.OtherKeywords,o.ExpressionCategory.LogicalOperators,o.ExpressionCategory.ComparisonOperators]);)d++;var g=this.getTextBetweenExpressions(y,d);E(this,I).push(i.Symptom.create(i.SymptomType.AssignmentInBoolean,u,c,E(this,x)[l].getStartingDocIndex()+t[y].getRawLocalIndex(),t[y].getRawLocalIndex(),g))}else if(t[a].is(o.ExpressionEntity.AndOperator)&&t[a+1].is(o.ExpressionEntity.OrOperator))E(this,I).push(i.Symptom.create(i.SymptomType.AndOr,u,c,h,p,t[a].getValue()+" "+t[a+1].getValue()));else if(t[a].is(o.ExpressionEntity.OpenParenthesis))n++;else if(t[a].is(o.ExpressionEntity.CloseParenthesis))n--;else if(t[a].is(o.ExpressionEntity.OpenSquareBracket))r++;else if(t[a].is(o.ExpressionEntity.CloseSquareBracket))r--;else if(t[a].is(o.ExpressionEntity.OpenBrace))s++;else if(t[a].is(o.ExpressionEntity.CloseBrace))s--;else if(t[a].is(o.ExpressionEntity.Colon)&&0===n&&0===r&&0===s)break}}function U(e,t){return(e.is(o.ExpressionCategory.ComparisonOperators)||e.is(o.ExpressionEntity.AssignmentOperator)||e.is(o.ExpressionEntity.Unknown)&&e.is("!"))&&(t.is(o.ExpressionCategory.ComparisonOperators)||t.isOneOfEntities([o.ExpressionEntity.AssignmentOperator,o.ExpressionEntity.IsKeyword])||t.is(o.ExpressionEntity.Unknown)&&t.is("!"))}n.ExecutionLine=L},{"../problem-finder/symptom.js":14,"./compoundExpression.js":3,"./expression.js":8,"./identifiers.js":9}],8:[function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.typeLookup=n.stringMethodsLookup=n.specialCaseLookup=n.moduleLookup=n.modifyingMethodsLookup=n.keywordLookup=n.builtInReturnLookup=n.UsageType=n.ExpressionEntity=n.ExpressionCategory=n.Expression=n.DataType=void 0;var r,o=(r=e("./enum.js"))&&r.__esModule?r:{default:r},s=e("./observers.js");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},y.apply(this,arguments)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,n)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function x(e,t){w(e,t),t.add(e)}function v(e,t,n){w(e,t),t.set(e,n)}function w(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function I(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,k(e,t,"get"))}function b(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function T(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,k(e,t,"set"),n),n}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var O=new WeakMap,S=new WeakMap,D=new WeakMap,M=new WeakMap,C=new WeakMap,L=new WeakMap,N=new WeakMap,F=new WeakMap,B=new WeakSet,A=new WeakSet,P=function(e){d(n,e);var t=g(n);function n(e,i,r,o){var s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return c(this,n),x(E(s=t.call(this)),A),x(E(s),B),v(E(s),O,{writable:!0,value:void 0}),v(E(s),S,{writable:!0,value:void 0}),v(E(s),D,{writable:!0,value:void 0}),v(E(s),M,{writable:!0,value:void 0}),v(E(s),C,{writable:!0,value:void 0}),v(E(s),L,{writable:!0,value:void 0}),v(E(s),N,{writable:!0,value:G.NotParsed}),v(E(s),F,{writable:!0,value:W.None}),T(E(s),O,e),T(E(s),S,i),T(E(s),D,r),T(E(s),M,o),T(E(s),C,o),T(E(s),L,void 0===a?e.name:a),void 0!==u?T(E(s),N,u):b(E(s),B,R).call(E(s)),s}return h(n,[{key:"typeUpdateReceived",value:function(e){e!==I(this,N)&&this.setDataType(e)}},{key:"getEntity",value:function(){return I(this,O)}},{key:"getCategory",value:function(){return I(this,S)}},{key:"getDataType",value:function(){return I(this,N)}},{key:"getLineNumber",value:function(){return I(this,D)}},{key:"getLocalIndex",value:function(){return I(this,M)}},{key:"getRawLocalIndex",value:function(){return I(this,C)}},{key:"setLocalIndex",value:function(e){T(this,M,e)}},{key:"getValue",value:function(){return I(this,L)}},{key:"setDataType",value:function(e){e!==I(this,N)&&(T(this,N,e),y(m(n.prototype),"sendUpdate",this).call(this,e))}},{key:"convert",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I(this,N);T(this,O,e),T(this,S,t),i!==I(this,N)&&(T(this,N,i),y(m(n.prototype),"sendUpdate",this).call(this,i))}},{key:"setUsedBy",value:function(e){var t=W.OtherOperation;void 0===e?t=W.None:e.isChangeOperator()||e.isOneOfEntities([K.ListDefinition,K.TupleDefinition,K.SetDefinition,K.DictDefinition])?t=W.AssignmentModification:e.is(K.ReturnKeyword)?t=W.ReturnValue:e.isOneOfEntities([K.FunctionName,K.MethodName])||e.isOneOfCategories([j.BuiltInFunctions,j.ModuleFunctions,j.BuiltInMethods])?t=W.ArgValue:e.is(K.OpenSquareBracket)&&(t=W.IndexOrKey),T(this,F,t)}},{key:"getUsedBy",value:function(){return I(this,F)}},{key:"is",value:function(e){return e instanceof K?I(this,O)===e:e instanceof j?I(this,S)===e:e instanceof n?this===e:I(this,L)===e}},{key:"isOneOfEntities",value:function(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(I(this,O)===i)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"isOneOfCategories",value:function(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(I(this,S)===i)return!0}}catch(e){n.e(e)}finally{n.f()}}},{key:"isOneOfTypes",value:function(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(I(this,N)===i)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"isOperator",value:function(){return this.isOneOfEntities([K.InKeyword,K.IsKeyword,K.Dot])||this.isOneOfCategories([j.MathsOperators,j.ComparisonOperators,j.LogicalOperators])}},{key:"isChangeOperator",value:function(){return this.isOneOfEntities([K.AssignmentOperator,K.IncrementOperator,K.DecrementOperator,K.DivideAssignOperator,K.ExponentAssignOperator,K.MultiplyAssignOperator,K.RemainderAssignOperator,K.IntDivideAssignOperator])}},{key:"isKeywordUsingValue",value:function(){return this.isOneOfEntities([K.IfDefinition,K.ElifDefinition,K.WhileDefinition,K.InKeyword,K.ReturnKeyword,K.WithKeyword,K.ForDefinition,K.AsKeyword,K.IsKeyword])}},{key:"toString",value:function(){return"".concat(I(this,L),": entity=").concat(I(this,O).name," category=").concat(I(this,S).name," line:").concat(I(this,D)," index:").concat(I(this,M)," type:").concat(I(this,N).name)}}],[{key:"create",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.name,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;if(void 0!==o)return new n(e,o,t,i,r);switch(e){case K.ExceptionName:return new n(e,j.BuiltInExceptions,t,i,r);case K.VariableName:case K.FunctionName:case K.ClassName:case K.PropertyName:return new n(e,j.Identifiers,t,i,r);case K.ModuleName:return new n(e,j.Identifiers,t,i,r,G.Unknown);case K.MethodName:return new n(e,j.OtherMethods,t,i,r);case K.IntLiteral:case K.StringLiteral:case K.FloatLiteral:return new n(e,j.Literals,t,i,r);case K.MultiLineCommentDelimiter:case K.SingleLineComment:case K.MultiLineComment:return new n(e,j.Comment,t,i,r);case K.ListDefinition:case K.TupleDefinition:case K.SetDefinition:case K.DictDefinition:return new n(e,j.CompoundTypes,t,i,r);case K.IndexKey:case K.Slice:return new n(e,j.Other,t,i,r);case K.AssertFunction:case K.FormatFunction:return new n(e,j.BuiltInFunctions,t,i,r);case K.RandomModule:case K.MathModule:case K.StringModule:case K.ReModule:case K.Sys:return new n(e,j.BuiltInModules,t,i,r);case K.NamedImport:return new n(e,j.ImportedEntities,t,i,r);case K.StrType:case K.IntType:case K.FloatType:case K.BoolType:case K.ListType:case K.SetType:case K.DictType:case K.TupleType:return new n(e,j.Types,t,i,r);default:var s=_(r);return s.entity===e?new n(e,s.category,t,i,r):X.hasOwnProperty(r)?new n(e,X[r].category,t,i,r):new n(e,void 0===o?j.Unknown:o,t,i,r)}}}]),n}(s.TypeChangeObserverNotifier);function R(){[j.BlockDefinitions,j.LogicalOperators,j.MathsOperators,j.ComparisonOperators,j.OtherKeywords,j.Other].includes(I(this,S))?T(this,N,G.NA):[j.BuiltInFunctions,j.BuiltInMethods,j.MagicMethods,j.ModuleFunctions,j.ModuleProperties].includes(I(this,S))?T(this,N,q.get(I(this,O))):I(this,S)===j.Identifiers?T(this,N,G.NotParsed):I(this,S)===j.BuiltInExceptions?T(this,N,G.Exception):[j.Types,j.SpecialVariables,j.Literals,j.CompoundTypes,j.BuiltInModules].includes(I(this,S))?T(this,N,b(this,A,V).call(this)):T(this,N,G.Unknown)}function V(){switch(I(this,O)){case K.TrueType:case K.FalseType:return G.Bool;case K.NoneType:return G.None;case K.StrType:case K.IntType:case K.FloatType:case K.BoolType:case K.ListType:case K.SetType:case K.DictType:case K.TupleType:return G.Class;case K.IntLiteral:return G.Int;case K.FloatLiteral:return G.Float;case K.StringLiteral:return G.String;case K.ListDefinition:return G.List;case K.TupleDefinition:return G.Tuple;case K.SetDefinition:return G.Set;case K.DictDefinition:return G.Dict;case K.RandomModule:return G.Random;case K.MathModule:return G.Math;case K.StringModule:return G.StringModule;case K.ReModule:return G.Re;case K.Pattern:return G.Pattern;case K.Match:return G.Match;case K.Sys:return G.Sys;default:return G.Unknown}}n.Expression=P;var U=function(e,t){return{entity:e,category:t}},_=function(e){switch(e){case"class":return U(K.ClassDefinition,j.BlockDefinitions);case"def":return U(K.FunctionDefinition,j.BlockDefinitions);case"elif":return U(K.ElifDefinition,j.BlockDefinitions);case"else":return U(K.ElseDefinition,j.BlockDefinitions);case"except":return U(K.ExceptDefinition,j.BlockDefinitions);case"finally":return U(K.FinallyDefinition,j.BlockDefinitions);case"for":return U(K.ForDefinition,j.BlockDefinitions);case"if":return U(K.IfDefinition,j.BlockDefinitions);case"lambda":return U(K.LambdaDefinition,j.BlockDefinitions);case"try":return U(K.TryDefinition,j.BlockDefinitions);case"while":return U(K.WhileDefinition,j.BlockDefinitions);case"and":return U(K.AndOperator,j.LogicalOperators);case"not":return U(K.NotOperator,j.LogicalOperators);case"or":return U(K.OrOperator,j.LogicalOperators);case"False":return U(K.FalseType,j.Types);case"None":return U(K.NoneType,j.Types);case"True":return U(K.TrueType,j.Types);case"as":return U(K.AsKeyword,j.OtherKeywords);case"global":return U(K.GlobalKeyword,j.OtherKeywords);case"assert":return U(K.AssertKeyword,j.OtherKeywords);case"break":return U(K.BreakKeyword,j.OtherKeywords);case"continue":return U(K.ContinueKeyword,j.OtherKeywords);case"del":return U(K.DelKeyword,j.OtherKeywords);case"from":return U(K.FromKeyword,j.OtherKeywords);case"import":return U(K.ImportKeyword,j.OtherKeywords);case"in":return U(K.InKeyword,j.OtherKeywords);case"is":return U(K.IsKeyword,j.OtherKeywords);case"pass":return U(K.PassKeyword,j.OtherKeywords);case"raise":return U(K.RaiseKeyword,j.OtherKeywords);case"return":return U(K.ReturnKeyword,j.OtherKeywords);case"with":return U(K.WithKeyword,j.OtherKeywords);case"yield":return U(K.YieldKeyword,j.OtherKeywords);case"+":return U(K.AddOperator,j.MathsOperators);case"-":return U(K.SubtractOperator,j.MathsOperators);case"*":return U(K.MultiplyOperator,j.MathsOperators);case"/":return U(K.DivideOperator,j.MathsOperators);case"%":return U(K.ModulusOperator,j.MathsOperators);case"**":return U(K.ExponentOperator,j.MathsOperators);case"//":return U(K.IntDivideOperator,j.MathsOperators);case"=":return U(K.AssignmentOperator,j.MathsOperators);case"+=":return U(K.IncrementOperator,j.MathsOperators);case"-=":return U(K.DecrementOperator,j.MathsOperators);case"*=":return U(K.MultiplyAssignOperator,j.MathsOperators);case"/=":return U(K.DivideAssignOperator,j.MathsOperators);case"%=":return U(K.RemainderAssignOperator,j.MathsOperators);case"//=":return U(K.IntDivideAssignOperator,j.MathsOperators);case"**=":return U(K.ExponentAssignOperator,j.MathsOperators);case"==":return U(K.EqualOperator,j.ComparisonOperators);case"!=":return U(K.NotEqualOperator,j.ComparisonOperators);case">":return U(K.GreaterThanOperator,j.ComparisonOperators);case"<":return U(K.LessThanOperator,j.ComparisonOperators);case">=":return U(K.GreaterThanOrEqualOperator,j.ComparisonOperators);case"<=":return U(K.LessThanOrEqualOperator,j.ComparisonOperators);case"->":return U(K.TypeHintReturn,j.TypeHint);case"abs":return U(K.AbsFunction,j.BuiltInFunctions);case"all":return U(K.AllFunction,j.BuiltInFunctions);case"any":return U(K.AnyFunction,j.BuiltInFunctions);case"ascii":return U(K.AsciiFunction,j.BuiltInFunctions);case"bin":return U(K.BinFunction,j.BuiltInFunctions);case"bool":return U(K.BoolFunction,j.BuiltInFunctions);case"callable":return U(K.CallableFunction,j.BuiltInFunctions);case"chr":return U(K.ChrFunction,j.BuiltInFunctions);case"dict":return U(K.DictDefinition,j.BuiltInFunctions);case"divmod":return U(K.DivModFunction,j.BuiltInFunctions);case"enumerate":return U(K.EnumerateFunction,j.BuiltInFunctions);case"eval":return U(K.EvalFunction,j.BuiltInFunctions);case"exec":return U(K.ExecFunction,j.BuiltInFunctions);case"exit":return U(K.ExitFunction,j.BuiltInFunctions);case"filter":return U(K.FilterFunction,j.BuiltInFunctions);case"float":return U(K.FloatFunction,j.BuiltInFunctions);case"getattr":return U(K.GetAttrFunction,j.BuiltInFunctions);case"globals":return U(K.GlobalsFunction,j.BuiltInFunctions);case"hasattr":return U(K.HasAttrFunction,j.BuiltInFunctions);case"input":return U(K.InputFunction,j.BuiltInFunctions);case"int":return U(K.IntFunction,j.BuiltInFunctions);case"isinstance":return U(K.IsInstanceFunction,j.BuiltInFunctions);case"len":return U(K.LenFunction,j.BuiltInFunctions);case"list":return U(K.ListFunction,j.BuiltInFunctions);case"map":return U(K.MapFunction,j.BuiltInFunctions);case"max":return U(K.MaxFunction,j.BuiltInFunctions);case"min":return U(K.MinFunction,j.BuiltInFunctions);case"open":return U(K.OpenFunction,j.BuiltInFunctions);case"ord":return U(K.OrdFunction,j.BuiltInFunctions);case"pow":return U(K.PowFunction,j.BuiltInFunctions);case"print":return U(K.PrintFunction,j.BuiltInFunctions);case"quit":return U(K.QuitFunction,j.BuiltInFunctions);case"range":return U(K.RangeFunction,j.BuiltInFunctions);case"reversed":return U(K.ReversedFunction,j.BuiltInFunctions);case"round":return U(K.RoundFunction,j.BuiltInFunctions);case"set":return U(K.SetFunction,j.BuiltInFunctions);case"sorted":return U(K.SortedFunction,j.BuiltInFunctions);case"str":return U(K.StrFunction,j.BuiltInFunctions);case"sum":return U(K.SumFunction,j.BuiltInFunctions);case"tuple":return U(K.TupleFunction,j.BuiltInFunctions);case"type":return U(K.TypeFunction,j.BuiltInFunctions);case"zip":return U(K.ZipFunction,j.BuiltInFunctions);case"__main__":return U(K.Main,j.MagicMethods);case"__cmp__":return U(K.Cmp,j.MagicMethods);case"__eq__":return U(K.Eq,j.MagicMethods);case"__ne__":return U(K.Ne,j.MagicMethods);case"__lt__":return U(K.Lt,j.MagicMethods);case"__gt__":return U(K.Gt,j.MagicMethods);case"__le__":return U(K.Le,j.MagicMethods);case"__ge__":return U(K.Ge,j.MagicMethods);case"__str__":return U(K.Str,j.MagicMethods);case"__contains__":return U(K.SpecialContains,j.MagicMethods);case"__len__":return U(K.SpecialLen,j.MagicMethods);case"__name__":return U(K.Name,j.SpecialVariables);case"__self__":return U(K.Self,j.SpecialVariables);case"__doc__":return U(K.Doc,j.SpecialVariables);case"__getattr__":return U(K.GetAttrVariable,j.SpecialVariables);case"__setattr__":return U(K.SetAttrVariable,j.SpecialVariables);case"__class__":return U(K.ClassVariable,j.SpecialVariables);case"r":return U(K.R,j.SpecialVariables);case"f":return U(K.F,j.SpecialVariables);case"sep":return U(K.Sep,j.SpecialVariables);case"end":return U(K.End,j.SpecialVariables);case"ArtithmeticError":case"AssertionError":case"AttributeError":case"BlockingIOError":case"BrokenPipeError":case"BufferError":case"ChildProcessError":case"ConnectionAbortedError":case"ConnectionError":case"ConnectionRefusedError":case"ConnectionResetError":case"Exception":case"EOFError":case"EnvironmentError":case"FileExistsError":case"FileNotFoundError":case"FloatingPointError":case"GeneratorExit":case"ImportError":case"IndentationError":case"IndexError":case"InterruptedError":case"IOError":case"IsADirectoryError":case"KeyError":case"KeyboardInterrupt":case"LookupError":case"MemoryError":case"ModuleNotFoundError":case"NameError":case"NotADirectoryError":case"NotImplementedError":case"OSError":case"OverflowError":case"PermissionError":case"ProcessLookupError":case"RecursionError":case"ReferenceError":case"RuntimeError":case"StopIteration":case"SyntaxError":case"TabError":case"TimeoutError":case"SystemError":case"SystemExit":case"TypeError":case"UnboundLocalError":case"UnicodeError":case"UnicodeEncodeError":case"UnicodeDecodeError":case"UnicodeTranslateError":case"ValueError":case"Warning":case"ZeroDivisionError":return U(K.ExceptionName,j.BuiltInExceptions);case"capitalize":return U(K.Capitalize,j.BuiltInMethods);case"casefold":return U(K.Casefold,j.BuiltInMethods);case"center":return U(K.Center,j.BuiltInMethods);case"count":return U(K.Count,j.BuiltInMethods);case"encode":return U(K.Encode,j.BuiltInMethods);case"endswith":return U(K.EndsWith,j.BuiltInMethods);case"expandtabs":return U(K.ExpandTabs,j.BuiltInMethods);case"find":return U(K.Find,j.BuiltInMethods);case"format":return U(K.Format,j.BuiltInMethods);case"format_map":return U(K.FormatMap,j.BuiltInMethods);case"index":return U(K.Index,j.BuiltInMethods);case"isalnum":return U(K.IsAlnum,j.BuiltInMethods);case"isalpha":return U(K.IsAlpha,j.BuiltInMethods);case"isascii":return U(K.IsAscii,j.BuiltInMethods);case"isdecimal":return U(K.IsDecimal,j.BuiltInMethods);case"isdigit":return U(K.IsDigit,j.BuiltInMethods);case"isidentifier":return U(K.IsIdentifier,j.BuiltInMethods);case"islower":return U(K.IsLower,j.BuiltInMethods);case"isnumeric":return U(K.IsNumeric,j.BuiltInMethods);case"isprintable":return U(K.IsPrintable,j.BuiltInMethods);case"isspace":return U(K.IsSpace,j.BuiltInMethods);case"istitle":return U(K.IsTitle,j.BuiltInMethods);case"isupper":return U(K.IsUpper,j.BuiltInMethods);case"join":return U(K.Join,j.BuiltInMethods);case"ljust":return U(K.LJust,j.BuiltInMethods);case"lower":return U(K.Lower,j.BuiltInMethods);case"lstrip":return U(K.LStrip,j.BuiltInMethods);case"maketrans":return U(K.MakeTrans,j.BuiltInMethods);case"partition":return U(K.Partition,j.BuiltInMethods);case"replace":return U(K.Replace,j.BuiltInMethods);case"rfind":return U(K.RFind,j.BuiltInMethods);case"rindex":return U(K.RIndex,j.BuiltInMethods);case"rjust":return U(K.RJust,j.BuiltInMethods);case"rpartition":return U(K.RPartition,j.BuiltInMethods);case"rsplit":return U(K.RSplit,j.BuiltInMethods);case"rstrip":return U(K.RStrip,j.BuiltInMethods);case"split":return U(K.Split,j.BuiltInMethods);case"splitlines":return U(K.SplitLines,j.BuiltInMethods);case"startswith":return U(K.StartsWith,j.BuiltInMethods);case"strip":return U(K.Strip,j.BuiltInMethods);case"swapcase":return U(K.SwapCase,j.BuiltInMethods);case"title":return U(K.Title,j.BuiltInMethods);case"translate":return U(K.Translate,j.BuiltInMethods);case"upper":return U(K.Upper,j.BuiltInMethods);case"zfill":return U(K.ZFill,j.BuiltInMethods);case"append":return U(K.Append,j.BuiltInMethods);case"clear":return U(K.Clear,j.BuiltInMethods);case"copy":return U(K.Copy,j.BuiltInMethods);case"extend":return U(K.Extend,j.BuiltInMethods);case"insert":return U(K.Insert,j.BuiltInMethods);case"pop":return U(K.Pop,j.BuiltInMethods);case"remove":return U(K.Remove,j.BuiltInMethods);case"reverse":return U(K.Reverse,j.BuiltInMethods);case"sort":return U(K.Sort,j.BuiltInMethods);case"fromkeys":return U(K.FromKeys,j.BuiltInMethods);case"get":return U(K.Get,j.BuiltInMethods);case"items":return U(K.Items,j.BuiltInMethods);case"keys":return U(K.Keys,j.BuiltInMethods);case"popitem":return U(K.PopItem,j.BuiltInMethods);case"setdefault":return U(K.SetDefault,j.BuiltInMethods);case"update":return U(K.Update,j.BuiltInMethods);case"values":return U(K.Values,j.BuiltInMethods);case"add":return U(K.Add,j.BuiltInMethods);case"difference":return U(K.Difference,j.BuiltInMethods);case"difference_update":return U(K.DifferenceUpdate,j.BuiltInMethods);case"discard":return U(K.Discard,j.BuiltInMethods);case"intersection":return U(K.Intersection,j.BuiltInMethods);case"intersection_update":return U(K.IntersectionUpdate,j.BuiltInMethods);case"isdisjoint":return U(K.IsDisjoint,j.BuiltInMethods);case"issubset":return U(K.IsSubset,j.BuiltInMethods);case"issuperset":return U(K.IsSuperset,j.BuiltInMethods);case"symmetric_difference":return U(K.SymmetricDifference,j.BuiltInMethods);case"symmetric_difference_update":return U(K.SymmetricDifferenceUpdate,j.BuiltInMethods);case"union":return U(K.Union,j.BuiltInMethods);case"close":return U(K.Close,j.BuiltInMethods);case"detach":return U(K.Detach,j.BuiltInMethods);case"fileno":return U(K.FileNo,j.BuiltInMethods);case"flush":return U(K.Flush,j.BuiltInMethods);case"isatty":return U(K.IsAtty,j.BuiltInMethods);case"read":return U(K.Read,j.BuiltInMethods);case"readable":return U(K.Readable,j.BuiltInMethods);case"readline":return U(K.ReadLine,j.BuiltInMethods);case"readlines":return U(K.ReadLines,j.BuiltInMethods);case"seek":return U(K.Seek,j.BuiltInMethods);case"seekable":return U(K.Seekable,j.BuiltInMethods);case"tell":return U(K.Tell,j.BuiltInMethods);case"truncate":return U(K.Truncate,j.BuiltInMethods);case"writable":return U(K.Writable,j.BuiltInMethods);case"write":return U(K.Write,j.BuiltInMethods);case"writelines":return U(K.WriteLines,j.BuiltInMethods);case"(":return U(K.OpenParenthesis,j.Other);case")":return U(K.CloseParenthesis,j.Other);case"[":return U(K.OpenSquareBracket,j.Other);case"]":return U(K.CloseSquareBracket,j.Other);case"{":return U(K.OpenBrace,j.Other);case"}":return U(K.CloseBrace,j.Other);case",":return U(K.Comma,j.Other);case":":return U(K.Colon,j.Other);case".":return U(K.Dot,j.Other);case"\\":return U(K.ContinuationLine,j.Other);case";":return U(K.Separator,j.Other);case"'":return U(K.SingleQuote,j.Other);case'"':return U(K.DoubleQuote,j.Other);case"random":return U(K.RandomModule,j.BuiltInModules);case"math":return U(K.MathModule,j.BuiltInModules);case"string":return U(K.StringModule,j.BuiltInModules);case"re":return U(K.ReModule,j.BuiltInModules);case"sys":return U(K.Sys,j.BuiltInModules);case"seed":return U(K.Seed,j.ModuleFunctions);case"getstate":return U(K.GetState,j.ModuleFunctions);case"setstate":return U(K.SetState,j.ModuleFunctions);case"getrandbits":return U(K.GetRandBits,j.ModuleFunctions);case"randrange":return U(K.RandRange,j.ModuleFunctions);case"randint":return U(K.RandInt,j.ModuleFunctions);case"choice":return U(K.Choice,j.ModuleFunctions);case"choices":return U(K.Choices,j.ModuleFunctions);case"shuffle":return U(K.Shuffle,j.ModuleFunctions);case"sample":return U(K.Sample,j.ModuleFunctions);case"uniform":return U(K.Uniform,j.ModuleFunctions);case"triangular":return U(K.Triangular,j.ModuleFunctions);case"betavariate":return U(K.BetaVariate,j.ModuleFunctions);case"expovariate":return U(K.ExpoVariate,j.ModuleFunctions);case"gammavariate":return U(K.GammaVariate,j.ModuleFunctions);case"gauss":return U(K.Gauss,j.ModuleFunctions);case"lognormvariate":return U(K.LogNormVariate,j.ModuleFunctions);case"normalvariate":return U(K.NormalVariate,j.ModuleFunctions);case"vonmisesvariate":return U(K.VonMisesVariate,j.ModuleFunctions);case"paretovariate":return U(K.ParetoVariate,j.ModuleFunctions);case"weibullvariate":return U(K.WeibullVariate,j.ModuleFunctions);case"acos":return U(K.Acos,j.ModuleFunctions);case"acosh":return U(K.Acosh,j.ModuleFunctions);case"asin":return U(K.Asin,j.ModuleFunctions);case"asinh":return U(K.Asinh,j.ModuleFunctions);case"atan":return U(K.Atan,j.ModuleFunctions);case"atan2":return U(K.Atan2,j.ModuleFunctions);case"atanh":return U(K.Atanh,j.ModuleFunctions);case"ceil":return U(K.Ceil,j.ModuleFunctions);case"comb":return U(K.Comb,j.ModuleFunctions);case"copysign":return U(K.Copysign,j.ModuleFunctions);case"cos":return U(K.Cos,j.ModuleFunctions);case"cosh":return U(K.Cosh,j.ModuleFunctions);case"degrees":return U(K.Degrees,j.ModuleFunctions);case"dist":return U(K.Dist,j.ModuleFunctions);case"erf":return U(K.Erf,j.ModuleFunctions);case"erfc":return U(K.Erfc,j.ModuleFunctions);case"exp":return U(K.Exp,j.ModuleFunctions);case"expm1":return U(K.Expm1,j.ModuleFunctions);case"fabs":return U(K.Fabs,j.ModuleFunctions);case"factorial":return U(K.Factorial,j.ModuleFunctions);case"floor":return U(K.Floor,j.ModuleFunctions);case"fmod":return U(K.Fmod,j.ModuleFunctions);case"frexp":return U(K.Frexp,j.ModuleFunctions);case"fsum":return U(K.Fsum,j.ModuleFunctions);case"gamma":return U(K.Gamma,j.ModuleFunctions);case"gcd":return U(K.Gcd,j.ModuleFunctions);case"hypot":return U(K.Hypot,j.ModuleFunctions);case"isclose":return U(K.IsClose,j.ModuleFunctions);case"isfinite":return U(K.IsFinite,j.ModuleFunctions);case"isinf":return U(K.IsInf,j.ModuleFunctions);case"isnan":return U(K.IsNaN,j.ModuleFunctions);case"isqrt":return U(K.ISqrt,j.ModuleFunctions);case"ldexp":return U(K.Ldexp,j.ModuleFunctions);case"lgamma":return U(K.LGamma,j.ModuleFunctions);case"log":return U(K.Log,j.ModuleFunctions);case"log10":return U(K.Log10,j.ModuleFunctions);case"log1p":return U(K.Log1P,j.ModuleFunctions);case"log2":return U(K.Log2,j.ModuleFunctions);case"perm":return U(K.Perm,j.ModuleFunctions);case"pow":return U(K.Pow,j.ModuleFunctions);case"prod":return U(K.Prod,j.ModuleFunctions);case"radians":return U(K.Radians,j.ModuleFunctions);case"remainder":return U(K.Remainder,j.ModuleFunctions);case"sin":return U(K.Sin,j.ModuleFunctions);case"sinh":return U(K.Sinh,j.ModuleFunctions);case"sqrt":return U(K.Sqrt,j.ModuleFunctions);case"tan":return U(K.Tan,j.ModuleFunctions);case"tanh":return U(K.Tanh,j.ModuleFunctions);case"trun":return U(K.Trunc,j.ModuleFunctions);case"e":return U(K.E,j.ModuleProperties);case"inf":return U(K.Inf,j.ModuleProperties);case"nan":return U(K.Nan,j.ModuleProperties);case"pi":return U(K.Pi,j.ModuleProperties);case"tau":return U(K.Tau,j.ModuleProperties);case"ascii_letters":return U(K.AsciiLetters,j.ModuleProperties);case"ascii_lowercase":return U(K.AsciiLowercase,j.ModuleProperties);case"ascii_uppercase":return U(K.AsciiUppercase,j.ModuleProperties);case"digits":return U(K.Digits,j.ModuleProperties);case"hexdigits":return U(K.Hexdigits,j.ModuleProperties);case"octdigits":return U(K.Octdigits,j.ModuleProperties);case"punctuation":return U(K.Punctuation,j.ModuleProperties);case"printable":return U(K.Printable,j.ModuleProperties);case"whitespace":return U(K.Whitespace,j.ModuleProperties);case"Formatter":return U(K.Formatter,j.ModuleFunctions);case"Template":return U(K.Template,j.ModuleFunctions);case"capwords":return U(K.Capwords,j.ModuleFunctions);case"Pattern":return U(K.Pattern,j.Types);case"Match":return U(K.Match,j.Types);case"A":return U(K.ReA,j.ModuleProperties);case"ASCII":return U(K.ReASCII,j.ModuleProperties);case"DEBUG":return U(K.ReDebug,j.ModuleProperties);case"I":return U(K.ReI,j.ModuleProperties);case"IGNORECASE":return U(K.ReIGNORECASE,j.ModuleProperties);case"L":return U(K.ReL,j.ModuleProperties);case"LOCALE":return U(K.ReLOCALE,j.ModuleProperties);case"M":return U(K.ReM,j.ModuleProperties);case"MULTILINE":return U(K.ReMULTILINE,j.ModuleProperties);case"S":return U(K.ReS,j.ModuleProperties);case"DOTALL":return U(K.ReDOTALL,j.ModuleProperties);case"X":return U(K.ReX,j.ModuleProperties);case"VERBOSE":return U(K.ReVERBOSE,j.ModuleProperties);case"compile":return U(K.Compile,j.ModuleFunctions);case"search":return U(K.Search,j.ModuleFunctions);case"match":return U(K.Match,j.ModuleFunctions);case"fullmatch":return U(K.FullMatch,j.ModuleFunctions);case"findall":return U(K.FindAll,j.ModuleFunctions);case"finditer":return U(K.FindIter,j.ModuleFunctions);case"sub":return U(K.Sub,j.ModuleFunctions);case"subn":return U(K.SubN,j.ModuleFunctions);case"escape":return U(K.Escape,j.ModuleFunctions);case"purge":return U(K.Purge,j.ModuleFunctions);case"addaudithook":return U(K.AddAuditHook,j.ModuleFunctions);case"audit":return U(K.Audit,j.ModuleFunctions);case"call_tracing":return U(K.CallTracing,j.ModuleFunctions);case"_clear_type_cache":return U(K.ClearTypeCache,j.ModuleFunctions);case"_current_frames":return U(K.CurrentFrames,j.ModuleFunctions);case"_current_exceptions":return U(K.CurrentExceptions,j.ModuleFunctions);case"breakpointhook":return U(K.BreakpointHook,j.ModuleFunctions);case"_debugmallocstats":return U(K.DebugMallocStats,j.ModuleFunctions);case"displayhook":return U(K.DisplayHook,j.ModuleFunctions);case"excepthook":return U(K.ExceptHook,j.ModuleFunctions);case"exc_info":return U(K.ExcInfo,j.ModuleFunctions);case"getallocatedblocks":return U(K.GetAllocatedBlocks,j.ModuleFunctions);case"getandroidapilevel":return U(K.GetAndroidApiLevel,j.ModuleFunctions);case"getdefaultencoding":return U(K.GetDefaultEncoding,j.ModuleFunctions);case"getdlopenflags":return U(K.GetDLOpenFlags,j.ModuleFunctions);case"getfilesystemencoding":return U(K.GetFileSystemEncoding,j.ModuleFunctions);case"getfilesystemencodeerrors":return U(K.GetFileSystemEncodeErrors,j.ModuleFunctions);case"getrefcount":return U(K.GetRefCount,j.ModuleFunctions);case"getrecursionlimit":return U(K.GetRecursionLimit,j.ModuleFunctions);case"getsizeof":return U(K.GetSizeOf,j.ModuleFunctions);case"getswitchinterval":return U(K.GetSwitchInterval,j.ModuleFunctions);case"_getframe":return U(K.GetFrame,j.ModuleFunctions);case"getprofile":return U(K.GetProfile,j.ModuleFunctions);case"gettrace":return U(K.GetTrace,j.ModuleFunctions);case"getwindowsversion":return U(K.GetWindowsVersion,j.ModuleFunctions);case"get_asyncgen_hooks":return U(K.GetAsyncGenHooks,j.ModuleFunctions);case"get_coroutine_origin_tracking_depth":return U(K.GetCoroutineOriginTrackingDepth,j.ModuleFunctions);case"intern":return U(K.Intern,j.ModuleFunctions);case"is_finalizing":return U(K.IsFinalizing,j.ModuleFunctions);case"setdlopenflags":return U(K.SetDLOpenFlags,j.ModuleFunctions);case"setprofile":return U(K.SetProfile,j.ModuleFunctions);case"setrecursionlimit":return U(K.SetRecursionLimit,j.ModuleFunctions);case"setswitchinterval":return U(K.SetSwitchInterval,j.ModuleFunctions);case"settrace":return U(K.SetTrace,j.ModuleFunctions);case"set_asyncgen_hooks":return U(K.SetAsyncgenHooks,j.ModuleFunctions);case"_enablelegacywindowsfsencoding":return U(K.EnableLegacyWindowsFSEncoding,j.ModuleFunctions);case"abiflags":return U(K.ABIFlags,j.ModuleProperties);case"argv":return U(K.Argv,j.ModuleProperties);case"base_exec_prefix":return U(K.BaseExecPrefix,j.ModuleProperties);case"base_prefix":return U(K.BasePrefix,j.ModuleProperties);case"byte_order":return U(K.ByteOrder,j.ModuleProperties);case"built_in_module_names":return U(K.BuiltInModuleNames,j.ModuleProperties);case"copyright":return U(K.Copyright,j.ModuleProperties);case"dllhandle":return U(K.DllHandle,j.ModuleProperties);case"dont_write_bytecode":return U(K.DontWriteBytecode,j.ModuleProperties);case"pycache_prefix":return U(K.PycachePrefix,j.ModuleProperties);case"exec_prefix":return U(K.ExecPrefix,j.ModuleProperties);case"executable":return U(K.Executable,j.ModuleProperties);case"flags":return U(K.Flags,j.ModuleProperties);case"float_info":return U(K.FloatInfo,j.ModuleProperties);case"float_repr_style":return U(K.FloatReprStyle,j.ModuleProperties);case"hash_info":return U(K.HashInfo,j.ModuleProperties);case"hexversion":return U(K.HexVersion,j.ModuleProperties);case"implementation":return U(K.Implementation,j.ModuleProperties);case"int_info":return U(K.IntInfo,j.ModuleProperties);case"last_type":return U(K.LastType,j.ModuleProperties);case"last_value":return U(K.LastValue,j.ModuleProperties);case"last_traceback":return U(K.LastTraceback,j.ModuleProperties);case"maxsize":return U(K.MaxSize,j.ModuleProperties);case"maxunicode":return U(K.MaxUnicode,j.ModuleProperties);case"meta_path":return U(K.MetaPath,j.ModuleProperties);case"modules":return U(K.Modules,j.ModuleProperties);case"orig_argv":return U(K.OrigArgv,j.ModuleProperties);case"path":return U(K.Path,j.ModuleProperties);case"path_hooks":return U(K.PathHooks,j.ModuleProperties);case"path_importer_cache":return U(K.PathImporterCache,j.ModuleProperties);case"platform":return U(K.Platform,j.ModuleProperties);case"prefix":return U(K.Prefix,j.ModuleProperties);case"ps1":return U(K.PS1,j.ModuleProperties);case"ps2":return U(K.PS2,j.ModuleProperties);case"stdin":return U(K.StdIn,j.ModuleProperties);case"stdout":return U(K.StdOut,j.ModuleProperties);case"stderr":return U(K.StdErr,j.ModuleProperties);case"stdlib_module_names":return U(K.StdLibModuleNames,j.ModuleProperties);case"thread_info":return U(K.ThreadInfo,j.ModuleProperties);case"tracebacklimit":return U(K.TracebackLimit,j.ModuleProperties);case"version":return U(K.Version,j.ModuleProperties);case"api_version":return U(K.ApiVersion,j.ModuleProperties);case"version_info":return U(K.VersionInfo,j.ModuleProperties);case"warnoptions":return U(K.WarnOptions,j.ModuleProperties);case"winver":return U(K.WinVer,j.ModuleProperties);case"_xoptions":return U(K.XOptions,j.ModuleProperties);default:return U(K.Unknown,j.Unknown)}};n.keywordLookup=_;n.typeLookup=function(e){switch(e){case"str":return U(K.StrType,j.Types);case"int":return U(K.IntType,j.Types);case"float":return U(K.FloatType,j.Types);case"bool":return U(K.BoolType,j.Types);case"list":return U(K.ListType,j.Types);case"set":return U(K.SetType,j.Types);case"dict":return U(K.DictType,j.Types);case"tuple":return U(K.TupleType,j.Types);default:return U(K.Unknown,j.Unknown)}};var W=function(e){d(n,e);var t=g(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(o.default);n.UsageType=W,a(W,"AssignmentModification",new W("assignmentOrMod")),a(W,"ArgValue",new W("argValue")),a(W,"ReturnValue",new W("returnValue")),a(W,"IndexOrKey",new W("indexOrKey")),a(W,"OtherOperation",new W("otherOperation")),a(W,"None",new W("not used"));var j=function(e){d(n,e);var t=g(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(o.default);n.ExpressionCategory=j,a(j,"BlockDefinitions",new j("BlockDefinitions")),a(j,"LogicalOperators",new j("LogicalOperators")),a(j,"Types",new j("Types")),a(j,"MathsOperators",new j("MathsOperators")),a(j,"ComparisonOperators",new j("ComparisonOperators")),a(j,"OtherKeywords",new j("OtherKeywords")),a(j,"BuiltInFunctions",new j("BuiltInFunctions")),a(j,"BuiltInMethods",new j("BuiltInMethods")),a(j,"OtherMethods",new j("OtherMethods")),a(j,"Identifiers",new j("Identifiers")),a(j,"MagicMethods",new j("MagicMethods")),a(j,"SpecialVariables",new j("SpecialVariables")),a(j,"Properties",new j("Properties")),a(j,"BuiltInExceptions",new j("BuiltInExceptions")),a(j,"Literals",new j("Literals")),a(j,"CompoundTypes",new j("CompoundTypes")),a(j,"Other",new j("Other")),a(j,"Comment",new j("Comment")),a(j,"Unknown",new j("Unknown")),a(j,"BuiltInModules",new j("BuiltInModules")),a(j,"ModuleFunctions",new j("ModuleFunctions")),a(j,"ModuleProperties",new j("ModuleProperties")),a(j,"ImportedEntities",new j("ImportedEntities")),a(j,"TypeHint",new j("TypeHint"));var K=function(e){d(n,e);var t=g(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(o.default);n.ExpressionEntity=K,a(K,"ClassDefinition",new K("class")),a(K,"FunctionDefinition",new K("def")),a(K,"ElifDefinition",new K("elif")),a(K,"ElseDefinition",new K("else")),a(K,"ExceptDefinition",new K("except")),a(K,"FinallyDefinition",new K("finally")),a(K,"ForDefinition",new K("for")),a(K,"IfDefinition",new K("if")),a(K,"LambdaDefinition",new K("lambda")),a(K,"TryDefinition",new K("try")),a(K,"WhileDefinition",new K("while")),a(K,"DocumentDefinition",new K("document")),a(K,"ListComprehension",new K("listComprehension")),a(K,"AndOperator",new K("and")),a(K,"NotOperator",new K("not")),a(K,"OrOperator",new K("or")),a(K,"FalseType",new K("False")),a(K,"NoneType",new K("None")),a(K,"TrueType",new K("True")),a(K,"AsKeyword",new K("AsKeyword")),a(K,"AssertKeyword",new K("AssertKeyword")),a(K,"BreakKeyword",new K("BreakKeyword")),a(K,"ContinueKeyword",new K("continue")),a(K,"DelKeyword",new K("del")),a(K,"FromKeyword",new K("from")),a(K,"ImportKeyword",new K("import")),a(K,"InKeyword",new K("in")),a(K,"IsKeyword",new K("is")),a(K,"PassKeyword",new K("pass")),a(K,"RaiseKeyword",new K("raise")),a(K,"ReturnKeyword",new K("return")),a(K,"WithKeyword",new K("with")),a(K,"YieldKeyword",new K("yield")),a(K,"GlobalKeyword",new K("global")),a(K,"AddOperator",new K("+")),a(K,"SubtractOperator",new K("-")),a(K,"MultiplyOperator",new K("*")),a(K,"DivideOperator",new K("/")),a(K,"ModulusOperator",new K("%")),a(K,"ExponentOperator",new K("**")),a(K,"IntDivideOperator",new K("//")),a(K,"AssignmentOperator",new K("=")),a(K,"IncrementOperator",new K("+=")),a(K,"DecrementOperator",new K("-=")),a(K,"MultiplyAssignOperator",new K("*=")),a(K,"DivideAssignOperator",new K("/=")),a(K,"RemainderAssignOperator",new K("%=")),a(K,"IntDivideAssignOperator",new K("//=")),a(K,"ExponentAssignOperator",new K("**=")),a(K,"EqualOperator",new K("==")),a(K,"NotEqualOperator",new K("!=")),a(K,"GreaterThanOperator",new K(">")),a(K,"LessThanOperator",new K("<")),a(K,"GreaterThanOrEqualOperator",new K(">=")),a(K,"LessThanOrEqualOperator",new K("<=")),a(K,"TypeHintReturn",new K("->")),a(K,"AbsFunction",new K("abs")),a(K,"AllFunction",new K("all")),a(K,"AnyFunction",new K("any")),a(K,"AsciiFunction",new K("ascii")),a(K,"AssertFunction",new K("assert")),a(K,"BinFunction",new K("bin")),a(K,"BoolFunction",new K("bool")),a(K,"CallableFunction",new K("callable")),a(K,"ChrFunction",new K("chr")),a(K,"DictFunction",new K("dict")),a(K,"DivModFunction",new K("divmod")),a(K,"EnumerateFunction",new K("enumerate")),a(K,"EvalFunction",new K("eval")),a(K,"ExecFunction",new K("exec")),a(K,"ExitFunction",new K("exit")),a(K,"FilterFunction",new K("filter")),a(K,"FloatFunction",new K("float")),a(K,"FormatFunction",new K("format")),a(K,"GetAttrFunction",new K("getattr")),a(K,"GlobalsFunction",new K("globals")),a(K,"HasAttrFunction",new K("hasattr")),a(K,"InputFunction",new K("input")),a(K,"IntFunction",new K("int")),a(K,"IsInstanceFunction",new K("isinstance")),a(K,"LenFunction",new K("len")),a(K,"ListFunction",new K("list")),a(K,"MapFunction",new K("map")),a(K,"MaxFunction",new K("max")),a(K,"MinFunction",new K("min")),a(K,"OpenFunction",new K("open")),a(K,"OrdFunction",new K("ord")),a(K,"PowFunction",new K("pow")),a(K,"PrintFunction",new K("print")),a(K,"QuitFunction",new K("quit")),a(K,"RangeFunction",new K("range")),a(K,"ReversedFunction",new K("reversed")),a(K,"RoundFunction",new K("round")),a(K,"SetFunction",new K("set")),a(K,"SortedFunction",new K("sorted")),a(K,"StrFunction",new K("str")),a(K,"SumFunction",new K("sum")),a(K,"TupleFunction",new K("tuple")),a(K,"TypeFunction",new K("type")),a(K,"ZipFunction",new K("zip")),a(K,"Capitalize",new K("capitalize")),a(K,"Casefold",new K("casefold")),a(K,"Center",new K("center")),a(K,"Count",new K("count")),a(K,"Encode",new K("encode")),a(K,"EndsWith",new K("endswith")),a(K,"ExpandTabs",new K("expandtabs")),a(K,"Find",new K("find")),a(K,"Format",new K("format")),a(K,"FormatMap",new K("format_map")),a(K,"Index",new K("index")),a(K,"IsAlnum",new K("isalnum")),a(K,"IsAlpha",new K("isalpha")),a(K,"IsAscii",new K("isascii")),a(K,"IsDecimal",new K("isdecimal")),a(K,"IsDigit",new K("isdigit")),a(K,"IsIdentifier",new K("isidentifier")),a(K,"IsLower",new K("islower")),a(K,"IsNumeric",new K("isnumeric")),a(K,"IsPrintable",new K("isprintable")),a(K,"IsSpace",new K("isspace")),a(K,"IsTitle",new K("istitle")),a(K,"IsUpper",new K("isupper")),a(K,"Join",new K("join")),a(K,"LJust",new K("ljust")),a(K,"Lower",new K("lower")),a(K,"LStrip",new K("lstrip")),a(K,"MakeTrans",new K("maketrans")),a(K,"Partition",new K("partition")),a(K,"Replace",new K("replace")),a(K,"RFind",new K("rfind")),a(K,"RIndex",new K("rindex")),a(K,"RJust",new K("rjust")),a(K,"RPartition",new K("rpartition")),a(K,"RSplit",new K("rsplit")),a(K,"RStrip",new K("rstrip")),a(K,"Split",new K("split")),a(K,"SplitLines",new K("splitlines")),a(K,"StartsWith",new K("startswith")),a(K,"Strip",new K("strip")),a(K,"SwapCase",new K("swapcase")),a(K,"Title",new K("title")),a(K,"Translate",new K("translate")),a(K,"Upper",new K("upper")),a(K,"ZFill",new K("zfill")),a(K,"Append",new K("append")),a(K,"Clear",new K("clear")),a(K,"Copy",new K("copy")),a(K,"Extend",new K("extend")),a(K,"Insert",new K("insert")),a(K,"Pop",new K("pop")),a(K,"Remove",new K("remove")),a(K,"Reverse",new K("reverse")),a(K,"Sort",new K("sort")),a(K,"FromKeys",new K("fromkeys")),a(K,"Get",new K("get")),a(K,"Items",new K("items")),a(K,"Keys",new K("keys")),a(K,"PopItem",new K("popitem")),a(K,"SetDefault",new K("setdefault")),a(K,"Update",new K("update")),a(K,"Values",new K("values")),a(K,"Add",new K("add")),a(K,"Difference",new K("difference")),a(K,"DifferenceUpdate",new K("difference_update")),a(K,"Discard",new K("discard")),a(K,"Intersection",new K("intersection")),a(K,"IntersectionUpdate",new K("intersection_update")),a(K,"IsDisjoint",new K("isdisjoint")),a(K,"IsSubset",new K("issubset")),a(K,"IsSuperset",new K("issuperset")),a(K,"SymmetricDifference",new K("symmetric_difference")),a(K,"SymmetricDifferenceUpdate",new K("symmetric_difference_update")),a(K,"Union",new K("union")),a(K,"Close",new K("close")),a(K,"Detach",new K("detach")),a(K,"FileNo",new K("fileno")),a(K,"Flush",new K("flush")),a(K,"IsAtty",new K("isatty")),a(K,"Read",new K("read")),a(K,"Readable",new K("readable")),a(K,"ReadLine",new K("readline")),a(K,"ReadLines",new K("readlines")),a(K,"Seek",new K("seek")),a(K,"Seekable",new K("seekable")),a(K,"Tell",new K("tell")),a(K,"Truncate",new K("truncate")),a(K,"Writable",new K("writable")),a(K,"Write",new K("write")),a(K,"WriteLines",new K("writelines")),a(K,"Main",new K("__main__")),a(K,"Cmp",new K("__cmp__")),a(K,"Eq",new K("__eq__")),a(K,"Ne",new K("__ne__")),a(K,"Lt",new K("__lt__")),a(K,"Gt",new K("__gt__")),a(K,"Le",new K("__le__")),a(K,"Ge",new K("__ge__")),a(K,"Str",new K("__str__")),a(K,"SpecialContains",new K("__contains__")),a(K,"SpecialLen",new K("__len__")),a(K,"Name",new K("__name__")),a(K,"Self",new K("__self__")),a(K,"Doc",new K("__doc__")),a(K,"GetAttrVariable",new K("__getattr__")),a(K,"SetAttrVariable",new K("__setattr__")),a(K,"ClassVariable",new K("__class__")),a(K,"R",new K("r")),a(K,"F",new K("f")),a(K,"Sep",new K("sep")),a(K,"End",new K("end")),a(K,"Dot",new K(".")),a(K,"OpenParenthesis",new K("(")),a(K,"CloseParenthesis",new K(")")),a(K,"OpenSquareBracket",new K("[")),a(K,"CloseSquareBracket",new K("]")),a(K,"OpenBrace",new K("{")),a(K,"CloseBrace",new K("}")),a(K,"Comma",new K(",")),a(K,"Colon",new K(":")),a(K,"SingleQuote",new K("'")),a(K,"DoubleQuote",new K('"')),a(K,"MultiLineCommentDelimiter",new K("'''")),a(K,"ImportAll",new K("import all (*)")),a(K,"NamedImport",new K("named import")),a(K,"ExceptionName",new K("exceptionName")),a(K,"VariableName",new K("variableName")),a(K,"FunctionName",new K("functionName")),a(K,"MethodName",new K("methodName")),a(K,"ClassName",new K("className")),a(K,"PropertyName",new K("propertyName")),a(K,"ModuleName",new K("moduleName")),a(K,"IntLiteral",new K("intLiteral")),a(K,"StringLiteral",new K("stringLiteral")),a(K,"ContinuationLine",new K("continuationLine")),a(K,"Separator",new K("separator")),a(K,"FloatLiteral",new K("floatLiteral")),a(K,"SingleLineComment",new K("singleLineComment")),a(K,"MultiLineComment",new K("multilineComment")),a(K,"TypeHint",new K("typeHint")),a(K,"StrType",new K("strType")),a(K,"IntType",new K("intType")),a(K,"FloatType",new K("floatType")),a(K,"BoolType",new K("boolType")),a(K,"ListType",new K("listType")),a(K,"SetType",new K("setType")),a(K,"DictType",new K("dictType")),a(K,"TupleType",new K("tupleType")),a(K,"ListDefinition",new K("listDefinition")),a(K,"TupleDefinition",new K("tupleDefinition")),a(K,"SetDefinition",new K("setDefinition")),a(K,"DictDefinition",new K("dictDefinition")),a(K,"IndexKey",new K("indexKey")),a(K,"Slice",new K("slice")),a(K,"Unknown",new K("unknown")),a(K,"RandomModule",new K("randomModule")),a(K,"MathModule",new K("mathModule")),a(K,"StringModule",new K("stringModule")),a(K,"ReModule",new K("reModule")),a(K,"Pattern",new K("Pattern")),a(K,"Match",new K("Match")),a(K,"Sys",new K("sys")),a(K,"Seed",new K("seed")),a(K,"GetState",new K("getstate")),a(K,"SetState",new K("setstate")),a(K,"GetRandBits",new K("getrandbits")),a(K,"RandRange",new K("randrange")),a(K,"RandInt",new K("randint")),a(K,"Choice",new K("choice")),a(K,"Choices",new K("choices")),a(K,"Shuffle",new K("shuffle")),a(K,"Sample",new K("sample")),a(K,"RandomMethod",new K("random")),a(K,"Uniform",new K("uniform")),a(K,"Triangular",new K("triangular")),a(K,"BetaVariate",new K("betavariate")),a(K,"ExpoVariate",new K("expovariate")),a(K,"GammaVariate",new K("gammavariate")),a(K,"Gauss",new K("gauss")),a(K,"LogNormVariate",new K("lognormvariate")),a(K,"NormalVariate",new K("normalvariate")),a(K,"VonMisesVariate",new K("vonmisesvariate")),a(K,"ParetoVariate",new K("paretovariate")),a(K,"WeibullVariate",new K("weibullvariate")),a(K,"Acos",new K("acos")),a(K,"Acosh",new K("acosh")),a(K,"Asin",new K("asin")),a(K,"Asinh",new K("asinh")),a(K,"Atan",new K("atan")),a(K,"Atan2",new K("atan2")),a(K,"Atanh",new K("atanh")),a(K,"Ceil",new K("ceil")),a(K,"Comb",new K("comb")),a(K,"CopySign",new K("copysign")),a(K,"Cos",new K("cos")),a(K,"Cosh",new K("cosh")),a(K,"Degrees",new K("degrees")),a(K,"Dist",new K("dist")),a(K,"Erf",new K("erf")),a(K,"Erfc",new K("erfc")),a(K,"Exp",new K("exp")),a(K,"Expm1",new K("expm1")),a(K,"Fabs",new K("fabs")),a(K,"Factorial",new K("factorial")),a(K,"Floor",new K("floor")),a(K,"Fmod",new K("fmod")),a(K,"Frexp",new K("frexp")),a(K,"Fsum",new K("fsum")),a(K,"Gamma",new K("gamma")),a(K,"Gcd",new K("gcd")),a(K,"Hypot",new K("hypot")),a(K,"IsClose",new K("isclose")),a(K,"IsFinite",new K("isfinite")),a(K,"IsInf",new K("isinf")),a(K,"IsNaN",new K("isnan")),a(K,"ISqrt",new K("isqrt")),a(K,"Ldexp",new K("ldexp")),a(K,"LGamma",new K("lgamma")),a(K,"Log",new K("log")),a(K,"Log10",new K("log10")),a(K,"Log1P",new K("log1p")),a(K,"Log2",new K("log2")),a(K,"Perm",new K("perm")),a(K,"Pow",new K("pow")),a(K,"Prod",new K("prod")),a(K,"Radians",new K("radians")),a(K,"Remainder",new K("remainder")),a(K,"Sin",new K("sin")),a(K,"Sinh",new K("sinh")),a(K,"Sqrt",new K("sqrt")),a(K,"Tan",new K("tan")),a(K,"Tanh",new K("tanh")),a(K,"Trunc",new K("trunc")),a(K,"E",new K("e")),a(K,"Inf",new K("inf")),a(K,"Nan",new K("nan")),a(K,"Pi",new K("pi")),a(K,"Tau",new K("tau")),a(K,"AsciiLetters",new K("ascii_letters")),a(K,"AsciiLowercase",new K("ascii_lowercase")),a(K,"AsciiUppercase",new K("ascii_uppercase")),a(K,"Digits",new K("digits")),a(K,"Hexdigits",new K("hexdigits")),a(K,"Octdigits",new K("octdigits")),a(K,"Punctuation",new K("punctuation")),a(K,"Printable",new K("printable")),a(K,"Whitespace",new K("whitespace")),a(K,"Formatter",new K("Formatter")),a(K,"Template",new K("Template")),a(K,"Capwords",new K("capwords")),a(K,"ReA",new K("A")),a(K,"ReASCII",new K("ASCII")),a(K,"ReDebug",new K("DEBUG")),a(K,"ReI",new K("I")),a(K,"ReIGNORECASE",new K("IGNORECASE")),a(K,"ReL",new K("L")),a(K,"ReLOCALE",new K("LOCALE")),a(K,"ReM",new K("M")),a(K,"ReMULTILINE",new K("MULTILINE")),a(K,"ReS",new K("S")),a(K,"ReDOTALL",new K("DOTALL")),a(K,"ReX",new K("X")),a(K,"ReVERBOSE",new K("VERBOSE")),a(K,"Compile",new K("compile")),a(K,"Search",new K("search")),a(K,"Match",new K("match")),a(K,"FullMatch",new K("fullmatch")),a(K,"FindAll",new K("findall")),a(K,"FindIter",new K("finditer")),a(K,"Sub",new K("sub")),a(K,"SubN",new K("subn")),a(K,"Escape",new K("escape")),a(K,"Purge",new K("purge")),a(K,"AddAuditHook",new K("addaudithook")),a(K,"Audit",new K("audit")),a(K,"CallTracing",new K("call_tracing")),a(K,"ClearTypeCache",new K("_clear_type_cache")),a(K,"CurrentFrames",new K("_current_frames")),a(K,"CurrentExceptions",new K("_current_exceptions")),a(K,"BreakpointHook",new K("breakpointhook")),a(K,"DebugMallocStats",new K("_debugmallocstats")),a(K,"DisplayHook",new K("displayhook")),a(K,"ExceptHook",new K("excepthook")),a(K,"ExcInfo",new K("exc_info")),a(K,"SysExit",new K("exit")),a(K,"GetAllocatedBlocks",new K("getallocatedblocks")),a(K,"GetAndroidApiLevel",new K("getandroidapilevel")),a(K,"GetDefaultEncoding",new K("getdefaultencoding")),a(K,"GetDLOpenFlags",new K("getdlopenflags")),a(K,"GetFileSystemEncoding",new K("getfilesystemencoding")),a(K,"GetFileSystemEncodeErrors",new K("getfilesystemencodeerrors")),a(K,"GetRefCount",new K("getrefcount")),a(K,"GetRecursionLimit",new K("getrecursionlimit")),a(K,"GetSizeOf",new K("getsizeof")),a(K,"GetSwitchInterval",new K("getswitchinterval")),a(K,"GetFrame",new K("_getframe")),a(K,"GetProfile",new K("getprofile")),a(K,"GetTrace",new K("gettrace")),a(K,"GetWindowsVersion",new K("getwindowsversion")),a(K,"GetAsyncGenHooks",new K("get_asyncgen_hooks")),a(K,"GetCoroutineOriginTrackingDepth",new K("get_coroutine_origin_tracking_depth")),a(K,"Intern",new K("intern")),a(K,"IsFinalizing",new K("is_finalizing")),a(K,"SetDLOpenFlags",new K("setdlopenflags")),a(K,"SetProfile",new K("setprofile")),a(K,"SetRecursionLimit",new K("setrecursionlimit")),a(K,"SetSwitchInterval",new K("setswitchinterval")),a(K,"SetTrace",new K("settrace")),a(K,"SetAsyncgenHooks",new K("set_asyncgen_hooks")),a(K,"EnableLegacyWindowsFSEncoding",new K("_enablelegacywindowsfsencoding")),a(K,"ABIFlags",new K("abiflags")),a(K,"Argv",new K("argv")),a(K,"BaseExecPrefix",new K("base_exec_prefix")),a(K,"BasePrefix",new K("base_prefix")),a(K,"ByteOrder",new K("byte_order")),a(K,"BuiltInModuleNames",new K("built_in_module_names")),a(K,"Copyright",new K("copyright")),a(K,"DllHandle",new K("dllhandle")),a(K,"DontWriteBytecode",new K("dont_write_bytecode")),a(K,"PycachePrefix",new K("pycache_prefix")),a(K,"ExecPrefix",new K("exec_prefix")),a(K,"Executable",new K("executable")),a(K,"Flags",new K("flags")),a(K,"FloatInfo",new K("float_info")),a(K,"FloatReprStyle",new K("float_repr_style")),a(K,"HashInfo",new K("hash_info")),a(K,"HexVersion",new K("hexversion")),a(K,"Implementation",new K("implementation")),a(K,"IntInfo",new K("int_info")),a(K,"LastType",new K("last_type")),a(K,"LastValue",new K("last_value")),a(K,"LastTraceback",new K("last_traceback")),a(K,"MaxSize",new K("maxsize")),a(K,"MaxUnicode",new K("maxunicode")),a(K,"MetaPath",new K("meta_path")),a(K,"Modules",new K("modules")),a(K,"OrigArgv",new K("orig_argv")),a(K,"Path",new K("path")),a(K,"PathHooks",new K("path_hooks")),a(K,"PathImporterCache",new K("path_importer_cache")),a(K,"Platform",new K("platform")),a(K,"Prefix",new K("prefix")),a(K,"PS1",new K("ps1")),a(K,"PS2",new K("ps2")),a(K,"StdIn",new K("stdin")),a(K,"StdOut",new K("stdout")),a(K,"StdErr",new K("stderr")),a(K,"StdLibModuleNames",new K("stdlib_module_names")),a(K,"ThreadInfo",new K("thread_info")),a(K,"TracebackLimit",new K("tracebacklimit")),a(K,"Version",new K("version")),a(K,"ApiVersion",new K("api_version")),a(K,"VersionInfo",new K("version_info")),a(K,"WarnOptions",new K("warnoptions")),a(K,"WinVer",new K("winver")),a(K,"XOptions",new K("_xoptions"));var G=function(e){d(n,e);var t=g(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(o.default);n.DataType=G,a(G,"Int",new G("int")),a(G,"Float",new G("float")),a(G,"Number",new G("number (int or float)")),a(G,"String",new G("string")),a(G,"Bool",new G("bool")),a(G,"List",new G("list")),a(G,"Set",new G("set")),a(G,"Tuple",new G("tuple")),a(G,"Dict",new G("dictionary")),a(G,"File",new G("file")),a(G,"Class",new G("class")),a(G,"None",new G("none")),a(G,"Exception",new G("exception")),a(G,"Unknown",new G("unknown data type")),a(G,"NA",new G("N/A")),a(G,"NotParsed",new G("not parsed")),a(G,"Invalid",new G("invalid")),a(G,"Random",new G("random")),a(G,"Math",new G("math")),a(G,"StringModule",new G("string module")),a(G,"Re",new G("re")),a(G,"Pattern",new G("Pattern")),a(G,"Match",new G("Match")),a(G,"Sys",new G("sys"));var q=new Map([[K.AbsFunction,G.Number],[K.AllFunction,G.Bool],[K.AnyFunction,G.Bool],[K.AsciiFunction,G.String],[K.AssertFunction,G.None],[K.BinFunction,G.String],[K.BoolFunction,G.Bool],[K.CallableFunction,G.Bool],[K.ChrFunction,G.String],[K.DictFunction,G.Dict],[K.DivModFunction,G.Tuple],[K.EnumerateFunction,G.Tuple],[K.EvalFunction,G.Unknown],[K.ExecFunction,G.None],[K.ExitFunction,G.None],[K.FilterFunction,G.Unknown],[K.FloatFunction,G.Float],[K.GetAttrFunction,G.Unknown],[K.GlobalsFunction,G.Dict],[K.HasAttrFunction,G.Bool],[K.InputFunction,G.String],[K.IntFunction,G.Int],[K.IsInstanceFunction,G.Bool],[K.LenFunction,G.Int],[K.ListFunction,G.List],[K.MapFunction,G.Unknown],[K.MaxFunction,G.Number],[K.MinFunction,G.Number],[K.OpenFunction,G.File],[K.OrdFunction,G.Int],[K.PowFunction,G.Number],[K.PrintFunction,G.None],[K.QuitFunction,G.None],[K.RangeFunction,G.Unknown],[K.ReversedFunction,G.Unknown],[K.RoundFunction,G.Float],[K.SetFunction,G.Set],[K.SortedFunction,G.List],[K.StrFunction,G.String],[K.SumFunction,G.Number],[K.TupleFunction,G.Tuple],[K.TypeFunction,G.Class],[K.Capitalize,G.String],[K.Casefold,G.String],[K.Center,G.String],[K.Count,G.Int],[K.Encode,G.String],[K.EndsWith,G.Bool],[K.ExpandTabs,G.String],[K.Find,G.Int],[K.Format,G.String],[K.FormatFunction,G.String],[K.Index,G.Int],[K.IsAlnum,G.Bool],[K.IsAlpha,G.Bool],[K.IsAscii,G.Bool],[K.IsDecimal,G.Bool],[K.IsDigit,G.Bool],[K.IsIdentifier,G.Bool],[K.IsLower,G.Bool],[K.IsNumeric,G.Bool],[K.IsPrintable,G.Bool],[K.IsSpace,G.Bool],[K.IsTitle,G.Bool],[K.IsUpper,G.Bool],[K.Join,G.String],[K.LJust,G.String],[K.Lower,G.String],[K.LStrip,G.String],[K.MakeTrans,G.Dict],[K.Partition,G.Tuple],[K.Replace,G.String],[K.RFind,G.Int],[K.RIndex,G.Int],[K.RJust,G.String],[K.RPartition,G.Tuple],[K.RSplit,G.List],[K.RStrip,G.String],[K.Split,G.List],[K.SplitLines,G.List],[K.StartsWith,G.Bool],[K.Strip,G.String],[K.SwapCase,G.String],[K.Title,G.String],[K.Translate,G.String],[K.Upper,G.String],[K.ZFill,G.String],[K.Append,G.None],[K.Clear,G.None],[K.Copy,G.Unknown],[K.Extend,G.None],[K.Insert,G.None],[K.Pop,G.Unknown],[K.Remove,G.None],[K.Reverse,G.None],[K.Sort,G.None],[K.FromKeys,G.Dict],[K.Get,G.Unknown],[K.Items,G.List],[K.Keys,G.Unknown],[K.PopItem,G.None],[K.SetDefault,G.Unknown],[K.Update,G.None],[K.Values,G.Unknown],[K.Add,G.None],[K.Difference,G.Set],[K.DifferenceUpdate,G.None],[K.Discard,G.None],[K.Intersection,G.Set],[K.IntersectionUpdate,G.None],[K.IsDisjoint,G.Bool],[K.IsSubset,G.Bool],[K.IsSuperset,G.Bool],[K.SymmetricDifference,G.Set],[K.SymmetricDifferenceUpdate,G.None],[K.Union,G.Set],[K.Close,G.None],[K.FileNo,G.Int],[K.Flush,G.None],[K.IsAtty,G.Bool],[K.Read,G.String],[K.Readable,G.Bool],[K.ReadLine,G.String],[K.ReadLines,G.List],[K.Seek,G.None],[K.Seekable,G.Bool],[K.Tell,G.Unknown],[K.Truncate,G.None],[K.Writable,G.Bool],[K.Write,G.None],[K.WriteLines,G.None],[K.Main,G.None],[K.Cmp,G.Int],[K.Eq,G.Bool],[K.Ne,G.Bool],[K.Lt,G.Bool],[K.Gt,G.Bool],[K.Le,G.Bool],[K.Ge,G.Bool],[K.Str,G.String],[K.SpecialContains,G.Bool],[K.SpecialLen,G.Int],[K.ZipFunction,G.Unknown],[K.Seed,G.None],[K.GetState,G.Unknown],[K.SetState,G.None],[K.GetRandBits,G.Int],[K.RandRange,G.Int],[K.RandInt,G.Int],[K.Choice,G.Unknown],[K.Choices,G.List],[K.Shuffle,G.Shuffle],[K.Sample,G.List],[K.RandomMethod,G.Float],[K.Uniform,G.Float],[K.Triangular,G.Float],[K.BetaVariate,G.Float],[K.ExpoVariate,G.Float],[K.GammaVariate,G.Float],[K.Gauss,G.Float],[K.LogNormVariate,G.Float],[K.NormalVariate,G.Float],[K.VonMisesVariate,G.Float],[K.ParetoVariate,G.Float],[K.WeibullVariate,G.Float],[K.Acos,G.Float],[K.Acosh,G.Float],[K.Asin,G.Float],[K.Asinh,G.Float],[K.Atan,G.Float],[K.Atan2,G.Float],[K.Atanh,G.Float],[K.Ceil,G.Int],[K.Comb,G.Int],[K.CopySign,G.Float],[K.Cos,G.Float],[K.Cosh,G.Float],[K.Degrees,G.Float],[K.Dist,G.Float],[K.Erf,G.Float],[K.Erfc,G.Float],[K.Exp,G.Float],[K.Expm1,G.Float],[K.Fabs,G.Float],[K.Factorial,G.Int],[K.Floor,G.Int],[K.Fmod,G.Float],[K.Frexp,G.Tuple],[K.Fsum,G.Float],[K.Gamma,G.Float],[K.Gcd,G.Int],[K.Hypot,G.Float],[K.IsClose,G.Bool],[K.IsFinite,G.Bool],[K.IsInf,G.Bool],[K.IsNaN,G.Bool],[K.ISqrt,G.Int],[K.Ldexp,G.Float],[K.LGamma,G.Float],[K.Log,G.Float],[K.Log10,G.Float],[K.Log1P,G.Float],[K.Log2,G.Float],[K.Perm,G.Int],[K.Pow,G.Float],[K.Prod,G.Float],[K.Radians,G.Float],[K.Remainder,G.Float],[K.Sin,G.Float],[K.Sinh,G.Float],[K.Sqrt,G.Float],[K.Tan,G.Float],[K.Tanh,G.Float],[K.Trunc,G.Int],[K.E,G.Float],[K.Inf,G.Float],[K.Nan,G.Float],[K.Pi,G.Float],[K.Tau,G.Float],[K.AsciiLetters,G.String],[K.AsciiLowercase,G.String],[K.AsciiUppercase,G.String],[K.Digits,G.String],[K.Hexdigits,G.String],[K.Octdigits,G.String],[K.Punctuation,G.String],[K.Printable,G.String],[K.Whitespace,G.String],[K.Formatter,G.String],[K.Template,G.String],[K.Capwords,G.String],[K.ReA,G.Unknown],[K.ReASCII,G.Unknown],[K.ReDebug,G.Unknown],[K.ReI,G.Unknown],[K.ReIGNORECASE,G.Unknown],[K.ReL,G.Unknown],[K.ReLOCALE,G.Unknown],[K.ReM,G.Unknown],[K.ReMULTILINE,G.Unknown],[K.ReS,G.Unknown],[K.ReDOTALL,G.Unknown],[K.ReX,G.Unknown],[K.ReVERBOSE,G.Unknown],[K.Compile,G.Pattern],[K.Search,G.Unknown],[K.Match,G.Unknown],[K.FullMatch,G.Unknown],[K.FindAll,G.List],[K.FindIter,G.Unknown],[K.Sub,G.String],[K.SubN,G.Tuple],[K.Escape,G.String],[K.Purge,G.None],[K.AddAuditHook,G.None],[K.Audit,G.None],[K.CallTracing,G.Unknown],[K.ClearTypeCache,G.None],[K.CurrentFrames,G.Dict],[K.CurrentExceptions,G.Dict],[K.BreakpointHook,G.None],[K.DebugMallocStats,G.None],[K.DisplayHook,G.None],[K.ExceptHook,G.None],[K.ExcInfo,G.Tuple],[K.SysExit,G.None],[K.GetAllocatedBlocks,G.Int],[K.GetAndroidApiLevel,G.Int],[K.GetDefaultEncoding,G.String],[K.GetDLOpenFlags,G.Int],[K.GetFileSystemEncoding,G.String],[K.GetFileSystemEncodeErrors,G.String],[K.GetRefCount,G.Int],[K.GetRecursionLimit,G.Int],[K.GetSizeOf,G.Int],[K.GetSwitchInterval,G.Float],[K.GetFrame,G.Unknown],[K.GetProfile,G.None],[K.GetTrace,G.None],[K.GetWindowsVersion,G.Tuple],[K.GetAsyncGenHooks,G.Unknown],[K.GetCoroutineOriginTrackingDepth,G.Int],[K.Intern,G.Unknown],[K.IsFinalizing,G.Bool],[K.SetDLOpenFlags,G.None],[K.SetProfile,G.Unknown],[K.SetRecursionLimit,G.None],[K.SetSwitchInterval,G.None],[K.SetTrace,G.None],[K.SetAsyncgenHooks,G.None],[K.EnableLegacyWindowsFSEncoding,G.None],[K.ABIFlags,G.String],[K.Argv,G.List],[K.BaseExecPrefix,G.String],[K.BasePrefix,G.String],[K.ByteOrder,G.String],[K.BuiltInModuleNames,G.Tuple],[K.Copyright,G.String],[K.DllHandle,G.Int],[K.DontWriteBytecode,G.Bool],[K.PycachePrefix,G.Unknown],[K.ExecPrefix,G.String],[K.Executable,G.String],[K.Flags,G.Unknown],[K.FloatInfo,G.Unknown],[K.FloatReprStyle,G.String],[K.HashInfo,G.Unknown],[K.HexVersion,G.Int],[K.Implementation,G.Unknown],[K.IntInfo,G.Unknown],[K.LastType,G.Unknown],[K.LastValue,G.Unknown],[K.LastTraceback,G.Unknown],[K.MaxSize,G.Int],[K.MaxUnicode,G.Int],[K.MetaPath,G.List],[K.Modules,G.Dict],[K.OrigArgv,G.List],[K.Path,G.List],[K.PathHooks,G.List],[K.PathImporterCache,G.Dict],[K.Platform,G.String],[K.Prefix,G.String],[K.PS1,G.String],[K.PS2,G.String],[K.StdIn,G.Unknown],[K.StdOut,G.Unknown],[K.StdErr,G.Unknown],[K.StdLibModuleNames,G.Unknown],[K.ThreadInfo,G.Unknown],[K.TracebackLimit,G.Unknown],[K.Version,G.String],[K.ApiVersion,G.Int],[K.VersionInfo,G.Tuple],[K.WarnOptions,G.List],[K.WinVer,G.Int],[K.XOptions,G.Dict]]);n.builtInReturnLookup=q;var H=new Set([K.Add,K.Append,K.Clear,K.DifferenceUpdate,K.Discard,K.Extend,K.Insert,K.IntersectionUpdate,K.Pop,K.PopItem,K.Remove,K.Reverse,K.SetDefault,K.Sort,K.SymmetricDifferenceUpdate,K.Update]);n.modifyingMethodsLookup=H;var J=new Set([K.Capitalize,K.Casefold,K.Center,K.Encode,K.ExpandTabs,K.Format,K.FormatMap,K.LJust,K.Lower,K.LStrip,K.Replace,K.RJust,K.RStrip,K.Strip,K.SwapCase,K.Title,K.Translate,K.Upper,K.ZFill]);n.stringMethodsLookup=J;var z=new Map([[K.Seed,K.RandomModule],[K.GetState,K.RandomModule],[K.SetState,K.RandomModule],[K.GetRandBits,K.RandomModule],[K.RandRange,K.RandomModule],[K.RandInt,K.RandomModule],[K.Choice,K.RandomModule],[K.Choices,K.RandomModule],[K.Shuffle,K.RandomModule],[K.Sample,K.RandomModule],[K.RandomMethod,K.RandomModule],[K.Uniform,K.RandomModule],[K.Triangular,K.RandomModule],[K.BetaVariate,K.RandomModule],[K.ExpoVariate,K.RandomModule],[K.GammaVariate,K.RandomModule],[K.Gauss,K.RandomModule],[K.LogNormVariate,K.RandomModule],[K.NormalVariate,K.RandomModule],[K.VonMisesVariate,K.RandomModule],[K.ParetoVariate,K.RandomModule],[K.WeibullVariate,K.RandomModule],[K.Acos,K.MathModule],[K.Acosh,K.MathModule],[K.Asin,K.MathModule],[K.Asinh,K.MathModule],[K.Atan,K.MathModule],[K.Atan2,K.MathModule],[K.Atanh,K.MathModule],[K.Ceil,K.MathModule],[K.Comb,K.MathModule],[K.CopySign,K.MathModule],[K.Cos,K.MathModule],[K.Cosh,K.MathModule],[K.Degrees,K.MathModule],[K.Dist,K.MathModule],[K.Erf,K.MathModule],[K.Erfc,K.MathModule],[K.Exp,K.MathModule],[K.Expm1,K.MathModule],[K.Fabs,K.MathModule],[K.Factorial,K.MathModule],[K.Floor,K.MathModule],[K.Fmod,K.MathModule],[K.Frexp,K.MathModule],[K.Fsum,K.MathModule],[K.Gamma,K.MathModule],[K.Gcd,K.MathModule],[K.Hypot,K.MathModule],[K.IsClose,K.MathModule],[K.IsFinite,K.MathModule],[K.IsInf,K.MathModule],[K.IsNaN,K.MathModule],[K.ISqrt,K.MathModule],[K.Ldexp,K.MathModule],[K.LGamma,K.MathModule],[K.Log,K.MathModule],[K.Log10,K.MathModule],[K.Log1P,K.MathModule],[K.Log2,K.MathModule],[K.Perm,K.MathModule],[K.Pow,K.MathModule],[K.Prod,K.MathModule],[K.Radians,K.MathModule],[K.Remainder,K.MathModule],[K.Sin,K.MathModule],[K.Sinh,K.MathModule],[K.Sqrt,K.MathModule],[K.Tan,K.MathModule],[K.Tanh,K.MathModule],[K.Trunc,K.MathModule],[K.E,K.MathModule],[K.Inf,K.MathModule],[K.Nan,K.MathModule],[K.Pi,K.MathModule],[K.Tau,K.MathModule],[K.AsciiLetters,K.StringModule],[K.AsciiLowercase,K.StringModule],[K.AsciiUppercase,K.StringModule],[K.Digits,K.StringModule],[K.Hexdigits,K.StringModule],[K.Octdigits,K.StringModule],[K.Punctuation,K.StringModule],[K.Printable,K.StringModule],[K.Whitespace,K.StringModule],[K.Formatter,K.StringModule],[K.Template,K.StringModule],[K.Capwords,K.StringModule],[K.Pattern,K.ReModule],[K.Match,K.ReModule],[K.ReA,K.ReModule],[K.ReASCII,K.ReModule],[K.ReDebug,K.ReModule],[K.ReI,K.ReModule],[K.ReIGNORECASE,K.ReModule],[K.ReL,K.ReModule],[K.ReLOCALE,K.ReModule],[K.ReM,K.ReModule],[K.ReMULTILINE,K.ReModule],[K.ReS,K.ReModule],[K.ReDOTALL,K.ReModule],[K.ReX,K.ReModule],[K.ReVERBOSE,K.ReModule],[K.Compile,K.ReModule],[K.Search,K.ReModule],[K.Match,K.ReModule],[K.FullMatch,K.ReModule],[K.FindAll,K.ReModule],[K.FindIter,K.ReModule],[K.Sub,K.ReModule],[K.SubN,K.ReModule],[K.Escape,K.ReModule],[K.Purge,K.ReModule],[K.Split,K.ReModule],[K.AddAuditHook,K.Sys],[K.Audit,K.Sys],[K.CallTracing,K.Sys],[K.ClearTypeCache,K.Sys],[K.CurrentFrames,K.Sys],[K.CurrentExceptions,K.Sys],[K.BreakpointHook,K.Sys],[K.DebugMallocStats,K.Sys],[K.DisplayHook,K.Sys],[K.ExceptHook,K.Sys],[K.ExcInfo,K.Sys],[K.SysExit,K.Sys],[K.GetAllocatedBlocks,K.Sys],[K.GetAndroidApiLevel,K.Sys],[K.GetDefaultEncoding,K.Sys],[K.GetDLOpenFlags,K.Sys],[K.GetFileSystemEncoding,K.Sys],[K.GetFileSystemEncodeErrors,K.Sys],[K.GetRefCount,K.Sys],[K.GetRecursionLimit,K.Sys],[K.GetSizeOf,K.Sys],[K.GetSwitchInterval,K.Sys],[K.GetFrame,K.Sys],[K.GetProfile,K.Sys],[K.GetTrace,K.Sys],[K.GetWindowsVersion,K.Sys],[K.GetAsyncGenHooks,K.Sys],[K.GetCoroutineOriginTrackingDepth,K.Sys],[K.Intern,K.Sys],[K.IsFinalizing,K.Sys],[K.SetDLOpenFlags,K.Sys],[K.SetProfile,K.Sys],[K.SetRecursionLimit,K.Sys],[K.SetSwitchInterval,K.Sys],[K.SetTrace,K.Sys],[K.SetAsyncgenHooks,K.Sys],[K.EnableLegacyWindowsFSEncoding,K.Sys],[K.ABIFlags,K.Sys],[K.Argv,K.Sys],[K.BaseExecPrefix,K.Sys],[K.BasePrefix,K.Sys],[K.ByteOrder,K.Sys],[K.BuiltInModuleNames,K.Sys],[K.Copyright,K.Sys],[K.DllHandle,K.Sys],[K.DontWriteBytecode,K.Sys],[K.PycachePrefix,K.Sys],[K.ExecPrefix,K.Sys],[K.Executable,K.Sys],[K.Flags,K.Sys],[K.FloatInfo,K.Sys],[K.FloatReprStyle,K.Sys],[K.HashInfo,K.Sys],[K.HexVersion,K.Sys],[K.Implementation,K.Sys],[K.IntInfo,K.Sys],[K.LastType,K.Sys],[K.LastValue,K.Sys],[K.LastTraceback,K.Sys],[K.MaxSize,K.Sys],[K.MaxUnicode,K.Sys],[K.MetaPath,K.Sys],[K.Modules,K.Sys],[K.OrigArgv,K.Sys],[K.Path,K.Sys],[K.PathHooks,K.Sys],[K.PathImporterCache,K.Sys],[K.Platform,K.Sys],[K.Prefix,K.Sys],[K.PS1,K.Sys],[K.PS2,K.Sys],[K.StdIn,K.Sys],[K.StdOut,K.Sys],[K.StdErr,K.Sys],[K.StdLibModuleNames,K.Sys],[K.ThreadInfo,K.Sys],[K.TracebackLimit,K.Sys],[K.Version,K.Sys],[K.ApiVersion,K.Sys],[K.VersionInfo,K.Sys],[K.WarnOptions,K.Sys],[K.WinVer,K.Sys],[K.XOptions,K.Sys]]);n.moduleLookup=z;var X={assert:{entity:K.AssertFunction,category:j.BuiltInFunctions},random:{entity:K.RandomMethod,category:j.BuiltInMethods},exit:{entity:K.SysExit,category:j.ModuleFunctions}};n.specialCaseLookup=X},{"./enum.js":6,"./observers.js":11}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.directImport=n.VariableUsage=n.Variable=n.UserDefinedFunction=n.Module=n.FunctionUsage=void 0;var i=e("./expression.js"),r=(e("./executionline.js"),e("./observers.js"));e("./block.js");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},h.apply(this,arguments)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=E(e);if(t){var r=E(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function m(e,t){v(e,t),t.add(e)}function x(e,t,n){v(e,t),t.set(e,n)}function v(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function I(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,T(e,t,"get"))}function b(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,T(e,t,"set"),n),n}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var k=new WeakMap,O=new WeakMap,S=new WeakMap,D=new WeakMap,M=new WeakMap,C=new WeakMap,L=new WeakMap,N=new WeakMap,F=new WeakMap,B=new WeakSet,A=function(e){y(n,e);var t=f(n);function n(e){var r;return l(this,n),m(g(r=t.call(this)),B),x(g(r),k,{writable:!0,value:void 0}),x(g(r),O,{writable:!0,value:[]}),x(g(r),S,{writable:!0,value:[]}),x(g(r),D,{writable:!0,value:[]}),x(g(r),M,{writable:!0,value:0}),x(g(r),C,{writable:!0,value:[]}),x(g(r),L,{writable:!0,value:i.DataType.None}),x(g(r),N,{writable:!0,value:[]}),x(g(r),F,{writable:!0,value:!1}),b(g(r),k,e),r}return p(n,[{key:"getName",value:function(){return I(this,k)}},{key:"setLines",value:function(e){b(this,O,e)}},{key:"addLine",value:function(e){I(this,O).push(e)}},{key:"getLines",value:function(){return I(this,O)}},{key:"getLinesWithEntity",value:function(e){return I(this,O).filter((function(t){return t.indexOfEntity(e)>-1}))}},{key:"addParameter",value:function(e){I(this,D).push(e)}},{key:"addOptionalParameter",value:function(){var e;b(this,M,(e=I(this,M),e++,e))}},{key:"getParameters",value:function(){return I(this,D)}},{key:"getNumberOfOptionalParameters",value:function(){return I(this,M)}},{key:"getBlock",value:function(){if(I(this,O).length>0)return I(this,O)[0].getBlock()}},{key:"addFunctionCall",value:function(e){I(this,S).push(e)}},{key:"addMultipleFunctionCalls",value:function(e){b(this,S,I(this,S).concat(e))}},{key:"addExitBlock",value:function(e){I(this,N).push(e)}},{key:"addReturnLine",value:function(e){I(this,C).push(e),h(E(n.prototype),"sendUpdate",this).call(this,this.getAggregateReturnType())}},{key:"getReturnLines",value:function(){return I(this,C)}},{key:"addBranchWithNoReturn",value:function(){b(this,F,!0),h(E(n.prototype),"sendUpdate",this).call(this,this.getAggregateReturnType())}},{key:"typeUpdateReceived",value:function(e){var t=I(this,L),i=this.getAggregateReturnType();t!==i&&h(E(n.prototype),"sendUpdate",this).call(this,i)}},{key:"getReturnTypes",value:function(){var e,t=[],n=a(I(this,C));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.indexOfEntity(i.ExpressionEntity.ReturnKeyword)>-1;o&&!t.includes(r.getCompoundExpression().getEvaluatedType())?t.push(r.getCompoundExpression().getEvaluatedType()):o||t.includes(i.DataType.None)||t.push(i.DataType.None)}}catch(e){n.e(e)}finally{n.f()}return I(this,F)&&!t.includes(i.DataType.None)&&t.push(i.DataType.None),t}},{key:"getReturnDetail",value:function(){var e,t=[],n=a(I(this,C));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.indexOfEntity(i.ExpressionEntity.ReturnKeyword)>-1&&t.push({line:r.getDocumentLineNumber(),dataType:r.getCompoundExpression().getEvaluatedType()})}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"hasReturn",value:function(){var e=this.getReturnTypes();return e.length>1||1===e.length&&e[0]!==i.DataType.None}},{key:"hasReturnInBlock",value:function(e){var t,n=[i.ExpressionEntity.IfDefinition,i.ExpressionEntity.ElifDefinition,i.ExpressionEntity.ElseDefinition,i.ExpressionEntity.ForDefinition,i.ExpressionEntity.WhileDefinition,i.ExpressionEntity.TryDefinition,i.ExpressionEntity.ExceptDefinition,i.ExpressionEntity.FunctionDefinition],r=I(this,C).filter((function(t){return e.hasChild(t.getBlock())})).sort((function(t,n){return t.getBlock().getStepsToParentBlock(e)-n.getBlock().getStepsToParentBlock(e)})),o=a(r);try{for(o.s();!(t=o.n()).done;){var s=t.value.getBlock(),u=s.getStepsToParentBlock(e);if(0===u)return!0;var l=s.stepsToNearestParentOfAny(n);if(!(l>-1&&l<u))return!0;var c=s.getNearestParentOfAny(n);if(c.isBranchOfExhaustiveConditional()){var p,h=a(c.getAlternateBranches());try{for(h.s();!(p=h.n()).done;){var y=p.value;if(!this.hasReturnInBlock(y))return!1}}catch(e){h.e(e)}finally{h.f()}return!0}}}catch(e){o.e(e)}finally{o.f()}return!1}},{key:"getFunctionCalls",value:function(){return I(this,S)}},{key:"getAggregateReturnType",value:function(){var e=this.getReturnTypes();return 0===e.length?(b(this,L,i.DataType.None),i.DataType.None):1===e.length?(b(this,L,e[0]),e[0]):w(this,B,P).call(this)?i.DataType.Number:(b(this,L,i.DataType.Unknown),i.DataType.Unknown)}},{key:"toString",value:function(){return"Function name="+I(this,k)+" block="+(void 0!==this.getBlock()?this.getBlock().getId():"unknown block")+" returns="+this.getReturnTypes().map((function(e){return e.name}))}},{key:"toJSON",value:function(){return{name:I(this,k),block:this.getBlock().getId(),hasReturn:this.hasReturn(),returnTypes:this.getReturnTypes().map((function(e){return e.name})),returnDetail:this.getReturnDetail().map((function(e){return{line:e.line,dataType:e.dataType.name}})),hasBranchWithoutReturn:I(this,F),callLineNumbers:I(this,S).map((function(e){return e.getLineNumber()})),parameters:I(this,D).map((function(e){return e.getName()})),numOptionalParameters:I(this,M)}}}]),n}(r.TypeChangeObserverNotifier);function P(){var e,t=new Set(this.getReturnTypes()),n=a(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r!==i.DataType.Int&&r!==i.DataType.Float&&r!==i.DataType.Number)return!1}}catch(e){n.e(e)}finally{n.f()}return t.size>0}n.UserDefinedFunction=A;var R=new WeakMap,V=new WeakMap,U=function(){function e(t,n){l(this,e),x(this,R,{writable:!0,value:void 0}),x(this,V,{writable:!0,value:void 0}),b(this,V,t),b(this,R,n)}return p(e,[{key:"getLineNumber",value:function(){return I(this,V)}},{key:"getIndex",value:function(){return I(this,R)}}]),e}();n.FunctionUsage=U;var _=new WeakMap,W=new WeakMap,j=new WeakMap,K=new WeakMap,G=new WeakMap,q=new WeakMap,H=new WeakMap,J=new WeakSet,z=new WeakSet,X=new WeakSet,Y=new WeakSet,Q=new WeakSet,Z=new WeakSet,$=new WeakSet,ee=new WeakSet,te=new WeakSet,ne=new WeakSet,ie=function(){function e(t,n,r,o,s){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(l(this,e),m(this,ne),m(this,te),m(this,ee),m(this,$),m(this,Z),m(this,Q),m(this,Y),m(this,X),m(this,z),m(this,J),x(this,_,{writable:!0,value:void 0}),x(this,W,{writable:!0,value:[]}),x(this,j,{writable:!0,value:void 0}),x(this,K,{writable:!0,value:void 0}),x(this,G,{writable:!0,value:void 0}),x(this,q,{writable:!0,value:void 0}),x(this,H,{writable:!0,value:!1}),b(this,_,t),b(this,j,s),b(this,K,s.getScope()),b(this,G,a),b(this,q,u),a){var c=new Te(r,n,o,i.DataType.Unknown);I(this,W).push(c)}}return p(e,[{key:"getName",value:function(){return I(this,_)}},{key:"addUsage",value:function(e){var t=this.getLastUsage();t&&t.getValueIsAssigned()&&(t.getExecutionLineNumber()>=0&&t.getExecutionLineNumber()===e.getExecutionLineNumber()||t.getLineNumber()===e.getLineNumber())?I(this,W).splice(-1,0,e):I(this,W).push(e)}},{key:"isUsed",value:function(){return I(this,W).length>1||I(this,H)}},{key:"getUsages",value:function(){return I(this,W)}},{key:"getFirstUsage",value:function(){if(I(this,W).length>0)return I(this,W)[0]}},{key:"hasMatchingUsage",value:function(e){var t,n=a(I(this,W));try{for(n.s();!(t=n.n()).done;){if(t.value.getLineNumber()===e)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"getLastUsage",value:function(){if(I(this,W).length>0)return I(this,W)[I(this,W).length-1]}},{key:"getLastUsageBefore",value:function(e,t){var n=this,r=[],o=I(this,W).length-1,a=e.getExecutionLineNumber();if(a<0||t[a].isVariableAssigned(e))return r;for(var u=w(this,te,he).call(this,e,t),l=function(){var s=I(n,W)[o],a=s.getExecutionLineNumber(),l=w(n,te,he).call(n,s,t);if(a>=0){if(e.getExecutionLineNumber()===s.getExecutionLineNumber()&&s.getValueIsAssigned()||w(n,Z,le).call(n,s,l,r,t))return o--,"continue";if(w(n,ne,ye).call(n,e,u,s,l)){var c=r.length>0?w(n,te,he).call(n,r[r.length-1],t):void 0;if(!(r.length>0&&c===l&&l.isBranchOfExhaustiveConditional()&&w(n,ee,pe).call(n,s,l)))return r.push(s),{v:r};var p=new Set(Array.from(l.getAlternateBranches()).filter((function(e){return e.getStartLine()>l.getStartLine()})));if(new Set(r.filter((function(e){var i=w(n,te,he).call(n,e,t);return p.has(w(n,te,he).call(n,e,t))&&!w(n,ee,pe).call(n,e,i)}))).size===p.size&&l.getBlockEntity()===i.ExpressionEntity.IfDefinition)return{v:r}}else if(!u.isInAlternateBranch(l)&&(r.push(s),l.getBlockEntity()===i.ExpressionEntity.IfDefinition&&l.isBranchOfExhaustiveConditional())){var h=l.getAlternateBranches();if(r.length-1<h.size)return"continue";if(new Set(r.filter((function(e){var i=w(n,te,he).call(n,e,t);return h.has(w(n,te,he).call(n,e,t))&&!w(n,ee,pe).call(n,e,i)}))).size===h.size){var y=l.getParentBlock(),d=void 0!==y?y.getNearestParentOfAny([i.ExpressionEntity.IfDefinition,i.ExpressionEntity.ElifDefinition,i.ExpressionEntity.ElseDefinition,i.ExpressionEntity.ForDefinition,i.ExpressionEntity.WhileDefinition]):void 0;if(void 0===d||d.hasChild(u))return{v:r}}}}o--};o>=0;){var c=l();if("continue"!==c&&"object"===s(c))return c.v}if(w(this,Q,ue).call(this,u,r,t)||r.length>0&&!w(this,ne,ye).call(this,e,u,r[0],w(this,te,he).call(this,r[0],t))){var p=w(this,J,re).call(this,r,t);w(this,z,oe).call(this,u,p)||r.push(new Te(-1,-1,-1,i.DataType.Invalid))}return r}},{key:"updateTypeOfLastUsage",value:function(e){I(this,W).length>0&&I(this,W)[I(this,W).length-1].setType(e)}},{key:"getDefinedInBlock",value:function(){return I(this,j)}},{key:"getScope",value:function(){return I(this,K)}},{key:"isParameter",value:function(){return I(this,G)}},{key:"isImport",value:function(){return I(this,q)}},{key:"setIsImport",value:function(){b(this,q,!0)}},{key:"usedInFString",value:function(){b(this,H,!0)}},{key:"toJSON",value:function(){return{name:I(this,_),definitionBlock:I(this,j).getId(),scopeBlock:I(this,K).getId(),isParameter:I(this,G),isImport:I(this,q),usedInFString:I(this,H),usages:I(this,W).map((function(e){return e.toJSON()}))}}}]),e}();function re(e,t){var n,i=[],r=a(e);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=w(this,te,he).call(this,o,t);w(this,ee,pe).call(this,o,s)&&(s=s.getParentBlock()),i.push(s)}}catch(e){r.e(e)}finally{r.f()}return i}function oe(e,t){var n=w(this,Y,ae).call(this,t),r=w(this,X,se).call(this,n);if(r){var o,s=a(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.block===e){r=!0;break}if(u.block.getStepsToParentBlock(e)>1){var l=u.block.getNearestParentOfAny([i.ExpressionEntity.ForDefinition,i.ExpressionEntity.WhileDefinition]);void 0!==l&&e.hasChild(l)&&(r=!1)}}}catch(e){s.e(e)}finally{s.f()}}return r}function se(e){var t=this;if(e.length<=1)return!1;for(var n=new Map,i=0;i<e.length;i++)n.has(e[i].stepsToDoc)||n.set(e[i].stepsToDoc,[]),n.get(e[i].stepsToDoc).push(e[i]);var r=Array.from(n.keys()).sort()[0],o=n.get(r);if(o[0].block.isBranchOfExhaustiveConditional()){var u,l=o[0].block.getAlternateBranches(),c=new Set,p=a(l);try{for(p.s();!(u=p.n()).done;)for(var h=u.value,y=1;y<o.length;y++)o[y].block===h&&c.add(h)}catch(e){p.e(e)}finally{p.f()}if(c.size===l.size)return!0;if(n.size>1){n.delete(r);var d,f=a(new Set(Array.from(l).filter((function(e){return!c.has(e)}))));try{var g=function(){var e=d.value,i=Array.from(n.entries()).flatMap((function(e){return e[1]})).filter((function(t){return e.hasChild(t.block)}));if(0===i.length||!w(t,X,se).call(t,i))return{v:!1}};for(f.s();!(d=f.n()).done;){var E=g();if("object"===s(E))return E.v}}catch(e){f.e(e)}finally{f.f()}return!0}}return!1}function ae(e){for(var t=[],n=e.length-1;n>=0;n--){var r,o=e[n],s=new de(o,o.stepsToParentBlockOfEntity(i.ExpressionEntity.DocumentDefinition)),u=!1,l=a(t);try{for(l.s();!(r=l.n()).done;){var c=r.value;if(c.hasChild(s)){u=c.addChild(s);break}}}catch(e){l.e(e)}finally{l.f()}u||t.push(s)}return t}function ue(e,t,n){var i,r=a(t);try{for(r.s();!(i=r.n()).done;){var o=i.value,s=w(this,te,he).call(this,o,n);if(!e.hasChild(s))return!1}}catch(e){r.e(e)}finally{r.f()}return t.length>0}function le(e,t,n,i){if(0===n.length||w(this,ee,pe).call(this,e,t))return!1;var r=n[n.length-1];return t===w(this,te,he).call(this,r,i)}function ce(e,t){return e.getExecutionLineNumber()>=0&&e.getExecutionLineNumber()<t.length&&void 0!==t[e.getExecutionLineNumber()].getBlock()}function pe(e,t){var n=t.getBlockEntity();return(n===i.ExpressionEntity.IfDefinition||n===i.ExpressionEntity.ElifDefinition)&&e.getLineNumber()===t.getStartLine()&&void 0!==t.getParentBlock()}function he(e,t){if(w(this,$,ce).call(this,e,t))return t[e.getExecutionLineNumber()].getBlock()}function ye(e,t,n,i){var r=w(this,ee,pe).call(this,e,t),o=w(this,ee,pe).call(this,n,i);return!!(t===i||r&&t.getParentBlock()===i||r&&o&&t.getParentBlock()===i.getParentBlock()||o&&t===i.getParentBlock()||i.hasChild(t))}n.Variable=ie;var de=function(){function e(t,n){l(this,e),o(this,"block",void 0),o(this,"stepsToDoc",void 0),o(this,"children",void 0),this.block=t,this.stepsToDoc=n,this.children=[]}return p(e,[{key:"hasChild",value:function(e){return this.block!==e.block&&this.block.hasChild(e.block)}},{key:"addChild",value:function(e){var t=!1;if(this.hasChild(e)&&0===this.children.length)return this.children.push(e),!0;for(var n=0;n<this.children.length&&!t;)t=this.children[n].addChild(e),n++;return t}}]),e}(),fe=new WeakMap,ge=new WeakMap,Ee=new WeakMap,me=new WeakMap,xe=new WeakMap,ve=new WeakMap,we=new WeakMap,Ie=new WeakMap,be=new WeakSet,Te=function(e){y(n,e);var t=f(n);function n(e,r,o){var s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.DataType.NotParsed;return l(this,n),m(g(s=t.call(this)),be),x(g(s),fe,{writable:!0,value:void 0}),x(g(s),ge,{writable:!0,value:void 0}),x(g(s),Ee,{writable:!0,value:void 0}),x(g(s),me,{writable:!0,value:void 0}),x(g(s),xe,{writable:!0,value:!1}),x(g(s),ve,{writable:!0,value:-1}),x(g(s),we,{writable:!0,value:[]}),x(g(s),Ie,{writable:!0,value:!1}),b(g(s),fe,e),b(g(s),ge,r),b(g(s),Ee,o),b(g(s),me,a),s}return p(n,[{key:"getIndex",value:function(){return I(this,fe)}},{key:"getLineNumber",value:function(){return I(this,ge)}},{key:"getDocIndex",value:function(){return I(this,Ee)}},{key:"setSubscripted",value:function(){b(this,Ie,!0)}},{key:"isSubscripted",value:function(){return I(this,Ie)}},{key:"setType",value:function(e){e!==I(this,me)&&(b(this,me,e),h(E(n.prototype),"sendUpdate",this).call(this,e))}},{key:"typeUpdateReceived",value:function(e){e!==I(this,me)&&(I(this,we).length<=1?this.setType(e):this.setType(w(this,be,ke).call(this)))}},{key:"getType",value:function(){return I(this,me)}},{key:"addPreviousUsage",value:function(e){I(this,we).push(e),e.addObserver(this),this.setType(w(this,be,ke).call(this))}},{key:"addPreviousUsages",value:function(e){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;I(this,we).push(i),i.addObserver(this)}}catch(e){n.e(e)}finally{n.f()}this.setType(w(this,be,ke).call(this))}},{key:"setValueIsAssigned",value:function(){b(this,xe,!0)}},{key:"getValueIsAssigned",value:function(){return I(this,xe)}},{key:"setExecutionLineNumber",value:function(e){b(this,ve,e)}},{key:"getExecutionLineNumber",value:function(){return I(this,ve)}},{key:"toString",value:function(){return"VariableUsage lineNum="+I(this,ge)+" docIndex="+I(this,Ee)+" dataType="+I(this,me).name}},{key:"toJSON",value:function(){return{line:I(this,ge),docIndex:I(this,Ee),type:I(this,me).name,subscripted:I(this,Ie)}}}]),n}(r.TypeChangeObserverNotifier);function ke(){var e=Array.from(new Set(I(this,we).map((function(e){return e.getType()}))));if(0===e.length)return i.DataType.Unknown;if(1===e.length)return e[0];var t,n=!0,r=a(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o!==i.DataType.Int&&o!==i.DataType.Float&&o!==i.DataType.Number){n=!1;break}}}catch(e){r.e(e)}finally{r.f()}return n?i.DataType.Number:i.DataType.Unknown}n.VariableUsage=Te;var Oe=new WeakMap,Se=new WeakMap,De=new WeakMap,Me=new WeakMap,Ce=new WeakMap,Le=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;l(this,e),x(this,Oe,{writable:!0,value:void 0}),x(this,Se,{writable:!0,value:void 0}),x(this,De,{writable:!0,value:void 0}),x(this,Me,{writable:!0,value:void 0}),x(this,Ce,{writable:!0,value:void 0}),b(this,Oe,t),b(this,Se,n),b(this,De,i),b(this,Me,new Map),b(this,Ce,!1)}return p(e,[{key:"getName",value:function(){return I(this,Oe)}},{key:"getEntity",value:function(){return I(this,Se)}},{key:"getAlias",value:function(){return I(this,De)}},{key:"setAlias",value:function(e){b(this,De,e)}},{key:"addDirectImport",value:function(e,t){I(this,Me).set(e,t)}},{key:"hasDirectImport",value:function(e){return I(this,Me).has(e)}},{key:"getDirectImport",value:function(e){return I(this,Me).get(e)}},{key:"setImportAll",value:function(){b(this,Ce,!0)}},{key:"didImportAll",value:function(){return I(this,Ce)}},{key:"hasDirectImports",value:function(){return I(this,Ce)||I(this,Me).size>0}}]),e}();n.Module=Le;n.directImport=function(e,t){return{entity:e,category:t}}},{"./block.js":1,"./executionline.js":7,"./expression.js":8,"./observers.js":11}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Line=void 0;var i=e("./expression.js"),r=e("./character.js"),o=e("./identifiers.js");function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){p(e,t),t.add(e)}function c(e,t,n){p(e,t),t.set(e,n)}function p(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,f(e,t,"get"))}function y(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function d(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,f(e,t,"set"),n),n}function f(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var g=new WeakMap,E=new WeakMap,m=new WeakMap,x=new WeakMap,v=new WeakMap,w=new WeakMap,I=new WeakMap,b=new WeakMap,T=new WeakMap,k=new WeakMap,O=new WeakMap,S=new WeakMap,D=new WeakMap,M=new WeakMap,C=new WeakMap,L=new WeakMap,N=new WeakMap,F=new WeakMap,B=new WeakMap,A=new WeakSet,P=new WeakSet,R=new WeakSet,V=new WeakSet,U=new WeakSet,_=new WeakSet,W=new WeakSet,j=new WeakSet,K=new WeakSet,G=new WeakSet,q=new WeakSet,H=new WeakSet,J=new WeakSet,z=new WeakSet,X=new WeakSet,Y=new WeakSet,Q=new WeakSet,Z=new WeakSet,$=new WeakSet,ee=new WeakSet,te=new WeakSet,ne=new WeakSet,ie=new WeakSet,re=new WeakSet,oe=new WeakSet,se=function(){function e(t,n,i,o){var s=o.continuationLine,a=void 0!==s&&s,u=o.multilineCommentDelimeter,p=void 0===u?void 0:u,f=o.stringLiteralDelimeter,se=void 0===f?void 0:f,le=o.groupCharCounts,ce=void 0===le?{"(":0,"[":0,"{":0}:le,pe=o.lastExpression,he=void 0===pe?void 0:pe,fe=o.rawContentStartIndex,ge=void 0===fe?0:fe;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,oe),l(this,re),l(this,ie),l(this,ne),l(this,te),l(this,ee),l(this,$),l(this,Z),l(this,Q),l(this,Y),l(this,X),l(this,z),l(this,J),l(this,H),l(this,q),l(this,G),l(this,K),l(this,j),l(this,W),l(this,_),l(this,U),l(this,V),l(this,R),l(this,P),l(this,A),c(this,g,{writable:!0,value:void 0}),c(this,E,{writable:!0,value:void 0}),c(this,m,{writable:!0,value:void 0}),c(this,x,{writable:!0,value:void 0}),c(this,v,{writable:!0,value:[]}),c(this,w,{writable:!0,value:void 0}),c(this,I,{writable:!0,value:!1}),c(this,b,{writable:!0,value:void 0}),c(this,T,{writable:!0,value:void 0}),c(this,k,{writable:!0,value:void 0}),c(this,O,{writable:!0,value:new Map}),c(this,S,{writable:!0,value:[]}),c(this,D,{writable:!0,value:new Set}),c(this,M,{writable:!0,value:new Set}),c(this,C,{writable:!0,value:new Map}),c(this,L,{writable:!0,value:void 0}),c(this,N,{writable:!0,value:void 0}),c(this,F,{writable:!0,value:void 0}),c(this,B,{writable:!0,value:!1}),d(this,g,t),d(this,E,n),d(this,m,i),d(this,b,a),d(this,T,p),d(this,k,se),d(this,x,y(this,A,ae).call(this,i)),d(this,L,ce),d(this,w,he),d(this,N,ge);var Ee=i.trimEnd();if(d(this,F,Ee.length-1),void 0!==p){var me=y(this,W,ye).call(this,h(this,x),!0);y(this,P,ue).call(this,me+1)}else if(void 0!==se){var xe=y(this,j,de).call(this,r.Character.getCategory(se.charCodeAt(0)),h(this,x));y(this,P,ue).call(this,xe+1)}else ge>0?y(this,P,ue).call(this,ge):y(this,P,ue).call(this)}var t,n,o;return t=e,n=[{key:"reevaluateLastExpression",value:function(e){if(h(this,v).length>0&&e.is(i.ExpressionEntity.OpenParenthesis)){var t=this.getLastExpression(),n=(0,i.keywordLookup)(t.getValue());t.is(i.ExpressionEntity.VariableName)?(n.category===i.ExpressionCategory.BuiltInFunctions?t.convert(n.entity,n.category,i.builtInReturnLookup.get(n.entity)):(t.convert(i.ExpressionEntity.FunctionName,i.ExpressionCategory.Identifiers),y(this,q,Ee).call(this,t.getValue(),h(this,v).length-1,!1)),h(this,S).pop()):t.is(i.ExpressionEntity.PropertyName)&&(n.category===i.ExpressionCategory.BuiltInMethods?t.convert(n.entity,n.category,i.builtInReturnLookup.get(n.entity)):t.convert(i.ExpressionEntity.MethodName,i.ExpressionCategory.OtherMethods))}}},{key:"getStartingDocIndex",value:function(){return h(this,g)}},{key:"getEndingDocIndex",value:function(){return h(this,g)+(h(this,F)-h(this,N))+(this.isFullyProcessed()?1:0)}},{key:"getLineNumber",value:function(){return h(this,E)}},{key:"getRawContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,m).substring(e?0:h(this,x))}},{key:"getIndent",value:function(){return h(this,x)}},{key:"getGroupCharCounts",value:function(){return h(this,L)}},{key:"isContinuation",value:function(){return h(this,b)}},{key:"containsMultipleLines",value:function(){return h(this,N)>0||h(this,F)<h(this,m).trimEnd().length-1}},{key:"isFullyProcessed",value:function(){return h(this,F)===h(this,m).trimEnd().length-1}},{key:"getNextLineStartIndex",value:function(){return this.isFullyProcessed()?0:h(this,F)+1}},{key:"continuesOnNextLine",value:function(){return h(this,I)}},{key:"getMultilineCommentDelimiter",value:function(){return h(this,T)}},{key:"getStringLiteralDelimiter",value:function(){return h(this,k)}},{key:"getFunctionCalls",value:function(){return h(this,O)}},{key:"getBuiltInFunctions",value:function(){return h(this,M)}},{key:"getOtherIdentifiers",value:function(){return h(this,D)}},{key:"getVariableUsages",value:function(){return h(this,S)}},{key:"insertVariableUsage",value:function(e,t){y(this,H,me).call(this,e,t)}},{key:"getModules",value:function(){return h(this,C)}},{key:"isBlank",value:function(){var e,t=s(h(this,v));try{for(t.s();!(e=t.n()).done;)if(e.value.getCategory()!==i.ExpressionCategory.Comment)return!1}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"isBlockDefinition",value:function(){return h(this,v).length>0&&h(this,v)[0].getCategory()===i.ExpressionCategory.BlockDefinitions}},{key:"getExpressions",value:function(){return h(this,v).length>0&&h(this,I)&&this.getLastExpression().is(i.ExpressionEntity.ContinuationLine)?h(this,v).slice(0,-1):h(this,v)}},{key:"addExpression",value:function(e){h(this,v).push(e)}},{key:"getFirstExpression",value:function(){if(h(this,v).length>0)return h(this,v)[0]}},{key:"getLastExpression",value:function(){return h(this,v).length>0?h(this,v)[h(this,v).length-1]:0===h(this,v).length&&this.isContinuation()?h(this,w):void 0}},{key:"getSecondLastExpression",value:function(){if(h(this,v).length>1)return h(this,v)[h(this,v).length-2]}},{key:"getExpressionsOfEntity",value:function(e){var t,n=[],i=s(h(this,v));try{for(i.s();!(t=i.n()).done;){var r=t.value;r.getEntity()===e&&n.push(r)}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"contains",value:function(e){var t,n=s(h(this,v));try{for(n.s();!(t=n.n()).done;)if(t.value.getEntity()===e)return!0}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"containsOneOf",value:function(e){var t,n=s(h(this,v));try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e.indexOf(i.getEntity())>=0)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"index",value:function(e){for(var t=0;t<h(this,v).length;t++)if(h(this,v)[t].getEntity()===e)return t;return-1}},{key:"getSequencesOfPattern",value:function(e){for(var t=[],n=0,i=[],r=0;r<h(this,v).length;r++)h(this,v)[r].isOneOfEntities(e[n])?(i.push(r),++n===e.length&&(t.push(i),i=[],n=0)):n>0&&(i=[],n=0);return t}},{key:"indexOfValue",value:function(e){for(var t=0;t<h(this,v).length;t++)if(h(this,v)[t].getValue()===e)return t;return-1}},{key:"isExit",value:function(){return h(this,B)}}],n&&u(t.prototype,n),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ae(e){for(var t=0,n=e.charCodeAt(t);e.length>0&&r.Character.getCategory(n)===r.Character.Space||r.Character.getCategory(n)===r.Character.Tab;)t++,n=e.charCodeAt(t);return t}function ue(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(this,x);e<h(this,m).length;e++){var t=r.Character.getCategory(h(this,m).charCodeAt(e));if(t===r.Character.Hash)e=y(this,U,pe).call(this,e),d(this,F,e);else if(t.isQuote())e=y(this,_,he).call(this,t,e);else if(y(this,ne,De).call(this,t))e=y(this,K,fe).call(this,e);else if(y(this,ie,Me).call(this,t,e,0===e||r.Character.getCategory(h(this,m).charCodeAt(e-1))===r.Character.Space))e=y(this,z,ve).call(this,e);else if(y(this,re,Ce).call(this,t))e=y(this,X,we).call(this,e);else if(t!==r.Character.Space&&t!==r.Character.Tab&&(y(this,Y,Ie).call(this,e),e<h(this,F)&&y(this,R,le).call(this,t))){d(this,F,e);break}}y(this,V,ce).call(this)}function le(e){return e===r.Character.Semicolon||!!(e===r.Character.Colon&&h(this,v).length>0&&h(this,v)[0].isOneOfEntities([i.ExpressionEntity.IfDefinition,i.ExpressionEntity.ElifDefinition,i.ExpressionEntity.ElseDefinition,i.ExpressionEntity.FunctionDefinition,i.ExpressionEntity.ClassDefinition,i.ExpressionEntity.ForDefinition,i.ExpressionEntity.WhileDefinition,i.ExpressionEntity.TryDefinition,i.ExpressionEntity.ExceptDefinition])&&0===h(this,L)["{"]&&0===h(this,L)["("]&&0===h(this,L)["["])}function ce(){(void 0!==h(this,T)||void 0!==h(this,k)||h(this,L)["("]>0||h(this,L)["["]>0||h(this,L)["{"]>0||h(this,v).length>0&&(this.getLastExpression().isOneOfEntities([i.ExpressionEntity.ContinuationLine,i.ExpressionEntity.AddOperator,i.ExpressionEntity.Comma])||this.getExpressionsOfEntity(i.ExpressionEntity.OpenParenthesis).length>this.getExpressionsOfEntity(i.ExpressionEntity.CloseParenthesis).length||this.getExpressionsOfEntity(i.ExpressionEntity.OpenSquareBracket).length>this.getExpressionsOfEntity(i.ExpressionEntity.CloseSquareBracket).length||this.getExpressionsOfEntity(i.ExpressionEntity.OpenBrace).length>this.getExpressionsOfEntity(i.ExpressionEntity.CloseBrace).length))&&d(this,I,!0)}function pe(e){var t=i.Expression.create(i.ExpressionEntity.SingleLineComment,h(this,E),e);return this.addExpression(t),h(this,m).length-1}function he(e,t){return y(this,oe,Le).call(this,e,t)?y(this,W,ye).call(this,t):y(this,j,de).call(this,e,t+1)}function ye(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var t=h(this,m).substring(e,e+3);d(this,T,t);var n=i.Expression.create(i.ExpressionEntity.MultiLineCommentDelimiter,h(this,E),e,t);this.addExpression(n),e+=3}if(e<h(this,m).length){var r=h(this,m).substring(e).indexOf(h(this,T));if(r>-1){if(r>e){var o=i.Expression.create(i.ExpressionEntity.MultiLineComment,h(this,E),e);this.addExpression(o)}var s=i.Expression.create(i.ExpressionEntity.MultiLineCommentDelimiter,h(this,E),r,h(this,T));return this.addExpression(s),d(this,T,void 0),e+(r+3)-1}var a=i.Expression.create(i.ExpressionEntity.MultiLineComment,h(this,E),e);this.addExpression(a)}return h(this,m).length-1}function de(e,t){var n=e===r.Character.SingleQuote?"'":'"',o=void 0!==h(this,k)&&h(this,k).length>1||t<h(this,m).length-2&&r.Character.getCategory(h(this,m).charCodeAt(t))===e&&r.Character.getCategory(h(this,m).charCodeAt(t+1))===e;void 0===h(this,k)&&d(this,k,o?n+n+n:n),o&&(t+=2);for(var s=t;s<h(this,m).length;s++){var a=r.Character.getCategory(h(this,m).charCodeAt(s));if(a===r.Character.BackSlash&&s===h(this,m).length-1){var u=i.Expression.create(i.ExpressionEntity.StringLiteral,h(this,E),t+1,h(this,m).substring(t,s)),l=i.Expression.create(i.ExpressionEntity.ContinuationLine,h(this,E),s);return this.addExpression(u),this.addExpression(l),s}if(a===r.Character.BackSlash)s++;else if(a===e&&(!o||s<h(this,m).length-2&&r.Character.getCategory(h(this,m).charCodeAt(s+1))===a&&r.Character.getCategory(h(this,m).charCodeAt(s+2))===a)){var c=i.Expression.create(i.ExpressionEntity.StringLiteral,h(this,E),t+1,h(this,m).substring(t,s));return this.addExpression(c),d(this,k,void 0),o?s+2:s}}return h(this,m).length-1}function fe(e){var t=y(this,Z,Te).call(this,e),n=y(this,$,ke).call(this,t,y(this,te,Se).call(this,e+t.length));if(this.addExpression(i.Expression.create(n,h(this,E),e,t)),n===i.ExpressionEntity.FunctionName){var r=h(this,v).length>1&&h(this,v)[h(this,v).length-2].getEntity()===i.ExpressionEntity.FunctionDefinition;y(this,q,Ee).call(this,t,h(this,v).length-1,r)}else n===i.ExpressionEntity.VariableName||n===i.ExpressionEntity.ModuleName||h(this,v)[h(this,v).length-1].is(i.ExpressionCategory.BuiltInModules)?y(this,H,me).call(this):n===i.ExpressionEntity.ModuleName||n===i.ExpressionEntity.ClassName?h(this,D).add(t):n===i.ExpressionEntity.NamedImport?y(this,G,ge).call(this,t,n,i.ExpressionCategory.ImportedEntities):i.moduleLookup.has(n)&&y(this,G,ge).call(this,t,n,(0,i.keywordLookup)(t));return h(this,v)[h(this,v).length-1].isOneOfCategories([i.ExpressionCategory.BuiltInFunctions,i.ExpressionCategory.BuiltInMethods,i.ExpressionCategory.ModuleFunctions])&&h(this,M).add(n),n!==i.ExpressionEntity.ReturnKeyword&&n!==i.ExpressionEntity.BreakKeyword&&n!==i.ExpressionEntity.ExitFunction&&n!==i.ExpressionEntity.SysExit||d(this,B,!0),e+t.length-1}function ge(e,t,n){if(h(this,v).length>1&&(h(this,v)[1].is(i.ExpressionCategory.BuiltInModules)||h(this,v)[1].is(i.ExpressionEntity.ModuleName))){var r=h(this,v)[1].getValue();h(this,C).has(r)&&h(this,C).get(r).addDirectImport(e,(0,o.directImport)(t,n))}}function Ee(e,t,n){if(!n){h(this,O).has(e)||h(this,O).set(e,[]);var i=new o.FunctionUsage(h(this,E),t);h(this,O).get(e).push(i)}}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(this,v).length-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLastExpression(),n=new o.VariableUsage(e,h(this,E),this.getStartingDocIndex()+h(this,v)[e].getLocalIndex());n.addObserver(t),h(this,S).push(n),y(this,J,xe).call(this)}function xe(){var e=h(this,v)[h(this,v).length-1];if(e.is(i.ExpressionEntity.ModuleName)||e.is(i.ExpressionCategory.BuiltInModules)){var t=new o.Module(e.getValue(),e.getEntity());h(this,C).set(e.getValue(),t)}}function ve(e){var t=y(this,ee,Oe).call(this,e),n=t.indexOf(".")>=0?i.ExpressionEntity.FloatLiteral:i.ExpressionEntity.IntLiteral;return this.addExpression(i.Expression.create(n,h(this,E),e,t)),e+t.length-1}function we(e){for(var t=h(this,m).charAt(e),n=t,r=e;("!"===n||(0,i.keywordLookup)(n).entity!==i.ExpressionEntity.Unknown)&&r<h(this,m).length;)t=n,r++,n+=h(this,m).charAt(r);var o=(0,i.keywordLookup)(t).entity;if("*"===t&&h(this,v).length>0&&h(this,v)[h(this,v).length-1].is(i.ExpressionEntity.ImportKeyword)){o=i.ExpressionEntity.ImportAll;for(var s=h(this,v).length-1;s>=0;){if(h(this,v)[s].is(i.ExpressionEntity.ModuleName)||h(this,v)[s].is(i.ExpressionCategory.BuiltInModules)){h(this,C).get(h(this,v)[s].getValue()).setImportAll();break}s--}}return this.addExpression(i.Expression.create(o,h(this,E),e,t)),e+t.length-1}function Ie(e){var t=h(this,m).charAt(e),n=(0,i.keywordLookup)(t).entity;y(this,Q,be).call(this,t),n===i.ExpressionEntity.OpenSquareBracket&&h(this,v).length>0&&h(this,v)[h(this,v).length-1].isOneOfEntities([i.ExpressionEntity.VariableName,i.ExpressionEntity.PropertyName])&&h(this,S).length>0&&h(this,S)[h(this,S).length-1].setSubscripted(),this.addExpression(i.Expression.create(n,h(this,E),e,t))}function be(e){h(this,L).hasOwnProperty(e)?h(this,L)[e]++:")"===e?h(this,L)["("]--:"]"===e?h(this,L)["["]--:"}"===e&&h(this,L)["{"]--}function Te(e){for(var t=e,n=e+1;n<h(this,m).length;n++){var i=r.Character.getCategory(h(this,m).charCodeAt(n));if(i!==r.Character.Underscore&&i!==r.Character.Letter&&i!==r.Character.Digit)break;t=n}return h(this,m).substring(e,t+1)}function ke(e,t){if(h(this,v).length>0){var n=this.getLastExpression();if(n.getEntity()===i.ExpressionEntity.FunctionDefinition)return i.ExpressionEntity.FunctionName;if(n.getEntity()===i.ExpressionEntity.ClassDefinition)return i.ExpressionEntity.ClassName;if(n.getEntity()===i.ExpressionEntity.FromKeyword||this.contains(i.ExpressionEntity.ImportKeyword)&&!this.contains(i.ExpressionEntity.FromKeyword)){if(!(n.getEntity()===i.ExpressionEntity.AsKeyword&&h(this,v).length>1)){var r=(0,i.keywordLookup)(e).entity;return r===i.ExpressionEntity.Unknown?i.ExpressionEntity.ModuleName:r}var o=h(this,v)[h(this,v).length-2].getValue();if(h(this,C).has(o)){var s=h(this,C).get(o);return s.setAlias(e),h(this,C).set(e,s),h(this,C).delete(o),s.getEntity()}}else{if(this.contains(i.ExpressionEntity.FromKeyword)&&this.contains(i.ExpressionEntity.ImportKeyword)){if(h(this,v).length>=2&&h(this,v)[1].is(i.ExpressionCategory.BuiltInModules)){var a=(0,i.keywordLookup)(e);if(a.category===i.ExpressionCategory.ModuleFunctions||a.category===i.ExpressionCategory.ModuleProperties){var u=i.moduleLookup.has(a.entity)?i.moduleLookup.get(a.entity):void 0;return u&&this.contains(u)?a.entity:i.ExpressionEntity.NamedImport}return a.entity===i.ExpressionEntity.Unknown?i.ExpressionEntity.NamedImport:a.entity}return i.ExpressionEntity.NamedImport}if(n.getEntity()===i.ExpressionEntity.AsKeyword||("sep"===e||"end"===e)&&(n.getEntity()!==i.ExpressionEntity.Comma||"="!=t))return i.ExpressionEntity.VariableName}}var l=(0,i.keywordLookup)(e);return t===i.ExpressionEntity.OpenParenthesis.name?(l.category!==i.ExpressionCategory.BuiltInFunctions||void 0!==this.getLastExpression()&&(void 0===this.getLastExpression()||this.getLastExpression().is(i.ExpressionEntity.Dot)))&&(l.category!==i.ExpressionCategory.BuiltInMethods&&l.category!==i.ExpressionCategory.MagicMethods&&l.category!==i.ExpressionCategory.ModuleFunctions||void 0===this.getLastExpression()||!this.getLastExpression().is(i.ExpressionEntity.Dot))?l.entity===i.ExpressionEntity.Format?void 0!==this.getLastExpression()&&this.getLastExpression().is(i.ExpressionEntity.Dot)?i.ExpressionEntity.Format:i.ExpressionEntity.FormatFunction:h(this,v).length>0&&this.getLastExpression().getEntity()===i.ExpressionEntity.Dot?"exit"===e?i.specialCaseLookup[e].entity:i.ExpressionEntity.MethodName:i.specialCaseLookup.hasOwnProperty(e)?i.specialCaseLookup[e].entity:l.category!==i.ExpressionCategory.BuiltInFunctions&&l.category!==i.ExpressionCategory.BuiltInMethods&&l.category!==i.ExpressionCategory.Unknown&&l.category!==i.ExpressionCategory.ModuleFunctions?l.entity:i.ExpressionEntity.FunctionName:l.entity:l.category===i.ExpressionCategory.OtherKeywords||l.category===i.ExpressionCategory.BlockDefinitions||l.category===i.ExpressionCategory.LogicalOperators||l.category===i.ExpressionCategory.Types||l.category===i.ExpressionCategory.BuiltInExceptions||l.category===i.ExpressionCategory.SpecialVariables?(0!==h(this,v).length||"sep"!==e&&"end"!==e)&&(l.entity!==i.ExpressionEntity.R&&l.entity!==i.ExpressionEntity.F||"'"===t||'"'===t)?l.entity:i.ExpressionEntity.VariableName:l.category===i.ExpressionCategory.BuiltInFunctions&&(0,i.typeLookup)(e).entity!==i.ExpressionEntity.Unknown&&"="!==t?(0,i.typeLookup)(e).entity:h(this,v).length>0&&this.getLastExpression().getEntity()===i.ExpressionEntity.Dot?l.category===i.ExpressionCategory.ModuleProperties?l.entity:i.ExpressionEntity.PropertyName:i.ExpressionEntity.VariableName}function Oe(e){for(var t=e,n=e+1;n<h(this,m).length;n++){var i=r.Character.getCategory(h(this,m).charCodeAt(n));if(i!==r.Character.Digit&&i!==r.Character.Decimal)break;t=n}return h(this,m).substring(e,t+1)}function Se(e){for(;r.Character.getCategory(h(this,m).charCodeAt(e))===r.Character.Space;)e++;return h(this,m).charAt(e)}function De(e){return e===r.Character.Underscore||e===r.Character.Letter}function Me(e,t,n){if(e===r.Character.Minus&&void 0!==this.getLastExpression()&&!n){var o=this.getLastExpression();if(o.isOneOfCategories([i.ExpressionCategory.Identifiers])||o.isOneOfEntities([i.ExpressionEntity.CloseBrace,i.ExpressionEntity.CloseParenthesis,i.ExpressionEntity.CloseSquareBracket]))return!1}for(var s=0,a=0,u=0,l=t;l<h(this,m).length&&(e===r.Character.Digit||e===r.Character.Decimal||e===r.Character.Minus&&l===t);)e===r.Character.Digit?s++:e===r.Character.Decimal?a++:u++,l++,e=r.Character.getCategory(h(this,m).charCodeAt(l));return s>=1&&a<=1&&u<=1}function Ce(e){return e===r.Character.Equals||e===r.Character.Exclamation||e===r.Character.Minus||e===r.Character.Plus||e===r.Character.Asterisk||e===r.Character.ForwardSlash||e===r.Character.Modulo||e===r.Character.GreaterThan||e===r.Character.LessThan}function Le(e,t){return!(h(this,v).length>0&&h(this,v)[h(this,v).length-1].is(i.ExpressionEntity.AssignmentOperator))&&(r.Character.getCategory(h(this,m).charCodeAt(t+1))===e&&r.Character.getCategory(h(this,m).charCodeAt(t+2))===e)}n.Line=se},{"./character.js":2,"./expression.js":8,"./identifiers.js":9}],11:[function(e,t,n){"use strict";function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function a(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"get");return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,n)}Object.defineProperty(n,"__esModule",{value:!0}),n.TypeChangeObserverNotifier=void 0;var u=new WeakMap,l=new WeakMap,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u,{writable:!0,value:new Set}),s(this,l,{writable:!0,value:new Set})}var t,n,r;return t=e,n=[{key:"addObserver",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;a(this,u).add(t),t instanceof e&&void 0!==n&&t.typeUpdateReceived(n)}},{key:"sendUpdate",value:function(t){var n,r=i(a(this,u));try{for(r.s();!(n=r.n()).done;){var o=n.value;o instanceof e&&o.typeUpdateReceived(t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"typeUpdateReceived",value:function(e){}}],n&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();n.TypeChangeObserverNotifier=c},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.symptomInfo=n.parse=n.misconceptionInfo=void 0;var i=e("./doc-model/docinfo.js"),r=e("./problem-finder/misconception.js"),o=e("./problem-finder/symptom.js"),s=function(e,t){return e.getLineNumber()===t.getLineNumber()&&e.getID()===t.getID()?0:e.getLineNumber()<t.getLineNumber()||e.getLineNumber()===t.getLineNumber()&&e.getID()<t.getID()?-1:1};n.parse=function(e){var t=new i.DocInfo(e),n=t.getSymptoms().sort(s).map((function(e){return e.toJSON()})),r=Array.from(t.getVariables().values()).flat().map((function(e){return e.toJSON()})),o=Array.from(t.getUserDefinedFunctions().values()).map((function(e){return e.toJSON()}));t.getMisconceptions();return{misconceptions:Array.from(t.getMisconceptions().values()).map((function(e){return e.toJSON()})),symptoms:n,blocks:t.getBlocks().toJSON(),variables:r,functions:o}};n.symptomInfo=function(){var e={};for(var t in o.SymptomType)e[o.SymptomType[t].name]=o.SymptomType[t].description;return e};n.misconceptionInfo=function(){var e={};for(var t in r.MisconceptionType)e[r.MisconceptionType[t].name]=r.MisconceptionType[t].description;return e}},{"./doc-model/docinfo.js":5,"./problem-finder/misconception.js":13,"./problem-finder/symptom.js":14}],13:[function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.identifyMisconceptions=n.Reason=n.MisconceptionType=n.MisconceptionOccurrence=n.Misconception=void 0;var r,o=(r=e("../doc-model/enum.js"))&&r.__esModule?r:{default:r},s=e("../doc-model/expression.js"),a=e("../utils/constants.js"),u=e("./symptom.js");e("../doc-model/identifiers.js");function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function m(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,v(e,t,"get"))}function x(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,v(e,t,"set"),n),n}function v(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function w(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function T(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.identifyMisconceptions=function(e,t,n){var i,r=new Map,o=b(V);try{for(o.s();!(i=o.n()).done;){var s=I(i.value,2),a=s[0],u=(0,s[1])(e,t,n);u.length>0&&r.set(a,M.create(a,u))}}catch(e){o.e(e)}finally{o.f()}return r};var O=new WeakMap,S=new WeakMap,D=new WeakMap,M=function(){function e(t,n){d(this,e),E(this,O,{writable:!0,value:void 0}),E(this,S,{writable:!0,value:void 0}),E(this,D,{writable:!0,value:void 0}),x(this,O,t.name),x(this,S,t.description),x(this,D,n)}return g(e,[{key:"addOccurrence",value:function(e){m(this,D).push(e)}},{key:"toJSON",value:function(){return{type:m(this,O),description:m(this,S),occurrences:m(this,D).map((function(e){return e.toJSON()}))}}}],[{key:"create",value:function(t,n){return new e(t,n)}}]),e}();n.Misconception=M;var C=new WeakMap,L=new WeakMap,N=new WeakMap,F=function(){function e(t,n,i){d(this,e),E(this,C,{writable:!0,value:void 0}),E(this,L,{writable:!0,value:void 0}),E(this,N,{writable:!0,value:void 0}),x(this,C,t),x(this,L,n),x(this,N,i)}return g(e,[{key:"getLineNumber",value:function(){return m(this,C)}},{key:"getDocIndex",value:function(){return m(this,L)}},{key:"getReason",value:function(){return m(this,N)}},{key:"toJSON",value:function(){return{line:m(this,C),docIndex:m(this,L),reason:m(this,N).toJSON()}}}]),e}();n.MisconceptionOccurrence=F;var B=new WeakMap,A=new WeakMap,P=function(){function e(t,n){d(this,e),E(this,B,{writable:!0,value:void 0}),E(this,A,{writable:!0,value:void 0}),x(this,B,t),x(this,A,n)}return g(e,[{key:"toJSON",value:function(){return{contributingSymptoms:m(this,B).map((function(e){return e.toJSON()})),explanation:m(this,A)}}}]),e}();n.Reason=P;var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(n,e);var t=c(n);function n(e,i){var r;return d(this,n),y(p(r=t.call(this,e)),"description",void 0),r.description=i,r}return g(n)}(o.default);n.MisconceptionType=R,y(R,"AssignCompares",new R("AssignCompares","A single equals is used where a boolean expression is expected, e.g. in a conditional statement. This may be a typo or confusion between single and double equals operators.")),y(R,"ColonAssigns",new R("ColonAssigns","A colon is used between a variable name and a value. This may be a typo.")),y(R,"CompareMultipleValuesWithOr",new R("CompareMultipleValuesWithOr","A boolean expression has the form a == some_value or other_value, where other_value is non-boolean. There is likely a misunderstanding of the syntax of comparing multiple values.")),y(R,"ComparisonWithBoolLiteral",new R("ComparisonWithBoolLiteral",'A boolean expression contains "== True" or "== False". The programmer may believe that explicitly checking equality is always necessary in a boolean expression.')),y(R,"DeferredReturn",new R("DeferredReturn","Code follows a return statement in a function. The programmer may not realise that a return statement causes the function to exit immediately.")),y(R,"ForLoopVarIsLocal",new R("ForLoopVarIsLocal","An iterating variable in a for loop overwrites a variable declared before the loop and the value is different from the overwritten value, or the values cannot be determined. This potential misconception is similar to IteratorInitialisedOutsideLoop.")),y(R,"FunctionCallsNoParentheses",new R("FunctionCallsNoParentheses","An undefined variable has the same name as a function. There may be a misunderstanding about how to call a function. Caution: functions in Python are first class objects, so it is possible that use of the function name without parentheses is intended and there is no misconception.")),y(R,"FunctionCallsUseSquareBrackets",new R("FunctionCallsUseSquareBrackets","The name of a function is called followed by square brackets rather than parentheses. The programmer may not be aware of when to use which type of bracket.")),y(R,"IterationRequiresTwoLoops",new R("IterationRequiresTwoLoops","A while loop with an integer loop variable contains a nested for loop. The while loop variable is only modified in the nested for loop and is used to count items in the variable iterated in the for loop. The two nested loops could be replaced with a single for loop using enumerate() or range().")),y(R,"IteratorInitialisedOutsideLoop",new R("IteratorInitialisedOutsideLoop","The iterating variable in a for loop is initialised before the loop with the same value. The programmer may not know that the iterating variable is initialised in the for loop definition.")),y(R,"LocalVariablesAreGlobal",new R("LocalVariablesAreGlobal","An undefined variable in document scope has the same name as a variable with function scope. This may indicate a misunderstanding of variable scope.")),y(R,"LoopCounter",new R("LoopCounter","A for loop iterator variable is modified in the loop and the modified variable is not used, or a while loop counter is assigned an int literal rather than incremented, or assigned the result of a function call. This may indicate confusion over how loops use loop variables.")),y(R,"MapToBooleanWithIf",new R("MapToBooleanWithIf","A conditional statement checks a boolean expression only to return or assign a value that matches the value of the boolean expression. The programmer may not realise that a boolean expression can be assigned or returned directly.")),y(R,"MapToBooleanWithTernaryOperator",new R("MapToBooleanWithTernaryOperator","A ternary checks a boolean expression only to return or assign a value that matches the value of the boolean expression. The programmer may not realise that a boolean expression can be assigned or returned directly.")),y(R,"NoKeyword",new R("NoKeyword","A block definition keyword (e.g. def, if, while) is missing where one is expected. The programmer may not realise that the keyword is required.")),y(R,"NoReservedWords",new R("NoReservedWords","Any string that meets naming character constraints can be used as an identifier (name of a variable, function, method, or class).")),y(R,"ParameterMustBeAssignedInFunction",new R("ParameterMustBeAssignedInFunction","A user defined function has named parameter but the parameter value is overwritten in the function before it is used e.g. by prompting for command line input. This indicates potential misconceptions about the purpose or use of function parameters.")),y(R,"ParenthesesOnlyIfArgument",new R("ParenthesesOnlyIfArgument","An undefined variable has the same name as a user-defined function with no arguments. There may be a misunderstanding of the syntax of function calls.")),y(R,"PrintSameAsReturn",new R("PrintSameAsReturn","A call to a function that prints but does not return (including the print() function) is assigned or passed, or a call to a function that prints before returning a value is not assigned or passed. There may be confusion about printing a value versus returning a value.")),y(R,"ReturnCall",new R("ReturnCall","Function return values are surrounded by parentheses. There may be a belief that return needs to be called like a function.")),y(R,"SequentialIfsAreExclusive",new R("SequentialIfsAreExclusive","If statements with very similar conditional statements appear in a sequence. There may be a belief that subsequent if statements will only execute if the previous condition does not. Alternatively, the programmer may not be aware of the efficiency drawbacks of using sequential if statements where a multiway conditional would be more appropriate.")),y(R,"StringMethodsModifyTheString",new R("StringMethodsModifyTheString","A string method is called but the result is not saved or passed. There may be an assumption that string methods mutate the string.")),y(R,"TypeConversionModifiesArgument",new R("TypeConversionModifiesArgument","A type conversion function (e.g. int(), float()) is called but the return value is not saved or used.")),y(R,"TypeMustBeSpecified",new R("TypeMustBeSpecified","A value that is guaranteed to have a particular data type is passed to a type conversion function that returns the same data type. In the case of literals, there may be a belief that type must be specified as in strongly typed languages. In other cases, there may be a misunderstanding or lack of confidence in how Python dynamically determines type.")),y(R,"WhileSameAsIf",new R("WhileSameAsIf","A while loop does not modify any of its loop variables and may also always exit during the first iteration. Where this behaviour is intentional, the while definition would be better replaced with an if statement. Where the loop does not exit, there is a risk of an infinite loop."));var V=new Map([[R.PrintSameAsReturn,function(e){var t,n=e.filter((function(e){return e.getID()===u.SymptomType.AssignedNone.name})),i=e.filter((function(e){return e.getID()===u.SymptomType.FunctionPrints.name})),r=e.filter((function(e){return e.getID()===u.SymptomType.UnusedReturn.name&&e.getAdditionalInfo().expression.is(s.ExpressionEntity.FunctionName)})),o=[],l=b(n);try{for(l.s();!(t=l.n()).done;){var c=t.value,p=c.toJSON();if(p.expressionNoValue.type===a.USER_DEFINED_FUNCTION)!function(){var e=p.expressionNoValue.value,t=i.filter((function(t){return t.getAffectedText()===e}));if(t.length>0){var n=new P([c].concat(w(t)),"User-defined function ".concat(e," prints to the console but does not return a value."));o.push(new F(c.getLineNumber(),c.getDocIndex(),n))}}();else if(p.expressionNoValue.type===a.BUILT_IN_FUNCTION&&"print"===p.expressionNoValue.value){var h=new P([c],"The print function does not return a value but it is used as if it does.");o.push(new F(c.getLineNumber(),c.getDocIndex(),h))}}}catch(e){l.e(e)}finally{l.f()}var y,d=b(r);try{var f=function(){var e=y.value,t=e.toJSON().unusedFunc.value,n=i.filter((function(e){return e.getAffectedText()===t}));if(n.length>0){var r=new P([e].concat(w(n)),"User-defined function ".concat(t," prints to the console and returns a value but the value is not used."));o.push(new F(e.getLineNumber(),e.getDocIndex(),r))}};for(d.s();!(y=d.n()).done;)f()}catch(e){d.e(e)}finally{d.f()}return o}],[R.MapToBooleanWithIf,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.OneLineConditional.name})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.toJSON();if(o.form===a.VALUE_RETURNED){var s=new P([r],"Conditional returns a boolean literal that matches the value of the boolean expression in the if statement. The whole conditional could be replaced with a single line.");n.push(new F(r.getLineNumber(),r.getDocIndex(),s))}else if(o.form===a.VALUE_ASSIGNED){var l=new P([r],"The variable ".concat(o.variableAssigned," is assigned a boolean literal that matches the value of the boolean expression in the if statement. The whole conditional could be replaced with a single line."));n.push(new F(r.getLineNumber(),r.getDocIndex(),l))}}}catch(e){i.e(e)}finally{i.f()}return n}],[R.ComparisonWithBoolLiteral,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.CompareBoolLiteral.name})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.toJSON();if(o.boolLiteral===a.TRUE){var s=new P([r],"".concat(o.boolValue," is a boolean value so ").concat(o.operator," ").concat(o.boolLiteral," is redundant."));n.push(new F(r.getLineNumber(),r.getDocIndex(),s))}else{var l=new P([r],"".concat(o.boolValue," is a boolean value so the expression can be rewritten as not ").concat(o.boolValue,"."));n.push(new F(r.getLineNumber(),r.getDocIndex(),l))}}}catch(e){i.e(e)}finally{i.f()}return n}],[R.DeferredReturn,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.UnreachableExit.name&&e.getAdditionalInfo().exitKeyword===a.RETURN_KEYWORD})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.toJSON(),s=new P([r],"The user-defined function, ".concat(o.functionName,", contains code after the return statement."));n.push(new F(r.getLineNumber(),r.getDocIndex(),s))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.TypeMustBeSpecified,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.TypeUnnecessary.name})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.toJSON(),s=void 0;void 0!==(s=o.argType===a.STRING&&o.convertedType===a.LIST?new P([r],"A string value, ".concat(o.convertedValue,", is converted to a list which may not be necessary. The programmer may not realise that much of the functionality provided by a list is also available to strings.")):new P([r],"".concat(o.convertedValue," is guaranteed to be a ").concat(o.argType," so there is no need to convert it to ").concat(o.convertedType,".")))&&n.push(new F(r.getLineNumber(),r.getDocIndex(),s))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.CompareMultipleValuesWithOr,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.NaturalLanguageBoolean.name})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=new P([r],"A non-boolean value is used where a boolean expression is expected.");n.push(new F(r.getLineNumber(),r.getDocIndex(),o))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.ParenthesesOnlyIfArgument,function(e){var t=e.filter((function(e){return e.getID()===u.SymptomType.UndefinedVariable.name})),n=e.filter((function(e){return e.getID()===u.SymptomType.VariableWithSameNameAsFunction.name&&e.getAdditionalInfo().funcType===a.USER_DEFINED_FUNCTION&&0===e.getAdditionalInfo().numArgsExpected})),i=[];if(0===n.length)return i;var r,o=b(t);try{for(o.s();!(r=o.n()).done;){var s,l=r.value,c=l.getAffectedText(),p=l.getDocIndex(),h=b(n);try{for(h.s();!(s=h.n()).done;){var y=s.value;if(y.getAffectedText()===c&&y.getDocIndex()===p){var d=new P([l,y],"The variable ".concat(c," has not been assigned a value and the file contains a user-defined function of the same name that does not expect any arguments."));i.push(new F(l.getLineNumber(),l.getDocIndex(),d))}}}catch(e){h.e(e)}finally{h.f()}}}catch(e){o.e(e)}finally{o.f()}return i}],[R.FunctionCallsUseSquareBrackets,function(e){var t,n=e.filter((function(e){return e.getID()===u.SymptomType.SubscriptedNonSubscriptable.name})),i=e.filter((function(e){return e.getID()===u.SymptomType.VariableWithSameNameAsFunction.name})),r=[],o=b(n);try{for(o.s();!(t=o.n()).done;){var s,a=t.value,l=a.getAdditionalInfo().varName,c=a.getDocIndex(),p=b(i);try{for(p.s();!(s=p.n()).done;){var h=s.value;if(h.getAffectedText()===l&&h.getDocIndex()===c){var y=a.getAdditionalInfo().isUndefined?"undefined variable":"unknown data type"===a.getAdditionalInfo().subscriptedType?"variable with unknown data type":"variable with ".concat(a.getAdditionalInfo().subscriptedType," data type"),d=new P([a,h],"".concat(l," (").concat(y,") has the same name as a function. ").concat(l," is subscripted, suggesting a mistake may have been made while calling a function of the same name. It is possible there is confusion about when to use square brackets versus parentheses."));r.push(new F(a.getLineNumber(),a.getDocIndex(),d))}}}catch(e){p.e(e)}finally{p.f()}}}catch(e){o.e(e)}finally{o.f()}return r}],[R.FunctionCallsNoParentheses,function(e){var t=e.filter((function(e){return e.getID()===u.SymptomType.UndefinedVariable.name})),n=e.filter((function(e){return e.getID()===u.SymptomType.SubscriptedNonSubscriptable.name})),i=e.filter((function(e){return e.getID()===u.SymptomType.VariableWithSameNameAsFunction.name&&(e.getAdditionalInfo().funcType===a.BUILT_IN_FUNCTION||e.getAdditionalInfo().funcType===a.USER_DEFINED_FUNCTION&&e.getAdditionalInfo().numArgsExpected>0)})),r=[];if(0===i.length||0===t.length)return r;var o,s=b(t);try{var l=function(){var e,t=o.value,s=t.getAffectedText(),a=t.getDocIndex(),u=b(i);try{for(u.s();!(e=u.n()).done;){var l=e.value;if(l.getAffectedText()===s&&l.getDocIndex()===a)if(0===n.filter((function(e){return e.getAdditionalInfo().varName===s&&e.getDocIndex()===a})).length){var c=new P([t,l],"The variable ".concat(s," has not been assigned a value and the file contains a user-defined function of the same name."));r.push(new F(t.getLineNumber(),t.getDocIndex(),c))}}}catch(e){u.e(e)}finally{u.f()}};for(s.s();!(o=s.n()).done;)l()}catch(e){s.e(e)}finally{s.f()}return r}],[R.AssignCompares,function(e){return e.filter((function(e){return e.getID()===u.SymptomType.AssignmentInBoolean.name})).map((function(e){return new F(e.getLineNumber(),e.getDocIndex(),new P([e],"A single equals operator is used in a boolean expression where a double equals operator might be expected."))}))}],[R.ReturnCall,function(e){var t=e.filter((function(e){return e.getID()===u.SymptomType.ReturnInParentheses.name}));return t.map((function(e){return new F(e.getLineNumber(),e.getDocIndex(),new P([e],"The function returns a ".concat((t=e.getAdditionalInfo().contents)===a.FUNCTION_CALL?"function call":t===a.COMPOUND_TYPE_DEFINITION?"compound type (e.g. list, set)":t===a.COMPOUND_EXPRESSION?"compound expression":t," wrapped in parentheses. The parentheses are unnecessary.")));var t}))}],[R.SequentialIfsAreExclusive,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.SequentialIfs.name&&e.getAdditionalInfo().branchMatches.length>0})));try{for(i.s();!(t=i.n()).done;){var r,o=t.value,s=b(o.getAdditionalInfo().branchMatches);try{for(s.s();!(r=s.n()).done;){var a=r.value,l=a.map((function(e){return e.lineNum+1})).join(", "),c=l.lastIndexOf(",");l=l.substring(0,c)+" and"+l.substring(c+1);var p,h=b(a);try{for(h.s();!(p=h.n()).done;){var y=p.value;n.push(new F(y.lineNum,y.docIndex,new P([o],"The if statement is part of a sequence of if statements (lines ".concat(l,") that have very similar boolean expressions."))))}}catch(e){h.e(e)}finally{h.f()}}}catch(e){s.e(e)}finally{s.f()}}}catch(e){i.e(e)}finally{i.f()}return n}],[R.WhileSameAsIf,function(e){var t,n=e.filter((function(e){return e.getID()===u.SymptomType.LoopVarNotModified.name})),i=e.filter((function(e){return e.getID()===u.SymptomType.WhileTrue.name})),r=e.filter((function(e){return e.getID()===u.SymptomType.LoopReturn.name})),o=[],s=b(n);try{var a=function(){var e=t.value,n=r.filter((function(t){return t.getBlock()===e.getBlock()}));if(n.length>0){var i=new P([e].concat(w(n)),"No while loop variables are modified (excluding modifications in any nested loops) and the loop always exits on the first iteration.");o.push(new F(e.getLineNumber(),e.getDocIndex(),i))}};for(s.s();!(t=s.n()).done;)a()}catch(e){s.e(e)}finally{s.f()}var l,c=b(i);try{var p=function(){var e=l.value,t=r.filter((function(t){return t.getBlock()===e.getBlock()}));if(t.length>0){var n=new P([e].concat(w(t)),'A "while True" loop always exits on the first iteration and therefore behaves as an if statement. Caution: the intention here may be to continue iteration, in which case the misconception lies elsewhere.');o.push(new F(e.getLineNumber(),e.getDocIndex(),n))}};for(c.s();!(l=c.n()).done;)p()}catch(e){c.e(e)}finally{c.f()}return o}],[R.IterationRequiresTwoLoops,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.LoopVarModifiedInChildLoop.name&&"for"===e.getAdditionalInfo().modifiedIn.loopType&&1===e.getAdditionalInfo().varDataType.length&&"int"===e.getAdditionalInfo().varDataType[0]})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=new P([r],"The int variable ".concat(r.getAffectedText()," is referenced in a while loop condition but only modified in a nested for loop. If ").concat(r.getAffectedText()," is being used to count the iterated items, the two loops could be replaced with a single for loop using enumerate() or range() to count the items."));n.push(new F(r.getLineNumber(),r.getDocIndex(),o))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.StringMethodsModifyTheString,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.UnusedReturn.name&&e.getAdditionalInfo().expression.is(s.ExpressionCategory.BuiltInMethods)&&s.stringMethodsLookup.has(e.getAdditionalInfo().expression.getEntity())})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=new P([r],"A String method, ".concat(r.getAdditionalInfo().expression.getValue(),", that returns a new string is called but the return value is not assigned or passed."));n.push(new F(r.getLineNumber(),r.getDocIndex(),o))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.TypeConversionModifiesArgument,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.UnusedReturn.name&&e.getAdditionalInfo().expression.isOneOfEntities([s.ExpressionEntity.StrFunction,s.ExpressionEntity.IntFunction,s.ExpressionEntity.FloatFunction,s.ExpressionEntity.BoolFunction,s.ExpressionEntity.ListFunction,s.ExpressionEntity.TupleFunction,s.ExpressionEntity.SetFunction])})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=new P([r],"".concat(r.getAdditionalInfo().expression.getValue(),"() is called but the converted value returned by the function is not saved or passed."));n.push(new F(r.getLineNumber(),r.getDocIndex(),o))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.MapToBooleanWithTernaryOperator,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.TernaryReturnsBool.name})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=new P([r],"Ternary returns a boolean literal that matches the value of the boolean expression in the ternary. The ternary could be replaced with the boolean expression alone.");n.push(new F(r.getLineNumber(),r.getDocIndex(),o))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.NoReservedWords,function(e){var t,n=e.filter((function(e){return e.getID()===u.SymptomType.DefinitionFollowedByReservedWord.name})),i=e.filter((function(e){return e.getID()===u.SymptomType.ReservedWordAssigned.name})),r=[],o=b(n);try{for(o.s();!(t=o.n()).done;){var s=t.value,a=new P([s],"The reserved word, ".concat(s.getAdditionalInfo().reservedWord,", follows the ").concat(s.getAdditionalInfo().definitionType,"."));r.push(new F(s.getLineNumber(),s.getDocIndex(),a))}}catch(e){o.e(e)}finally{o.f()}var l,c=b(i);try{for(c.s();!(l=c.n()).done;){var p=l.value,h=new P([p],"The reserved word, ".concat(p.getAffectedText(),", is followed by the assignment operator."));r.push(new F(p.getLineNumber(),p.getDocIndex(),h))}}catch(e){c.e(e)}finally{c.f()}return r}],[R.ParameterMustBeAssignedInFunction,function(e){var t,n=new Set(e.filter((function(e){return e.getID()===u.SymptomType.AssignmentInReturn.name})).map((function(e){return e.getLineNumber()}))),i=[],r=b(e.filter((function(e){return e.getID()===u.SymptomType.OverwrittenVariable.name&&e.getAdditionalInfo().isParameter&&e.getAdditionalInfo().prevUsageIsDefinition&&!n.has(e.getLineNumber())})));try{for(r.s();!(t=r.n()).done;){var o=t.value,s=new P([o],"The parameter ".concat(o.getAffectedText()," is overwritten before use."));i.push(new F(o.getLineNumber(),o.getDocIndex(),s))}}catch(e){r.e(e)}finally{r.f()}return i}],[R.LocalVariablesAreGlobal,function(e,t){var n,i=[],r=b(e.filter((function(e){return e.getID()===u.SymptomType.UndefinedVariable.name&&e.getAdditionalInfo().variable.getScope().getBlockEntity()===s.ExpressionEntity.DocumentDefinition})));try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o.getAdditionalInfo().variable.getName(),l=t.get(a).filter((function(e){return e.getScope().getBlockEntity()!==s.ExpressionEntity.DocumentDefinition}));if(l.length>0){var c=new P([o],"The undefined variable ".concat(o.getAffectedText()," has global scope. The document contains ").concat(l.length," other ").concat(1===l.length?"variable":"variables"," with the same name in function scope."));i.push(new F(o.getLineNumber(),o.getDocIndex(),c))}}}catch(e){r.e(e)}finally{r.f()}return i}],[R.IteratorInitialisedOutsideLoop,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.OverwrittenVariable.name&&e.getAdditionalInfo().overwriteType===a.FOR_LOOP_VAR&&e.getAdditionalInfo().overwriteValue===a.SAME_VALUE})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=new P([r],"The iterating variable ".concat(r.getAffectedText()," is initialised before the loop with the same value that it is initialised with in the for loop definition."));n.push(new F(r.getLineNumber(),r.getDocIndex(),o))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.ForLoopVarIsLocal,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.OverwrittenVariable.name&&e.getAdditionalInfo().overwriteType===a.FOR_LOOP_VAR&&e.getAdditionalInfo().overwriteValue!==a.SAME_VALUE})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=new P([r],"The iterating variable ".concat(r.getAffectedText()," is initialised before the loop. ").concat(r.getAdditionalInfo().overwriteValue===a.DIFFERENT_VALUE?"The overwritten value is different from the value initialised by the loop":"It could not be determined if the overwritten value is the same as the value initialised by the loop","."));n.push(new F(r.getLineNumber(),r.getDocIndex(),o))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.LoopCounter,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.ForLoopIteratorModified.name||e.getID()===u.SymptomType.WhileLoopVarAssignedIntLiteral.name})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o="";o=r.getID()===u.SymptomType.ForLoopIteratorModified.name?"The for loop iterator variable ".concat(r.getAffectedText()," is modified in the loop."):"The while loop variable ".concat(r.getAffectedText()," is assigned a literal int value.");var s=new P([r],o);n.push(new F(r.getLineNumber(),r.getDocIndex(),s))}}catch(e){i.e(e)}finally{i.f()}return n}],[R.NoKeyword,function(e){var t,n=e.filter((function(e){return e.getID()===u.SymptomType.UnexpectedColon.name&&e.getAdditionalInfo().after.type===a.EMPTY&&(e.getAdditionalInfo().before.type===s.ExpressionEntity.FunctionName.name||e.getAdditionalInfo().before.type===a.BOOLEAN_EXPRESSION)})),i=e.filter((function(e){return e.getID()===u.SymptomType.UnknownFunction.name})),r=[],o=b(n);try{var l=function(){var e=t.value;if(e.getAdditionalInfo().before.type===s.ExpressionEntity.FunctionName.name){var n=i.filter((function(t){return t.getAffectedText()===e.getAdditionalInfo().before.value}));if(n.length>0){var o=new P([e,n[0]],"The unexpected colon is preceded by a call to unknown function, ".concat(n[0].getAffectedText(),". It is possible the intention was to declare a function but the def keyword has been omitted."));r.push(new F(e.getLineNumber(),e.getDocIndex(),o))}}else if(e.getAdditionalInfo().before.type===a.BOOLEAN_EXPRESSION){var u=new P([e],"The unexpected colon is preceded by a Boolean expression. It is possible the intention was to declare a while, if, or elif but the keyword was omitted.");r.push(new F(e.getLineNumber(),e.getDocIndex(),u))}};for(o.s();!(t=o.n()).done;)l()}catch(e){o.e(e)}finally{o.f()}return r}],[R.ColonAssigns,function(e){var t,n=[],i=b(e.filter((function(e){return e.getID()===u.SymptomType.UnexpectedColon.name&&e.getAdditionalInfo().after.type!==a.EMPTY&&e.getAdditionalInfo().before.type===s.ExpressionEntity.VariableName.name})));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=new P([r],"The unexpected colon is preceded by a variable name and followed by a value. The intention may be to assign the value to the named variable.");n.push(new F(r.getLineNumber(),r.getDocIndex(),o))}}catch(e){i.e(e)}finally{i.f()}return n}]])},{"../doc-model/enum.js":6,"../doc-model/expression.js":8,"../doc-model/identifiers.js":9,"../utils/constants.js":15,"./symptom.js":14}],14:[function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.SymptomVariableWithSameNameAsFunction=n.SymptomUnusedReturn=n.SymptomUnreachableLoop=n.SymptomUnreachableExit=n.SymptomUnexpectedColon=n.SymptomUndefinedVariable=n.SymptomTypeUnnecessary=n.SymptomTypeInvalid=n.SymptomType=n.SymptomTernaryReturnsBool=n.SymptomSubscriptedNonSubscriptable=n.SymptomSequentialIfs=n.SymptomReturnInParentheses=n.SymptomOverwrittenVariable=n.SymptomOneLineConditional=n.SymptomNaturalLanguageBoolean=n.SymptomLoopVarNotUsed=n.SymptomLoopVarModifiedInChildLoop=n.SymptomFunctionPrints=n.SymptomDefinitionFollowedByReservedWord=n.SymptomCompareBoolLiteral=n.SymptomAssignmentInReturn=n.SymptomAssignedNoReturn=n.Symptom=void 0;var r,o=(r=e("../doc-model/enum.js"))&&r.__esModule?r:{default:r},s=e("../doc-model/expression.js"),a=e("../utils/constants.js");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},l.apply(this,arguments)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function E(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function x(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,w(e,t,"get"))}function v(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,w(e,t,"set"),n),n}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var I=new WeakMap,b=new WeakMap,T=new WeakMap,k=new WeakMap,O=new WeakMap,S=new WeakMap,D=new WeakMap,M=function(){function e(t,n,i,r,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};f(this,e),m(this,I,{writable:!0,value:void 0}),m(this,b,{writable:!0,value:void 0}),m(this,T,{writable:!0,value:void 0}),m(this,k,{writable:!0,value:void 0}),m(this,O,{writable:!0,value:void 0}),m(this,S,{writable:!0,value:void 0}),m(this,D,{writable:!0,value:void 0}),v(this,I,t),v(this,b,n),v(this,T,i),v(this,k,r),v(this,O,o),v(this,S,s),v(this,D,a)}return E(e,[{key:"getID",value:function(){return x(this,I)}},{key:"getLineNumber",value:function(){return x(this,b)}},{key:"getBlock",value:function(){return x(this,T)}},{key:"getDocIndex",value:function(){return x(this,k)}},{key:"getLineIndex",value:function(){return x(this,O)}},{key:"getAffectedText",value:function(){return x(this,S)}},{key:"getAdditionalInfo",value:function(){return x(this,D)}},{key:"toString",value:function(){return"{line: ".concat(x(this,b),", type: ").concat(x(this,I),", text: ").concat(x(this,S),", docIndex: ").concat(x(this,k),", lineIndex: ").concat(x(this,O))}},{key:"toJSON",value:function(){return{line:x(this,b),type:x(this,I),text:x(this,S),block:x(this,T),docIndex:x(this,k),lineIndex:x(this,O)}}}],[{key:"create",value:function(t,n,i,r,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};switch(t){case Z.AssignedNone:return new C(t.name,n,i,r,o,s,a);case Z.AssignmentInReturn:return new L(t.name,n,i,r,o,s,a);case Z.CompareBoolLiteral:return new N(t.name,n,i,r,o,s,a);case Z.DefinitionFollowedByReservedWord:return new F(t.name,n,i,r,o,s,a);case Z.FunctionPrints:return new B(t.name,n,i,r,o,s,a);case Z.LoopVarModifiedInChildLoop:return new A(t.name,n,i,r,o,s,a);case Z.LoopVarNotModified:return new P(t.name,n,i,r,o,s,a);case Z.NaturalLanguageBoolean:return new R(t.name,n,i,r,o,s,a);case Z.OneLineConditional:return new V(t.name,n,i,r,o,s,a);case Z.OverwrittenVariable:return new U(t.name,n,i,r,o,s,a);case Z.ReturnInParentheses:return new _(t.name,n,i,r,o,s,a);case Z.SequentialIfs:return new W(t.name,n,i,r,o,s,a);case Z.SubscriptedNonSubscriptable:return new j(t.name,n,i,r,o,s,a);case Z.TernaryReturnsBool:return new K(t.name,n,i,r,o,s,a);case Z.TypeErrorInvalid:return new G(t.name,n,i,r,o,s,a);case Z.TypeUnnecessary:return new q(t.name,n,i,r,o,s,a);case Z.UnexpectedColon:return new J(t.name,n,i,r,o,s,a);case Z.UnreachableExit:return new z(t.name,n,i,r,o,s,a);case Z.UnreachableInfiniteLoop:return new X(t.name,n,i,r,o,s,a);case Z.UndefinedVariable:return new H(t.name,n,i,r,o,s,a);case Z.UnusedReturn:return new Y(t.name,n,i,r,o,s,a);case Z.VariableWithSameNameAsFunction:return new Q(t.name,n,i,r,o,s,a);default:return new e(t.name,n,i,r,o,s,a)}}}]),e}();n.Symptom=M;var C=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();if(t.hasOwnProperty("expression")){var i=t.expression.getCategory().name;t.expression.getCategory()===s.ExpressionCategory.Identifiers?t.expression.getEntity()===s.ExpressionEntity.FunctionName?i=a.USER_DEFINED_FUNCTION:t.expression.getEntity()===s.ExpressionEntity.VariableName&&(i=a.USER_DEFINED_VARIABLE):t.expression.getCategory()===s.ExpressionCategory.BuiltInFunctions&&(i=a.BUILT_IN_FUNCTION),e.expressionNoValue={type:i,value:t.expression.getValue()}}return e}}]),n}(M);n.SymptomAssignedNoReturn=C;var L=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("assignedVariables")&&(e.assignedVariables=t.assignedVariables),e}}]),n}(M);n.SymptomAssignmentInReturn=L;var N=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("boolValue")&&(e.boolValue=t.boolValue),t.hasOwnProperty("operator")&&(e.operator=t.operator),t.hasOwnProperty("boolLiteral")&&(e.boolLiteral=t.boolLiteral),e}}]),n}(M);n.SymptomCompareBoolLiteral=N;var F=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("definitionType")&&(e.boolValue=t.definitionType),t.hasOwnProperty("reservedWord")&&(e.reservedWord=t.reservedWord),e}}]),n}(M);n.SymptomDefinitionFollowedByReservedWord=F;var B=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("printLines")&&(e.printLines=t.printLines),t.hasOwnProperty("functionReturns")&&(e.functionReturns=t.functionReturns),e}}]),n}(M);n.SymptomFunctionPrints=B;var A=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("modifiedIn")&&(e.modifiedIn=t.modifiedIn),t.hasOwnProperty("varDataType")&&(e.varDataType=t.varDataType),e}}]),n}(M);n.SymptomLoopVarModifiedInChildLoop=A;var P=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("unmodifiedVars")&&(e.unmodifiedVars=t.unmodifiedVars),e}}]),n}(M);n.SymptomLoopVarNotUsed=P;var R=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("valueType")&&(e.valueType=t.valueType.map((function(e){return e.name}))),e}}]),n}(M);n.SymptomNaturalLanguageBoolean=R;var V=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("form")&&(e.form=t.form),t.hasOwnProperty("variableAssigned")&&(e.variableAssigned=t.variableAssigned),e}}]),n}(M);n.SymptomOneLineConditional=V;var U=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("isParameter")&&(e.isParameter=t.isParameter),t.hasOwnProperty("prevUsageIsDefinition")&&(e.prevUsageIsDefinition=t.prevUsageIsDefinition),t.hasOwnProperty("overwriteType")&&(e.overwriteType=t.overwriteType),t.hasOwnProperty("overwriteValue")&&(e.overwriteValue=t.overwriteValue),e}}]),n}(M);n.SymptomOverwrittenVariable=U;var _=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("contents")&&(e.contents=t.contents),e}}]),n}(M);n.SymptomReturnInParentheses=_;var W=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("branchMatches")&&(e.branchMatches=t.branchMatches),e}}]),n}(M);n.SymptomSequentialIfs=W;var j=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("isUndefined")&&(e.isUndefined=t.isUndefined),t.hasOwnProperty("subscriptedType")&&(e.subscriptedType=t.subscriptedType.name),t.hasOwnProperty("varName")&&(e.varName=t.varName),e}}]),n}(M);n.SymptomSubscriptedNonSubscriptable=j;var K=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("boolValue")&&(e.boolValue=t.boolValue),t.hasOwnProperty("boolLiteralIfTrue")&&(e.boolLiteralIfTrue=t.boolLiteralIfTrue),t.hasOwnProperty("boolLiteralIfFalse")&&(e.boolLiteralIfFalse=t.boolLiteralIfFalse),e}}]),n}(M);n.SymptomTernaryReturnsBool=K;var G=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("feedback")&&(e.feedback=t.feedback),e}}]),n}(M);n.SymptomTypeInvalid=G;var q=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("convertedValue")&&(e.convertedValue=t.convertedValue),t.hasOwnProperty("argType")&&(e.argType=t.argType),t.hasOwnProperty("convertedType")&&(e.convertedType=t.convertedType),e}}]),n}(M);n.SymptomTypeUnnecessary=q;var H=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("variable")&&(e.variable=t.variable.toJSON()),e}}]),n}(M);n.SymptomUndefinedVariable=H;var J=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("before")&&(e.before=t.before),t.hasOwnProperty("after")&&(e.after=t.after),e}}]),n}(M);n.SymptomUnexpectedColon=J;var z=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("exitKeyword")&&(e.exitKeyword=t.exitKeyword),t.hasOwnProperty("functionName")&&(e.functionName=t.functionName),e}}]),n}(M);n.SymptomUnreachableExit=z;var X=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("infiniteLoopLine")&&(e.infiniteLoopLine=t.infiniteLoopLine),e}}]),n}(M);n.SymptomUnreachableLoop=X;var Y=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();if(t.hasOwnProperty("expression")){var i=t.expression.getCategory().name;t.expression.getEntity()===s.ExpressionEntity.FunctionName?i=a.USER_DEFINED_FUNCTION:t.expression.getCategory()===s.ExpressionCategory.BuiltInFunctions&&(i=a.BUILT_IN_FUNCTION),e.unusedFunc={type:i,value:t.expression.getValue()}}return e}}]),n}(M);n.SymptomUnusedReturn=Y;var Q=function(e){c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return E(n,[{key:"toJSON",value:function(){var e=l(d(n.prototype),"toJSON",this).call(this),t=this.getAdditionalInfo();return t.hasOwnProperty("funcType")&&(e.funcType=t.funcType),t.hasOwnProperty("numArgsExpected")&&(e.numArgsExpected=t.numArgsExpected),e}}]),n}(M);n.SymptomVariableWithSameNameAsFunction=Q;var Z=function(e){c(n,e);var t=h(n);function n(e,i){var r;return f(this,n),u(y(r=t.call(this,e)),"description",void 0),r.description=i,r}return E(n)}(o.default);n.SymptomType=Z,u(Z,"AndOr",new Z("BooleanSyntax.andOr",'A Boolean expression contains "and or".')),u(Z,"AssignmentInBoolean",new Z("BooleanSyntax.assignment","An assignment operator is used in a Boolean expression. This could be a typo or an indication of confusion about = and ==.")),u(Z,"AssignmentInReturn",new Z("AssignmentInReturn","A variable is assigned in a return statement.")),u(Z,"AssignedNone",new Z("AssignedNoReturn","A function or method that does not return a value is assigned to a variable, passed as an argument, or used in some way. Commonly seen with the print() function.")),u(Z,"CompareBoolLiteral",new Z("CompareBoolLiteral","A Boolean expression is compared to a Boolean literal. Although this is not an error, it may indicate a misconception about Boolean values.")),u(Z,"DefinitionFollowedByReservedWord",new Z("DefinitionFollowedByReservedWord","A definition keyword (def or class) is followed by a reserved word, suggesting the intention to define a function or class with the same name as a reserved word.")),u(Z,"DoubleBooleanOperators",new Z("BooleanSyntax.doubleOperators","Two comparison operators are used side by side. This may be due to an extra space e.g. <= is written as < =.")),u(Z,"ForLoopIteratorModified",new Z("ForLoopIteratorModified","A for loop iterator variable is modified in the loop.")),u(Z,"FunctionPrints",new Z("FunctionPrints","A user-defined function contains print statements. This is not an issue unless AssignedNoReturn is also present and print is used in place of return statements.")),u(Z,"InfiniteLoop",new Z("InfiniteLoop","A while loop does not exit.")),u(Z,"LoopReturn",new Z("LoopEarlyExit","A return or break statement causes a loop to always exit on the first iteration.")),u(Z,"LoopVarModifiedInChildLoop",new Z("WhileLoopVarModifiedInChildLoop","A while loops variable is modified in a nested for or while loop.")),u(Z,"LoopVarNotModified",new Z("WhileLoopVarNotModified","None of the variables used in a while loop definition are modified in the body of the while loop. If the while loop contains a nested loop, only usages of the variable in the outer loop are checked.")),u(Z,"NaturalLanguageBoolean",new Z("BooleanSyntax.naturalLanguage","A Boolean expression checking if a particular expression is equal to one of a range of values uses \"or\" in a way that makes sense in natural language but may produce unexpected results in Python. For example, \"day == 'sat' or 'sun'\"")),u(Z,"OneLineConditional",new Z("OneLineConditional","A conditional that could be re-written as one line. Although this is not an error, it may indicate a misconception about Boolean values.")),u(Z,"OutOfPlaceBooleanOperator",new Z("BooleanSyntax.outOfPlace","A comparison or logical operator is used in an expected place in a conditional expression.")),u(Z,"OverwrittenVariable",new Z("VariableOverwrite","A variable's value is initialised or changed then overwritten without being used.")),u(Z,"RedundantException",new Z("RedundantException","A specific exception is caught then immediately raised. Suggests confusion about how to work with exceptions.")),u(Z,"ReservedWordAssigned",new Z("ReservedWordAssigned","A reserved word is followed by the assignment operator, suggesting an intention to create a variable with the same name as a reserved word.")),u(Z,"ReturnInParentheses",new Z("ReturnInParentheses","The return keyword is followed by a value or compound expression in parentheses. May suggest a belief that returned values must be encapsulated in parentheses.")),u(Z,"SequentialIfs",new Z("SequentialIfs","Multiple if statements appear in sequence with no other code between the if blocks. If statements that contain a return or break at the top level are not included. Depending on the contents of the boolean expressions and each block, it may indicate a misconception about how conditionals are evaluated.")),u(Z,"SubscriptedNonSubscriptable",new Z("SubscriptedNonSubscriptable","Square brackets follow a variable name that does not have a subscriptable type (i.e. is not a string, list, tuple, or dictionary)")),u(Z,"TernaryReturnsBool",new Z("TernaryReturnsBool","A ternary returns a boolean. Although this is not an error, it may indicate a misconception about Boolean values.")),u(Z,"TypeErrorInvalid",new Z("TypeError.invalid","Code that produces a TypeError.")),u(Z,"TypeUnnecessary",new Z("TypeError.unnecessary","A value that has a guaranteed data type is passed to a type conversion function that produces the same data type.")),u(Z,"UndefinedVariable",new Z("UndefinedVariable","A variable that was not declared is called. Depending on context, may be due to sloppiness (e.g. a typo) or may suggest misconception about variable scope, function parameters, or how to call functions.")),u(Z,"UnexpectedColon",new Z("UnexpectedColon","A colon is found where it is not expected, indicating either a typo or a misunderstanding of syntax.")),u(Z,"UnknownFunction",new Z("UnknownFunction","A function that is not defined in the file or built in to Python is called. Could be a typo or a misunderstanding about variables.")),u(Z,"UnreachableExhaustiveConditional",new Z("UnreachableCode.exhaustiveConditional","Code that is unreachable because it follows a conditional with an else branch in which all branches return.")),u(Z,"UnreachableExit",new Z("UnreachableCode.exitKeyword","Code that is unreachable because it follows a <code>return</code> or <code>break</code> statement. This might indicate a misconception about how those keywords affect the flow of control.")),u(Z,"UnreachableInfiniteLoop",new Z("UnreachableCode.infiniteLoop",'Code that is unreachable because it follows a loop created using "while True" that never exits.')),u(Z,"UnusedReturn",new Z("UnusedReturn","The result of a call to a function / method that returns a value is not used in some way.")),u(Z,"UnusedValue",new Z("UnusedValue","A value (either a single variable or a compound expression) is created but not assigned to a variable, passed as a function argument, or used in some other way.")),u(Z,"UnusedVariable",new Z("UnusedVariable","A variable is not used after initialisation. May be an oversight but could potentially indicate misconceptions about variables.")),u(Z,"VariableWithSameNameAsFunction",new Z("VariableWithSameNameAsFunction","A variable has the same name as a function.")),u(Z,"WhileLoopVarAssignedIntLiteral",new Z("WhileLoopVarAssignedIntLiteral","A while loop counter variable is assigned an int value rather than incremented.")),u(Z,"WrongArgNumber",new Z("WrongArgNumber","A user-defined function is called with the wrong number of arguments.")),u(Z,"WhileTrue",new Z("WhileTrue","A while loop is defined to iterate forever. This is a valid approach but may be a contributor to misconceptions when combined with other symptoms."))},{"../doc-model/enum.js":6,"../doc-model/expression.js":8,"../utils/constants.js":15}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WHILE_TRUE=n.VARIABLE=n.VALUE_RETURNED=n.VALUE_ASSIGNED=n.USER_DEFINED_VARIABLE=n.USER_DEFINED_FUNCTION=n.UNKNOWN=n.TRUE=n.STRING=n.SKIP=n.SAME_VALUE=n.RETURN_KEYWORD=n.NO_MATCH=n.MATCH_ENTITY=n.MATCH_CATEGORY=n.LITERAL=n.LIST=n.INT=n.FUNCTION_CALL=n.FOR_LOOP_VAR=n.FLOAT=n.FALSE=n.EXHAUSTIVE_CONDITIONAL=n.EXACT_MATCH=n.EMPTY=n.DIFFERENT_VALUE=n.COMPOUND_TYPE_DEFINITION=n.COMPOUND_EXPRESSION=n.BUILT_IN_FUNCTION=n.BREAK_KEYWORD=n.BOOLEAN_EXPRESSION=n.BOOL=n.ASSIGNMENT=void 0;n.USER_DEFINED_FUNCTION="userDefinedFunction";n.USER_DEFINED_VARIABLE="userDefinedVariable";n.BUILT_IN_FUNCTION="builtInFunction";n.VALUE_RETURNED="valueReturned";n.VALUE_ASSIGNED="valueAssigned";n.TRUE="True";n.FALSE="False";n.RETURN_KEYWORD="return";n.BREAK_KEYWORD="break";n.EXHAUSTIVE_CONDITIONAL="exhaustiveConditional";n.WHILE_TRUE="whileTrue";n.INT="int";n.FLOAT="float";n.STRING="string";n.BOOL="bool";n.LIST="list";n.LITERAL="literal";n.FUNCTION_CALL="functionCall";n.VARIABLE="variable";n.COMPOUND_TYPE_DEFINITION="compoundTypeDefinition";n.COMPOUND_EXPRESSION="compoundExpression";n.BOOLEAN_EXPRESSION="booleanExpression";n.EXACT_MATCH="exactMatch";n.MATCH_ENTITY="entityMatch";n.MATCH_CATEGORY="categoryMatch";n.SKIP="skip";n.NO_MATCH="noMatch";n.FOR_LOOP_VAR="forLoopVariable";n.ASSIGNMENT="assignment";n.SAME_VALUE="same";n.DIFFERENT_VALUE="different";n.UNKNOWN="unknown";n.EMPTY="empty"},{}],16:[function(e,t,n){(function(t){(function(){const n=e("./dist/index.js");t.window.misconceptionInfo=n.misconceptionInfo,t.window.symptomInfo=n.symptomInfo,t.window.parse=n.parse}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dist/index.js":12}]},{},[16]);
